var jg=Object.defineProperty;var Tg=(r,e,t)=>e in r?jg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var dr=(r,e,t)=>Tg(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bf={exports:{}},Zu={},_f={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Og(){if($p)return Wt;$p=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),h=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.iterator;function k(K){return K===null||typeof K!="object"?null:(K=S&&K[S]||K["@@iterator"],typeof K=="function"?K:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,L={};function T(K,N,U){this.props=K,this.context=N,this.refs=L,this.updater=U||w}T.prototype.isReactComponent={},T.prototype.setState=function(K,N){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,N,"setState")},T.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function P(){}P.prototype=T.prototype;function z(K,N,U){this.props=K,this.context=N,this.refs=L,this.updater=U||w}var G=z.prototype=new P;G.constructor=z,C(G,T.prototype),G.isPureReactComponent=!0;var H=Array.isArray,de=Object.prototype.hasOwnProperty,be={current:null},we={key:!0,ref:!0,__self:!0,__source:!0};function ae(K,N,U){var J,Q={},ne=null,ue=null;if(N!=null)for(J in N.ref!==void 0&&(ue=N.ref),N.key!==void 0&&(ne=""+N.key),N)de.call(N,J)&&!we.hasOwnProperty(J)&&(Q[J]=N[J]);var me=arguments.length-2;if(me===1)Q.children=U;else if(1<me){for(var _e=Array(me),je=0;je<me;je++)_e[je]=arguments[je+2];Q.children=_e}if(K&&K.defaultProps)for(J in me=K.defaultProps,me)Q[J]===void 0&&(Q[J]=me[J]);return{$$typeof:r,type:K,key:ne,ref:ue,props:Q,_owner:be.current}}function Y(K,N){return{$$typeof:r,type:K.type,key:N,ref:K.ref,props:K.props,_owner:K._owner}}function pe(K){return typeof K=="object"&&K!==null&&K.$$typeof===r}function M(K){var N={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(U){return N[U]})}var $=/\/+/g;function te(K,N){return typeof K=="object"&&K!==null&&K.key!=null?M(""+K.key):N.toString(36)}function ee(K,N,U,J,Q){var ne=typeof K;(ne==="undefined"||ne==="boolean")&&(K=null);var ue=!1;if(K===null)ue=!0;else switch(ne){case"string":case"number":ue=!0;break;case"object":switch(K.$$typeof){case r:case e:ue=!0}}if(ue)return ue=K,Q=Q(ue),K=J===""?"."+te(ue,0):J,H(Q)?(U="",K!=null&&(U=K.replace($,"$&/")+"/"),ee(Q,N,U,"",function(je){return je})):Q!=null&&(pe(Q)&&(Q=Y(Q,U+(!Q.key||ue&&ue.key===Q.key?"":(""+Q.key).replace($,"$&/")+"/")+K)),N.push(Q)),1;if(ue=0,J=J===""?".":J+":",H(K))for(var me=0;me<K.length;me++){ne=K[me];var _e=J+te(ne,me);ue+=ee(ne,N,U,_e,Q)}else if(_e=k(K),typeof _e=="function")for(K=_e.call(K),me=0;!(ne=K.next()).done;)ne=ne.value,_e=J+te(ne,me++),ue+=ee(ne,N,U,_e,Q);else if(ne==="object")throw N=String(K),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return ue}function Se(K,N,U){if(K==null)return K;var J=[],Q=0;return ee(K,J,"","",function(ne){return N.call(U,ne,Q++)}),J}function Ee(K){if(K._status===-1){var N=K._result;N=N(),N.then(function(U){(K._status===0||K._status===-1)&&(K._status=1,K._result=U)},function(U){(K._status===0||K._status===-1)&&(K._status=2,K._result=U)}),K._status===-1&&(K._status=0,K._result=N)}if(K._status===1)return K._result.default;throw K._result}var Ne={current:null},Z={transition:null},he={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Z,ReactCurrentOwner:be};function ke(){throw Error("act(...) is not supported in production builds of React.")}return Wt.Children={map:Se,forEach:function(K,N,U){Se(K,function(){N.apply(this,arguments)},U)},count:function(K){var N=0;return Se(K,function(){N++}),N},toArray:function(K){return Se(K,function(N){return N})||[]},only:function(K){if(!pe(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Wt.Component=T,Wt.Fragment=t,Wt.Profiler=a,Wt.PureComponent=z,Wt.StrictMode=s,Wt.Suspense=f,Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Wt.act=ke,Wt.cloneElement=function(K,N,U){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var J=C({},K.props),Q=K.key,ne=K.ref,ue=K._owner;if(N!=null){if(N.ref!==void 0&&(ne=N.ref,ue=be.current),N.key!==void 0&&(Q=""+N.key),K.type&&K.type.defaultProps)var me=K.type.defaultProps;for(_e in N)de.call(N,_e)&&!we.hasOwnProperty(_e)&&(J[_e]=N[_e]===void 0&&me!==void 0?me[_e]:N[_e])}var _e=arguments.length-2;if(_e===1)J.children=U;else if(1<_e){me=Array(_e);for(var je=0;je<_e;je++)me[je]=arguments[je+2];J.children=me}return{$$typeof:r,type:K.type,key:Q,ref:ne,props:J,_owner:ue}},Wt.createContext=function(K){return K={$$typeof:h,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:o,_context:K},K.Consumer=K},Wt.createElement=ae,Wt.createFactory=function(K){var N=ae.bind(null,K);return N.type=K,N},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(K){return{$$typeof:u,render:K}},Wt.isValidElement=pe,Wt.lazy=function(K){return{$$typeof:y,_payload:{_status:-1,_result:K},_init:Ee}},Wt.memo=function(K,N){return{$$typeof:g,type:K,compare:N===void 0?null:N}},Wt.startTransition=function(K){var N=Z.transition;Z.transition={};try{K()}finally{Z.transition=N}},Wt.unstable_act=ke,Wt.useCallback=function(K,N){return Ne.current.useCallback(K,N)},Wt.useContext=function(K){return Ne.current.useContext(K)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(K){return Ne.current.useDeferredValue(K)},Wt.useEffect=function(K,N){return Ne.current.useEffect(K,N)},Wt.useId=function(){return Ne.current.useId()},Wt.useImperativeHandle=function(K,N,U){return Ne.current.useImperativeHandle(K,N,U)},Wt.useInsertionEffect=function(K,N){return Ne.current.useInsertionEffect(K,N)},Wt.useLayoutEffect=function(K,N){return Ne.current.useLayoutEffect(K,N)},Wt.useMemo=function(K,N){return Ne.current.useMemo(K,N)},Wt.useReducer=function(K,N,U){return Ne.current.useReducer(K,N,U)},Wt.useRef=function(K){return Ne.current.useRef(K)},Wt.useState=function(K){return Ne.current.useState(K)},Wt.useSyncExternalStore=function(K,N,U){return Ne.current.useSyncExternalStore(K,N,U)},Wt.useTransition=function(){return Ne.current.useTransition()},Wt.version="18.3.1",Wt}var Wp;function Ad(){return Wp||(Wp=1,_f.exports=Og()),_f.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function Ig(){if(Hp)return Zu;Hp=1;var r=Ad(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function h(u,f,g){var y,S={},k=null,w=null;g!==void 0&&(k=""+g),f.key!==void 0&&(k=""+f.key),f.ref!==void 0&&(w=f.ref);for(y in f)s.call(f,y)&&!o.hasOwnProperty(y)&&(S[y]=f[y]);if(u&&u.defaultProps)for(y in f=u.defaultProps,f)S[y]===void 0&&(S[y]=f[y]);return{$$typeof:e,type:u,key:k,ref:w,props:S,_owner:a.current}}return Zu.Fragment=t,Zu.jsx=h,Zu.jsxs=h,Zu}var Vp;function Rg(){return Vp||(Vp=1,bf.exports=Ig()),bf.exports}var R=Rg(),Ft=Ad();const Fg=U1(Ft);var Xc={},xf={exports:{}},ji={},Sf={exports:{}},kf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function Mg(){return Gp||(Gp=1,(function(r){function e(Z,he){var ke=Z.length;Z.push(he);e:for(;0<ke;){var K=ke-1>>>1,N=Z[K];if(0<a(N,he))Z[K]=he,Z[ke]=N,ke=K;else break e}}function t(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var he=Z[0],ke=Z.pop();if(ke!==he){Z[0]=ke;e:for(var K=0,N=Z.length,U=N>>>1;K<U;){var J=2*(K+1)-1,Q=Z[J],ne=J+1,ue=Z[ne];if(0>a(Q,ke))ne<N&&0>a(ue,Q)?(Z[K]=ue,Z[ne]=ke,K=ne):(Z[K]=Q,Z[J]=ke,K=J);else if(ne<N&&0>a(ue,ke))Z[K]=ue,Z[ne]=ke,K=ne;else break e}}return he}function a(Z,he){var ke=Z.sortIndex-he.sortIndex;return ke!==0?ke:Z.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var h=Date,u=h.now();r.unstable_now=function(){return h.now()-u}}var f=[],g=[],y=1,S=null,k=3,w=!1,C=!1,L=!1,T=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(Z){for(var he=t(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=Z)s(g),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(g)}}function H(Z){if(L=!1,G(Z),!C)if(t(f)!==null)C=!0,Ee(de);else{var he=t(g);he!==null&&Ne(H,he.startTime-Z)}}function de(Z,he){C=!1,L&&(L=!1,P(ae),ae=-1),w=!0;var ke=k;try{for(G(he),S=t(f);S!==null&&(!(S.expirationTime>he)||Z&&!M());){var K=S.callback;if(typeof K=="function"){S.callback=null,k=S.priorityLevel;var N=K(S.expirationTime<=he);he=r.unstable_now(),typeof N=="function"?S.callback=N:S===t(f)&&s(f),G(he)}else s(f);S=t(f)}if(S!==null)var U=!0;else{var J=t(g);J!==null&&Ne(H,J.startTime-he),U=!1}return U}finally{S=null,k=ke,w=!1}}var be=!1,we=null,ae=-1,Y=5,pe=-1;function M(){return!(r.unstable_now()-pe<Y)}function $(){if(we!==null){var Z=r.unstable_now();pe=Z;var he=!0;try{he=we(!0,Z)}finally{he?te():(be=!1,we=null)}}else be=!1}var te;if(typeof z=="function")te=function(){z($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Se=ee.port2;ee.port1.onmessage=$,te=function(){Se.postMessage(null)}}else te=function(){T($,0)};function Ee(Z){we=Z,be||(be=!0,te())}function Ne(Z,he){ae=T(function(){Z(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){C||w||(C=!0,Ee(de))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(Z){switch(k){case 1:case 2:case 3:var he=3;break;default:he=k}var ke=k;k=he;try{return Z()}finally{k=ke}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,he){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ke=k;k=Z;try{return he()}finally{k=ke}},r.unstable_scheduleCallback=function(Z,he,ke){var K=r.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?K+ke:K):ke=K,Z){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ke+N,Z={id:y++,callback:he,priorityLevel:Z,startTime:ke,expirationTime:N,sortIndex:-1},ke>K?(Z.sortIndex=ke,e(g,Z),t(f)===null&&Z===t(g)&&(L?(P(ae),ae=-1):L=!0,Ne(H,ke-K))):(Z.sortIndex=N,e(f,Z),C||w||(C=!0,Ee(de))),Z},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Z){var he=k;return function(){var ke=k;k=he;try{return Z.apply(this,arguments)}finally{k=ke}}}})(kf)),kf}var Kp;function Dg(){return Kp||(Kp=1,Sf.exports=Mg()),Sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function Ug(){if(Jp)return ji;Jp=1;var r=Ad(),e=Dg();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function o(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(a[n]=i,n=0;n<i.length;n++)s.add(i[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},S={};function k(n){return f.call(S,n)?!0:f.call(y,n)?!1:g.test(n)?S[n]=!0:(y[n]=!0,!1)}function w(n,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function C(n,i,l,d){if(i===null||typeof i>"u"||w(n,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function L(n,i,l,d,v,_,j){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=v,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=_,this.removeEmptyString=j}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){T[n]=new L(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];T[i]=new L(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){T[n]=new L(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){T[n]=new L(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){T[n]=new L(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){T[n]=new L(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){T[n]=new L(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){T[n]=new L(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){T[n]=new L(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function z(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(P,z);T[i]=new L(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(P,z);T[i]=new L(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(P,z);T[i]=new L(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){T[n]=new L(n,1,!1,n.toLowerCase(),null,!1,!1)}),T.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){T[n]=new L(n,1,!1,n.toLowerCase(),null,!0,!0)});function G(n,i,l,d){var v=T.hasOwnProperty(i)?T[i]:null;(v!==null?v.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,l,v,d)&&(l=null),d||v===null?k(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):v.mustUseProperty?n[v.propertyName]=l===null?v.type===3?!1:"":l:(i=v.attributeName,d=v.attributeNamespace,l===null?n.removeAttribute(i):(v=v.type,l=v===3||v===4&&l===!0?"":""+l,d?n.setAttributeNS(d,i,l):n.setAttribute(i,l))))}var H=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),be=Symbol.for("react.portal"),we=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),Z=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var ke=Object.assign,K;function N(n){if(K===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);K=i&&i[1]||""}return`
`+K+n}var U=!1;function J(n,i){if(!n||U)return"";U=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Ae){var d=Ae}Reflect.construct(n,[],i)}else{try{i.call()}catch(Ae){d=Ae}n.call(i.prototype)}else{try{throw Error()}catch(Ae){d=Ae}n()}}catch(Ae){if(Ae&&d&&typeof Ae.stack=="string"){for(var v=Ae.stack.split(`
`),_=d.stack.split(`
`),j=v.length-1,X=_.length-1;1<=j&&0<=X&&v[j]!==_[X];)X--;for(;1<=j&&0<=X;j--,X--)if(v[j]!==_[X]){if(j!==1||X!==1)do if(j--,X--,0>X||v[j]!==_[X]){var se=`
`+v[j].replace(" at new "," at ");return n.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",n.displayName)),se}while(1<=j&&0<=X);break}}}finally{U=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?N(n):""}function Q(n){switch(n.tag){case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return n=J(n.type,!1),n;case 11:return n=J(n.type.render,!1),n;case 1:return n=J(n.type,!0),n;default:return""}}function ne(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case we:return"Fragment";case be:return"Portal";case Y:return"Profiler";case ae:return"StrictMode";case te:return"Suspense";case ee:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case M:return(n.displayName||"Context")+".Consumer";case pe:return(n._context.displayName||"Context")+".Provider";case $:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Se:return i=n.displayName||null,i!==null?i:ne(n.type)||"Memo";case Ee:i=n._payload,n=n._init;try{return ne(n(i))}catch{}}return null}function ue(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(i);case 8:return i===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _e(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function je(n){var i=_e(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),d=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,_=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return v.call(this)},set:function(j){d=""+j,_.call(this,j)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(j){d=""+j},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ue(n){n._valueTracker||(n._valueTracker=je(n))}function He(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return n&&(d=_e(n)?n.checked?"true":"false":n.value),n=d,n!==l?(i.setValue(n),!0):!1}function $e(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ot(n,i){var l=i.checked;return ke({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function q(n,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=me(i.value!=null?i.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function We(n,i){i=i.checked,i!=null&&G(n,"checked",i,!1)}function Ot(n,i){We(n,i);var l=me(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Fe(n,i.type,l):i.hasOwnProperty("defaultValue")&&Fe(n,i.type,me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function pt(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Fe(n,i,l){(i!=="number"||$e(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var ct=Array.isArray;function Ve(n,i,l,d){if(n=n.options,i){i={};for(var v=0;v<l.length;v++)i["$"+l[v]]=!0;for(l=0;l<n.length;l++)v=i.hasOwnProperty("$"+n[l].value),n[l].selected!==v&&(n[l].selected=v),v&&d&&(n[l].defaultSelected=!0)}else{for(l=""+me(l),i=null,v=0;v<n.length;v++){if(n[v].value===l){n[v].selected=!0,d&&(n[v].defaultSelected=!0);return}i!==null||n[v].disabled||(i=n[v])}i!==null&&(i.selected=!0)}}function dt(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ke({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ht(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(ct(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:me(l)}}function Yt(n,i){var l=me(i.value),d=me(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function Bt(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Ct(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Ct(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Dt,rt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,v){MSApp.execUnsafeLocalFunction(function(){return n(i,l,d,v)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Dt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function kt(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rr=["Webkit","ms","Moz","O"];Object.keys(tt).forEach(function(n){Rr.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),tt[i]=tt[n]})});function Vt(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||tt.hasOwnProperty(n)&&tt[n]?(""+i).trim():i+"px"}function Mt(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,v=Vt(l,i[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,v):n[l]=v}}var Ut=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(n,i){if(i){if(Ut[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function ft(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sr=null;function gt(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var At=null,nr=null,jt=null;function mt(n){if(n=xo(n)){if(typeof At!="function")throw Error(t(280));var i=n.stateNode;i&&(i=sl(i),At(n.stateNode,n.type,i))}}function Xt(n){nr?jt?jt.push(n):jt=[n]:nr=n}function Ws(){if(nr){var n=nr,i=jt;if(jt=nr=null,mt(n),i)for(n=0;n<i.length;n++)mt(i[n])}}function vn(n,i){return n(i)}function Zi(){}var gi=!1;function vt(n,i,l){if(gi)return n(i,l);gi=!0;try{return vn(n,i,l)}finally{gi=!1,(nr!==null||jt!==null)&&(Zi(),Ws())}}function ri(n,i){var l=n.stateNode;if(l===null)return null;var d=sl(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var Oi=!1;if(u)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Oi=!1}function mi(n,i,l,d,v,_,j,X,se){var Ae=Array.prototype.slice.call(arguments,3);try{i.apply(l,Ae)}catch(De){this.onError(De)}}var mr=!1,Fr=null,Hr=!1,ys=null,Hs={onError:function(n){mr=!0,Fr=n}};function Ii(n,i,l,d,v,_,j,X,se){mr=!1,Fr=null,mi.apply(Hs,arguments)}function es(n,i,l,d,v,_,j,X,se){if(Ii.apply(this,arguments),mr){if(mr){var Ae=Fr;mr=!1,Fr=null}else throw Error(t(198));Hr||(Hr=!0,ys=Ae)}}function yn(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function vi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function ni(n){if(yn(n)!==n)throw Error(t(188))}function pa(n){var i=n.alternate;if(!i){if(i=yn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var l=n,d=i;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(d=v.return,d!==null){l=d;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return ni(v),n;if(_===d)return ni(v),i;_=_.sibling}throw Error(t(188))}if(l.return!==d.return)l=v,d=_;else{for(var j=!1,X=v.child;X;){if(X===l){j=!0,l=v,d=_;break}if(X===d){j=!0,d=v,l=_;break}X=X.sibling}if(!j){for(X=_.child;X;){if(X===l){j=!0,l=_,d=v;break}if(X===d){j=!0,d=_,l=v;break}X=X.sibling}if(!j)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?n:i}function Ri(n){return n=pa(n),n!==null?Vs(n):null}function Vs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Vs(n);if(i!==null)return i;n=n.sibling}return null}var ga=e.unstable_scheduleCallback,ma=e.unstable_cancelCallback,Za=e.unstable_shouldYield,Au=e.unstable_requestPaint,wr=e.unstable_now,Cl=e.unstable_getCurrentPriorityLevel,eo=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,Gs=e.unstable_NormalPriority,Pl=e.unstable_LowPriority,to=e.unstable_IdlePriority,va=null,si=null;function jl(n){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(va,n,void 0,(n.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:Gr,ro=Math.log,Eu=Math.LN2;function Gr(n){return n>>>=0,n===0?32:31-(ro(n)/Eu|0)|0}var ya=64,ai=4194304;function ts(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wa(n,i){var l=n.pendingLanes;if(l===0)return 0;var d=0,v=n.suspendedLanes,_=n.pingedLanes,j=l&268435455;if(j!==0){var X=j&~v;X!==0?d=ts(X):(_&=j,_!==0&&(d=ts(_)))}else j=l&~v,j!==0?d=ts(j):_!==0&&(d=ts(_));if(d===0)return 0;if(i!==0&&i!==d&&(i&v)===0&&(v=d&-d,_=i&-i,v>=_||v===16&&(_&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=d;0<i;)l=31-Vr(i),v=1<<l,d|=n[l],i&=~v;return d}function yi(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nn(n,i){for(var l=n.suspendedLanes,d=n.pingedLanes,v=n.expirationTimes,_=n.pendingLanes;0<_;){var j=31-Vr(_),X=1<<j,se=v[j];se===-1?((X&l)===0||(X&d)!==0)&&(v[j]=yi(X,i)):se<=i&&(n.expiredLanes|=X),_&=~X}}function Fi(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function qo(){var n=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),n}function zo(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function ba(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Vr(i),n[i]=l}function rs(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var v=31-Vr(l),_=1<<v;i[v]=0,d[v]=-1,n[v]=-1,l&=~_}}function no(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var d=31-Vr(l),v=1<<d;v&i|n[d]&i&&(n[d]|=i),l&=~v}}var Jt=0;function _a(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ks,$o,Tl,Ol,io,so=!1,qn=[],ns=null,zn=null,wi=null,xa=new Map,bt=new Map,is=[],Lu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Il(n,i){switch(n){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":xa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bt.delete(i.pointerId)}}function oi(n,i,l,d,v,_){return n===null||n.nativeEvent!==_?(n={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:_,targetContainers:[v]},i!==null&&(i=xo(i),i!==null&&$o(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),n)}function ws(n,i,l,d,v){switch(i){case"focusin":return ns=oi(ns,n,i,l,d,v),!0;case"dragenter":return zn=oi(zn,n,i,l,d,v),!0;case"mouseover":return wi=oi(wi,n,i,l,d,v),!0;case"pointerover":var _=v.pointerId;return xa.set(_,oi(xa.get(_)||null,n,i,l,d,v)),!0;case"gotpointercapture":return _=v.pointerId,bt.set(_,oi(bt.get(_)||null,n,i,l,d,v)),!0}return!1}function Rl(n){var i=sa(n.target);if(i!==null){var l=yn(i);if(l!==null){if(i=l.tag,i===13){if(i=vi(l),i!==null){n.blockedOn=i,io(n.priority,function(){Tl(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ao(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=Na(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);sr=d,l.target.dispatchEvent(d),sr=null}else return i=xo(l),i!==null&&$o(i),n.blockedOn=l,!1;i.shift()}return!0}function Sa(n,i,l){ao(n)&&l.delete(i)}function Wo(){so=!1,ns!==null&&ao(ns)&&(ns=null),zn!==null&&ao(zn)&&(zn=null),wi!==null&&ao(wi)&&(wi=null),xa.forEach(Sa),bt.forEach(Sa)}function Mi(n,i){n.blockedOn===i&&(n.blockedOn=null,so||(so=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wo)))}function ka(n){function i(v){return Mi(v,n)}if(0<qn.length){Mi(qn[0],n);for(var l=1;l<qn.length;l++){var d=qn[l];d.blockedOn===n&&(d.blockedOn=null)}}for(ns!==null&&Mi(ns,n),zn!==null&&Mi(zn,n),wi!==null&&Mi(wi,n),xa.forEach(i),bt.forEach(i),l=0;l<is.length;l++)d=is[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<is.length&&(l=is[0],l.blockedOn===null);)Rl(l),l.blockedOn===null&&is.shift()}var $n=H.ReactCurrentBatchConfig,oo=!0;function Ho(n,i,l,d){var v=Jt,_=$n.transition;$n.transition=null;try{Jt=1,lo(n,i,l,d)}finally{Jt=v,$n.transition=_}}function Vo(n,i,l,d){var v=Jt,_=$n.transition;$n.transition=null;try{Jt=4,lo(n,i,l,d)}finally{Jt=v,$n.transition=_}}function lo(n,i,l,d){if(oo){var v=Na(n,i,l,d);if(v===null)rl(n,i,d,bi,l),Il(n,d);else if(ws(v,n,i,l,d))d.stopPropagation();else if(Il(n,d),i&4&&-1<Lu.indexOf(n)){for(;v!==null;){var _=xo(v);if(_!==null&&Ks(_),_=Na(n,i,l,d),_===null&&rl(n,i,d,bi,l),_===v)break;v=_}v!==null&&d.stopPropagation()}else rl(n,i,d,null,l)}}var bi=null;function Na(n,i,l,d){if(bi=null,n=gt(d),n=sa(n),n!==null)if(i=yn(n),i===null)n=null;else if(l=i.tag,l===13){if(n=vi(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return bi=n,null}function Aa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cl()){case eo:return 1;case ii:return 4;case Gs:case Pl:return 16;case to:return 536870912;default:return 16}default:return 16}}var _i=null,bs=null,Js=null;function Go(){if(Js)return Js;var n,i=bs,l=i.length,d,v="value"in _i?_i.value:_i.textContent,_=v.length;for(n=0;n<l&&i[n]===v[n];n++);var j=l-n;for(d=1;d<=j&&i[l-d]===v[_-d];d++);return Js=v.slice(n,1<d?1-d:void 0)}function Ea(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function xi(){return!0}function ss(){return!1}function An(n){function i(l,d,v,_,j){this._reactName=l,this._targetInst=v,this.type=d,this.nativeEvent=_,this.target=j,this.currentTarget=null;for(var X in n)n.hasOwnProperty(X)&&(l=n[X],this[X]=l?l(_):_[X]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xi:ss,this.isPropagationStopped=ss,this}return ke(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),i}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=An(Si),m=ke({},Si,{view:0,detail:0}),E=An(m),V,re,ce,Te=ke({},m,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ce&&(ce&&n.type==="mousemove"?(V=n.screenX-ce.screenX,re=n.screenY-ce.screenY):re=V=0,ce=n),V)},movementY:function(n){return"movementY"in n?n.movementY:re}}),Re=An(Te),Xe=ke({},Te,{dataTransfer:0}),it=An(Xe),Nt=ke({},m,{relatedTarget:0}),Pt=An(Nt),Gt=ke({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Ar=An(Gt),Kr=ke({},Si,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vr=An(Kr),sn=ke({},Si,{data:0}),Mr=An(sn),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Di={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xs(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Di[n])?!!i[n]:!1}function La(){return xs}var co=ke({},m,{key:function(n){if(n.key){var i=wn[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ea(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_s[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(n){return n.type==="keypress"?Ea(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ea(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ys=An(co),Ca=ke({},Te,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=An(Ca),Qs=ke({},m,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),bn=An(Qs),Pa=ke({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),ja=An(Pa),Ko=ke({},Te,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Jo=An(Ko),In=[9,13,27,32],Ui=u&&"CompositionEvent"in window,as=null;u&&"documentMode"in document&&(as=document.documentMode);var Fl=u&&"TextEvent"in window&&!as,li=u&&(!Ui||as&&8<as&&11>=as),Zs=" ",ho=!1;function fo(n,i){switch(n){case"keyup":return In.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ss(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ki=!1;function ui(n,i){switch(n){case"compositionend":return Ss(i);case"keypress":return i.which!==32?null:(ho=!0,Zs);case"textInput":return n=i.data,n===Zs&&ho?null:n;default:return null}}function ci(n,i){if(ki)return n==="compositionend"||!Ui&&fo(n,i)?(n=Go(),Js=bs=_i=null,ki=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return li&&i.locale!=="ko"?null:i.data;default:return null}}var ea={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function os(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!ea[n.type]:i==="textarea"}function ks(n,i,l,d){Xt(d),i=ql(i,"onChange"),0<i.length&&(l=new uo("onChange","change",null,l,d),n.push({event:l,listeners:i}))}var Ns=null,ls=null;function Dr(n){el(n,0)}function Ta(n){var i=za(n);if(He(i))return n}function us(n,i){if(n==="change")return i}var Bi=!1;if(u){var Oa;if(u){var Ia="oninput"in document;if(!Ia){var po=document.createElement("div");po.setAttribute("oninput","return;"),Ia=typeof po.oninput=="function"}Oa=Ia}else Oa=!1;Bi=Oa&&(!document.documentMode||9<document.documentMode)}function go(){Ns&&(Ns.detachEvent("onpropertychange",As),ls=Ns=null)}function As(n){if(n.propertyName==="value"&&Ta(ls)){var i=[];ks(i,ls,n,gt(n)),vt(Dr,i)}}function ta(n,i,l){n==="focusin"?(go(),Ns=i,ls=l,Ns.attachEvent("onpropertychange",As)):n==="focusout"&&go()}function ra(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ta(ls)}function Ra(n,i){if(n==="click")return Ta(i)}function na(n,i){if(n==="input"||n==="change")return Ta(i)}function Fa(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Cr=typeof Object.is=="function"?Object.is:Fa;function Wn(n,i){if(Cr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var v=l[d];if(!f.call(i,v)||!Cr(n[v],i[v]))return!1}return!0}function Qt(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ar(n,i){var l=Qt(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=i&&d>=i)return{node:l,offset:i-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qt(l)}}function Pr(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Pr(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Jr(){for(var n=window,i=$e();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=$e(n.document)}return i}function qi(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Yo(n){var i=Jr(),l=n.focusedElem,d=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&Pr(l.ownerDocument.documentElement,l)){if(d!==null&&qi(l)){if(i=d.start,n=d.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var v=l.textContent.length,_=Math.min(d.start,v);d=d.end===void 0?_:Math.min(d.end,v),!n.extend&&_>d&&(v=d,d=_,_=v),v=ar(l,_);var j=ar(l,d);v&&j&&(n.rangeCount!==1||n.anchorNode!==v.node||n.anchorOffset!==v.offset||n.focusNode!==j.node||n.focusOffset!==j.offset)&&(i=i.createRange(),i.setStart(v.node,v.offset),n.removeAllRanges(),_>d?(n.addRange(i),n.extend(j.node,j.offset)):(i.setEnd(j.node,j.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var mo=u&&"documentMode"in document&&11>=document.documentMode,Es=null,Ml=null,vo=null,Dl=!1;function Cu(n,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dl||Es==null||Es!==$e(d)||(d=Es,"selectionStart"in d&&qi(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),vo&&Wn(vo,d)||(vo=d,d=ql(Ml,"onSelect"),0<d.length&&(i=new uo("onSelect","select",null,i,l),n.push({event:i,listeners:d}),i.target=Es)))}function Xo(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Ma={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},Da={},Pu={};u&&(Pu=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Qo(n){if(Da[n])return Da[n];if(!Ma[n])return n;var i=Ma[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in Pu)return Da[n]=i[l];return n}var ju=Qo("animationend"),Tu=Qo("animationiteration"),Ou=Qo("animationstart"),Iu=Qo("transitionend"),Ru=new Map,Fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(n,i){Ru.set(n,i),o(i,[n])}for(var yo=0;yo<Fu.length;yo++){var Rn=Fu[yo],Ni=Rn.toLowerCase(),Ul=Rn[0].toUpperCase()+Rn.slice(1);cs(Ni,"on"+Ul)}cs(ju,"onAnimationEnd"),cs(Tu,"onAnimationIteration"),cs(Ou,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(Iu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vc=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Zo(n,i,l){var d=n.type||"unknown-event";n.currentTarget=l,es(d,i,void 0,n),n.currentTarget=null}function el(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],v=d.event;d=d.listeners;e:{var _=void 0;if(i)for(var j=d.length-1;0<=j;j--){var X=d[j],se=X.instance,Ae=X.currentTarget;if(X=X.listener,se!==_&&v.isPropagationStopped())break e;Zo(v,X,Ae),_=se}else for(j=0;j<d.length;j++){if(X=d[j],se=X.instance,Ae=X.currentTarget,X=X.listener,se!==_&&v.isPropagationStopped())break e;Zo(v,X,Ae),_=se}}}if(Hr)throw n=ys,Hr=!1,ys=null,n}function ur(n,i){var l=i[Vn];l===void 0&&(l=i[Vn]=new Set);var d=n+"__bubble";l.has(d)||(tl(i,n,2,!1),l.add(d))}function Bl(n,i,l){var d=0;i&&(d|=4),tl(l,n,d,i)}var wo="_reactListening"+Math.random().toString(36).slice(2);function Ua(n){if(!n[wo]){n[wo]=!0,s.forEach(function(l){l!=="selectionchange"&&(vc.has(l)||Bl(l,!1,n),Bl(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[wo]||(i[wo]=!0,Bl("selectionchange",!1,i))}}function tl(n,i,l,d){switch(Aa(i)){case 1:var v=Ho;break;case 4:v=Vo;break;default:v=lo}l=v.bind(null,i,l,n),v=void 0,!Oi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),d?v!==void 0?n.addEventListener(i,l,{capture:!0,passive:v}):n.addEventListener(i,l,!0):v!==void 0?n.addEventListener(i,l,{passive:v}):n.addEventListener(i,l,!1)}function rl(n,i,l,d,v){var _=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var j=d.tag;if(j===3||j===4){var X=d.stateNode.containerInfo;if(X===v||X.nodeType===8&&X.parentNode===v)break;if(j===4)for(j=d.return;j!==null;){var se=j.tag;if((se===3||se===4)&&(se=j.stateNode.containerInfo,se===v||se.nodeType===8&&se.parentNode===v))return;j=j.return}for(;X!==null;){if(j=sa(X),j===null)return;if(se=j.tag,se===5||se===6){d=_=j;continue e}X=X.parentNode}}d=d.return}vt(function(){var Ae=_,De=gt(l),Be=[];e:{var Me=Ru.get(n);if(Me!==void 0){var Ge=uo,Ze=n;switch(n){case"keypress":if(Ea(l)===0)break e;case"keydown":case"keyup":Ge=Ys;break;case"focusin":Ze="focus",Ge=Pt;break;case"focusout":Ze="blur",Ge=Pt;break;case"beforeblur":case"afterblur":Ge=Pt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=Re;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=it;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=bn;break;case ju:case Tu:case Ou:Ge=Ar;break;case Iu:Ge=ja;break;case"scroll":Ge=E;break;case"wheel":Ge=Jo;break;case"copy":case"cut":case"paste":Ge=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=Xs}var nt=(i&4)!==0,ln=!nt&&n==="scroll",ve=nt?Me!==null?Me+"Capture":null:Me;nt=[];for(var le=Ae,xe;le!==null;){xe=le;var qe=xe.stateNode;if(xe.tag===5&&qe!==null&&(xe=qe,ve!==null&&(qe=ri(le,ve),qe!=null&&nt.push(nl(le,qe,xe)))),ln)break;le=le.return}0<nt.length&&(Me=new Ge(Me,Ze,null,l,De),Be.push({event:Me,listeners:nt}))}}if((i&7)===0){e:{if(Me=n==="mouseover"||n==="pointerover",Ge=n==="mouseout"||n==="pointerout",Me&&l!==sr&&(Ze=l.relatedTarget||l.fromElement)&&(sa(Ze)||Ze[En]))break e;if((Ge||Me)&&(Me=De.window===De?De:(Me=De.ownerDocument)?Me.defaultView||Me.parentWindow:window,Ge?(Ze=l.relatedTarget||l.toElement,Ge=Ae,Ze=Ze?sa(Ze):null,Ze!==null&&(ln=yn(Ze),Ze!==ln||Ze.tag!==5&&Ze.tag!==6)&&(Ze=null)):(Ge=null,Ze=Ae),Ge!==Ze)){if(nt=Re,qe="onMouseLeave",ve="onMouseEnter",le="mouse",(n==="pointerout"||n==="pointerover")&&(nt=Xs,qe="onPointerLeave",ve="onPointerEnter",le="pointer"),ln=Ge==null?Me:za(Ge),xe=Ze==null?Me:za(Ze),Me=new nt(qe,le+"leave",Ge,l,De),Me.target=ln,Me.relatedTarget=xe,qe=null,sa(De)===Ae&&(nt=new nt(ve,le+"enter",Ze,l,De),nt.target=xe,nt.relatedTarget=ln,qe=nt),ln=qe,Ge&&Ze)t:{for(nt=Ge,ve=Ze,le=0,xe=nt;xe;xe=Ba(xe))le++;for(xe=0,qe=ve;qe;qe=Ba(qe))xe++;for(;0<le-xe;)nt=Ba(nt),le--;for(;0<xe-le;)ve=Ba(ve),xe--;for(;le--;){if(nt===ve||ve!==null&&nt===ve.alternate)break t;nt=Ba(nt),ve=Ba(ve)}nt=null}else nt=null;Ge!==null&&yc(Be,Me,Ge,nt,!1),Ze!==null&&ln!==null&&yc(Be,ln,Ze,nt,!0)}}e:{if(Me=Ae?za(Ae):window,Ge=Me.nodeName&&Me.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Me.type==="file")var at=us;else if(os(Me))if(Bi)at=na;else{at=ra;var yt=ta}else(Ge=Me.nodeName)&&Ge.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(at=Ra);if(at&&(at=at(n,Ae))){ks(Be,at,l,De);break e}yt&&yt(n,Me,Ae),n==="focusout"&&(yt=Me._wrapperState)&&yt.controlled&&Me.type==="number"&&Fe(Me,"number",Me.value)}switch(yt=Ae?za(Ae):window,n){case"focusin":(os(yt)||yt.contentEditable==="true")&&(Es=yt,Ml=Ae,vo=null);break;case"focusout":vo=Ml=Es=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,Cu(Be,l,De);break;case"selectionchange":if(mo)break;case"keydown":case"keyup":Cu(Be,l,De)}var wt;if(Ui)e:{switch(n){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else ki?fo(n,l)&&(Et="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Et="onCompositionStart");Et&&(li&&l.locale!=="ko"&&(ki||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&ki&&(wt=Go()):(_i=De,bs="value"in _i?_i.value:_i.textContent,ki=!0)),yt=ql(Ae,Et),0<yt.length&&(Et=new Mr(Et,n,null,l,De),Be.push({event:Et,listeners:yt}),wt?Et.data=wt:(wt=Ss(l),wt!==null&&(Et.data=wt)))),(wt=Fl?ui(n,l):ci(n,l))&&(Ae=ql(Ae,"onBeforeInput"),0<Ae.length&&(De=new Mr("onBeforeInput","beforeinput",null,l,De),Be.push({event:De,listeners:Ae}),De.data=wt))}el(Be,i)})}function nl(n,i,l){return{instance:n,listener:i,currentTarget:l}}function ql(n,i){for(var l=i+"Capture",d=[];n!==null;){var v=n,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=ri(n,l),_!=null&&d.unshift(nl(n,_,v)),_=ri(n,i),_!=null&&d.push(nl(n,_,v))),n=n.return}return d}function Ba(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function yc(n,i,l,d,v){for(var _=i._reactName,j=[];l!==null&&l!==d;){var X=l,se=X.alternate,Ae=X.stateNode;if(se!==null&&se===d)break;X.tag===5&&Ae!==null&&(X=Ae,v?(se=ri(l,_),se!=null&&j.unshift(nl(l,se,X))):v||(se=ri(l,_),se!=null&&j.push(nl(l,se,X)))),l=l.return}j.length!==0&&n.push({event:i,listeners:j})}var Oh=/\r\n?/g,Ih=/\u0000|\uFFFD/g;function wc(n){return(typeof n=="string"?n:""+n).replace(Oh,`
`).replace(Ih,"")}function zl(n,i,l){if(i=wc(i),wc(n)!==i&&l)throw Error(t(425))}function bo(){}var il=null,qa=null;function Mu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,bc=typeof clearTimeout=="function"?clearTimeout:void 0,_c=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof _c<"u"?function(n){return _c.resolve(null).then(n).catch(Fh)}:Du;function Fh(n){setTimeout(function(){throw n})}function Uu(n,i){var l=i,d=0;do{var v=l.nextSibling;if(n.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(d===0){n.removeChild(v),ka(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=v}while(l);ka(i)}function Fn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Ai(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),hs="__reactFiber$"+Hn,_o="__reactProps$"+Hn,En="__reactContainer$"+Hn,Vn="__reactEvents$"+Hn,Mh="__reactListeners$"+Hn,Dh="__reactHandles$"+Hn;function sa(n){var i=n[hs];if(i)return i;for(var l=n.parentNode;l;){if(i=l[En]||l[hs]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=Ai(n);n!==null;){if(l=n[hs])return l;n=Ai(n)}return i}n=l,l=n.parentNode}return null}function xo(n){return n=n[hs]||n[En],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function za(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function sl(n){return n[_o]||null}var Bu=[],Ls=-1;function zi(n){return{current:n}}function ir(n){0>Ls||(n.current=Bu[Ls],Bu[Ls]=null,Ls--)}function or(n,i){Ls++,Bu[Ls]=n.current,n.current=i}var aa={},_n=zi(aa),Gn=zi(!1),$a=aa;function So(n,i){var l=n.type.contextTypes;if(!l)return aa;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in l)v[_]=i[_];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=v),v}function Kn(n){return n=n.childContextTypes,n!=null}function $l(){ir(Gn),ir(_n)}function xc(n,i,l){if(_n.current!==aa)throw Error(t(168));or(_n,i),or(Gn,l)}function qu(n,i,l){var d=n.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var v in d)if(!(v in i))throw Error(t(108,ue(n)||"Unknown",v));return ke({},l,d)}function Wa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||aa,$a=_n.current,or(_n,n),or(Gn,Gn.current),!0}function Sc(n,i,l){var d=n.stateNode;if(!d)throw Error(t(169));l?(n=qu(n,i,$a),d.__reactInternalMemoizedMergedChildContext=n,ir(Gn),ir(_n),or(_n,n)):ir(Gn),or(Gn,l)}var Cs=null,al=!1,c=!1;function p(n){Cs===null?Cs=[n]:Cs.push(n)}function b(n){al=!0,p(n)}function x(){if(!c&&Cs!==null){c=!0;var n=0,i=Jt;try{var l=Cs;for(Jt=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Cs=null,al=!1}catch(v){throw Cs!==null&&(Cs=Cs.slice(n+1)),ga(eo,x),v}finally{Jt=i,c=!1}}return null}var A=[],O=0,I=null,F=0,D=[],B=0,ie=null,ge=1,W="";function oe(n,i){A[O++]=F,A[O++]=I,I=n,F=i}function fe(n,i,l){D[B++]=ge,D[B++]=W,D[B++]=ie,ie=n;var d=ge;n=W;var v=32-Vr(d)-1;d&=~(1<<v),l+=1;var _=32-Vr(i)+v;if(30<_){var j=v-v%5;_=(d&(1<<j)-1).toString(32),d>>=j,v-=j,ge=1<<32-Vr(i)+v|l<<v|d,W=_+n}else ge=1<<_|l<<v|d,W=n}function Pe(n){n.return!==null&&(oe(n,1),fe(n,1,0))}function ye(n){for(;n===I;)I=A[--O],A[O]=null,F=A[--O],A[O]=null;for(;n===ie;)ie=D[--B],D[B]=null,W=D[--B],D[B]=null,ge=D[--B],D[B]=null}var Le=null,Ce=null,Oe=!1,Ie=null;function st(n,i){var l=ms(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function Ke(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Le=n,Ce=Fn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Le=n,Ce=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ie!==null?{id:ge,overflow:W}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=ms(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,Le=n,Ce=null,!0):!1;default:return!1}}function Tt(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Qe(n){if(Oe){var i=Ce;if(i){var l=i;if(!Ke(n,i)){if(Tt(n))throw Error(t(418));i=Fn(l.nextSibling);var d=Le;i&&Ke(n,i)?st(d,l):(n.flags=n.flags&-4097|2,Oe=!1,Le=n)}}else{if(Tt(n))throw Error(t(418));n.flags=n.flags&-4097|2,Oe=!1,Le=n}}}function $t(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Le=n}function jr(n){if(n!==Le)return!1;if(!Oe)return $t(n),Oe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Mu(n.type,n.memoizedProps)),i&&(i=Ce)){if(Tt(n))throw It(),Error(t(418));for(;i;)st(n,i),i=Fn(i.nextSibling)}if($t(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){Ce=Fn(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}Ce=null}}else Ce=Le?Fn(n.stateNode.nextSibling):null;return!0}function It(){for(var n=Ce;n;)n=Fn(n.nextSibling)}function Je(){Ce=Le=null,Oe=!1}function ze(n){Ie===null?Ie=[n]:Ie.push(n)}var Ur=H.ReactCurrentBatchConfig;function St(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,n));var v=d,_=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===_?i.ref:(i=function(j){var X=v.refs;j===null?delete X[_]:X[_]=j},i._stringRef=_,i)}if(typeof n!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,n))}return n}function zt(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function yr(n){var i=n._init;return i(n._payload)}function fn(n){function i(ve,le){if(n){var xe=ve.deletions;xe===null?(ve.deletions=[le],ve.flags|=16):xe.push(le)}}function l(ve,le){if(!n)return null;for(;le!==null;)i(ve,le),le=le.sibling;return null}function d(ve,le){for(ve=new Map;le!==null;)le.key!==null?ve.set(le.key,le):ve.set(le.index,le),le=le.sibling;return ve}function v(ve,le){return ve=Oo(ve,le),ve.index=0,ve.sibling=null,ve}function _(ve,le,xe){return ve.index=xe,n?(xe=ve.alternate,xe!==null?(xe=xe.index,xe<le?(ve.flags|=2,le):xe):(ve.flags|=2,le)):(ve.flags|=1048576,le)}function j(ve){return n&&ve.alternate===null&&(ve.flags|=2),ve}function X(ve,le,xe,qe){return le===null||le.tag!==6?(le=pf(xe,ve.mode,qe),le.return=ve,le):(le=v(le,xe),le.return=ve,le)}function se(ve,le,xe,qe){var at=xe.type;return at===we?De(ve,le,xe.props.children,qe,xe.key):le!==null&&(le.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===Ee&&yr(at)===le.type)?(qe=v(le,xe.props),qe.ref=St(ve,le,xe),qe.return=ve,qe):(qe=$c(xe.type,xe.key,xe.props,null,ve.mode,qe),qe.ref=St(ve,le,xe),qe.return=ve,qe)}function Ae(ve,le,xe,qe){return le===null||le.tag!==4||le.stateNode.containerInfo!==xe.containerInfo||le.stateNode.implementation!==xe.implementation?(le=gf(xe,ve.mode,qe),le.return=ve,le):(le=v(le,xe.children||[]),le.return=ve,le)}function De(ve,le,xe,qe,at){return le===null||le.tag!==7?(le=pl(xe,ve.mode,qe,at),le.return=ve,le):(le=v(le,xe),le.return=ve,le)}function Be(ve,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number")return le=pf(""+le,ve.mode,xe),le.return=ve,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case de:return xe=$c(le.type,le.key,le.props,null,ve.mode,xe),xe.ref=St(ve,null,le),xe.return=ve,xe;case be:return le=gf(le,ve.mode,xe),le.return=ve,le;case Ee:var qe=le._init;return Be(ve,qe(le._payload),xe)}if(ct(le)||he(le))return le=pl(le,ve.mode,xe,null),le.return=ve,le;zt(ve,le)}return null}function Me(ve,le,xe,qe){var at=le!==null?le.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return at!==null?null:X(ve,le,""+xe,qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case de:return xe.key===at?se(ve,le,xe,qe):null;case be:return xe.key===at?Ae(ve,le,xe,qe):null;case Ee:return at=xe._init,Me(ve,le,at(xe._payload),qe)}if(ct(xe)||he(xe))return at!==null?null:De(ve,le,xe,qe,null);zt(ve,xe)}return null}function Ge(ve,le,xe,qe,at){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return ve=ve.get(xe)||null,X(le,ve,""+qe,at);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case de:return ve=ve.get(qe.key===null?xe:qe.key)||null,se(le,ve,qe,at);case be:return ve=ve.get(qe.key===null?xe:qe.key)||null,Ae(le,ve,qe,at);case Ee:var yt=qe._init;return Ge(ve,le,xe,yt(qe._payload),at)}if(ct(qe)||he(qe))return ve=ve.get(xe)||null,De(le,ve,qe,at,null);zt(le,qe)}return null}function Ze(ve,le,xe,qe){for(var at=null,yt=null,wt=le,Et=le=0,Tn=null;wt!==null&&Et<xe.length;Et++){wt.index>Et?(Tn=wt,wt=null):Tn=wt.sibling;var rr=Me(ve,wt,xe[Et],qe);if(rr===null){wt===null&&(wt=Tn);break}n&&wt&&rr.alternate===null&&i(ve,wt),le=_(rr,le,Et),yt===null?at=rr:yt.sibling=rr,yt=rr,wt=Tn}if(Et===xe.length)return l(ve,wt),Oe&&oe(ve,Et),at;if(wt===null){for(;Et<xe.length;Et++)wt=Be(ve,xe[Et],qe),wt!==null&&(le=_(wt,le,Et),yt===null?at=wt:yt.sibling=wt,yt=wt);return Oe&&oe(ve,Et),at}for(wt=d(ve,wt);Et<xe.length;Et++)Tn=Ge(wt,ve,Et,xe[Et],qe),Tn!==null&&(n&&Tn.alternate!==null&&wt.delete(Tn.key===null?Et:Tn.key),le=_(Tn,le,Et),yt===null?at=Tn:yt.sibling=Tn,yt=Tn);return n&&wt.forEach(function(Io){return i(ve,Io)}),Oe&&oe(ve,Et),at}function nt(ve,le,xe,qe){var at=he(xe);if(typeof at!="function")throw Error(t(150));if(xe=at.call(xe),xe==null)throw Error(t(151));for(var yt=at=null,wt=le,Et=le=0,Tn=null,rr=xe.next();wt!==null&&!rr.done;Et++,rr=xe.next()){wt.index>Et?(Tn=wt,wt=null):Tn=wt.sibling;var Io=Me(ve,wt,rr.value,qe);if(Io===null){wt===null&&(wt=Tn);break}n&&wt&&Io.alternate===null&&i(ve,wt),le=_(Io,le,Et),yt===null?at=Io:yt.sibling=Io,yt=Io,wt=Tn}if(rr.done)return l(ve,wt),Oe&&oe(ve,Et),at;if(wt===null){for(;!rr.done;Et++,rr=xe.next())rr=Be(ve,rr.value,qe),rr!==null&&(le=_(rr,le,Et),yt===null?at=rr:yt.sibling=rr,yt=rr);return Oe&&oe(ve,Et),at}for(wt=d(ve,wt);!rr.done;Et++,rr=xe.next())rr=Ge(wt,ve,Et,rr.value,qe),rr!==null&&(n&&rr.alternate!==null&&wt.delete(rr.key===null?Et:rr.key),le=_(rr,le,Et),yt===null?at=rr:yt.sibling=rr,yt=rr);return n&&wt.forEach(function(Pg){return i(ve,Pg)}),Oe&&oe(ve,Et),at}function ln(ve,le,xe,qe){if(typeof xe=="object"&&xe!==null&&xe.type===we&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case de:e:{for(var at=xe.key,yt=le;yt!==null;){if(yt.key===at){if(at=xe.type,at===we){if(yt.tag===7){l(ve,yt.sibling),le=v(yt,xe.props.children),le.return=ve,ve=le;break e}}else if(yt.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===Ee&&yr(at)===yt.type){l(ve,yt.sibling),le=v(yt,xe.props),le.ref=St(ve,yt,xe),le.return=ve,ve=le;break e}l(ve,yt);break}else i(ve,yt);yt=yt.sibling}xe.type===we?(le=pl(xe.props.children,ve.mode,qe,xe.key),le.return=ve,ve=le):(qe=$c(xe.type,xe.key,xe.props,null,ve.mode,qe),qe.ref=St(ve,le,xe),qe.return=ve,ve=qe)}return j(ve);case be:e:{for(yt=xe.key;le!==null;){if(le.key===yt)if(le.tag===4&&le.stateNode.containerInfo===xe.containerInfo&&le.stateNode.implementation===xe.implementation){l(ve,le.sibling),le=v(le,xe.children||[]),le.return=ve,ve=le;break e}else{l(ve,le);break}else i(ve,le);le=le.sibling}le=gf(xe,ve.mode,qe),le.return=ve,ve=le}return j(ve);case Ee:return yt=xe._init,ln(ve,le,yt(xe._payload),qe)}if(ct(xe))return Ze(ve,le,xe,qe);if(he(xe))return nt(ve,le,xe,qe);zt(ve,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,le!==null&&le.tag===6?(l(ve,le.sibling),le=v(le,xe),le.return=ve,ve=le):(l(ve,le),le=pf(xe,ve.mode,qe),le.return=ve,ve=le),j(ve)):l(ve,le)}return ln}var Yr=fn(!0),Er=fn(!1),an=zi(null),dn=null,xr=null,Ht=null;function Zt(){Ht=xr=dn=null}function Sr(n){var i=an.current;ir(an),n._currentValue=i}function er(n,i,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===l)break;n=n.return}}function Tr(n,i){dn=n,Ht=xr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Li=!0),n.firstContext=null)}function Or(n){var i=n._currentValue;if(Ht!==n)if(n={context:n,memoizedValue:i,next:null},xr===null){if(dn===null)throw Error(t(308));xr=n,dn.dependencies={lanes:0,firstContext:n}}else xr=xr.next=n;return i}var cr=null;function Ln(n){cr===null?cr=[n]:cr.push(n)}function lr(n,i,l,d){var v=i.interleaved;return v===null?(l.next=l,Ln(i)):(l.next=v.next,v.next=l),i.interleaved=l,hr(n,d)}function hr(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Xr=!1;function xn(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jn(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Br(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function qr(n,i,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(tr&2)!==0){var v=d.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),d.pending=i,hr(n,l)}return v=d.interleaved,v===null?(i.next=i,Ln(d)):(i.next=v.next,v.next=i),d.interleaved=i,hr(n,l)}function Cn(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,no(n,l)}}function fr(n,i){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var j={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?v=_=j:_=_.next=j,l=l.next}while(l!==null);_===null?v=_=i:_=_.next=i}else v=_=i;l={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Pn(n,i,l,d){var v=n.updateQueue;Xr=!1;var _=v.firstBaseUpdate,j=v.lastBaseUpdate,X=v.shared.pending;if(X!==null){v.shared.pending=null;var se=X,Ae=se.next;se.next=null,j===null?_=Ae:j.next=Ae,j=se;var De=n.alternate;De!==null&&(De=De.updateQueue,X=De.lastBaseUpdate,X!==j&&(X===null?De.firstBaseUpdate=Ae:X.next=Ae,De.lastBaseUpdate=se))}if(_!==null){var Be=v.baseState;j=0,De=Ae=se=null,X=_;do{var Me=X.lane,Ge=X.eventTime;if((d&Me)===Me){De!==null&&(De=De.next={eventTime:Ge,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Ze=n,nt=X;switch(Me=i,Ge=l,nt.tag){case 1:if(Ze=nt.payload,typeof Ze=="function"){Be=Ze.call(Ge,Be,Me);break e}Be=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=nt.payload,Me=typeof Ze=="function"?Ze.call(Ge,Be,Me):Ze,Me==null)break e;Be=ke({},Be,Me);break e;case 2:Xr=!0}}X.callback!==null&&X.lane!==0&&(n.flags|=64,Me=v.effects,Me===null?v.effects=[X]:Me.push(X))}else Ge={eventTime:Ge,lane:Me,tag:X.tag,payload:X.payload,callback:X.callback,next:null},De===null?(Ae=De=Ge,se=Be):De=De.next=Ge,j|=Me;if(X=X.next,X===null){if(X=v.shared.pending,X===null)break;Me=X,X=Me.next,Me.next=null,v.lastBaseUpdate=Me,v.shared.pending=null}}while(!0);if(De===null&&(se=Be),v.baseState=se,v.firstBaseUpdate=Ae,v.lastBaseUpdate=De,i=v.shared.interleaved,i!==null){v=i;do j|=v.lane,v=v.next;while(v!==i)}else _===null&&(v.shared.lanes=0);cl|=j,n.lanes=j,n.memoizedState=Be}}function Ei(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var d=n[i],v=d.callback;if(v!==null){if(d.callback=null,d=l,typeof v!="function")throw Error(t(191,v));v.call(d)}}}var $i={},pn=zi($i),zr=zi($i),oa=zi($i);function Ps(n){if(n===$i)throw Error(t(174));return n}function ko(n,i){switch(or(oa,i),or(zr,n),or(pn,$i),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:qt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=qt(i,n)}ir(pn),or(pn,i)}function fs(){ir(pn),ir(zr),ir(oa)}function kc(n){Ps(oa.current);var i=Ps(pn.current),l=qt(i,n.type);i!==l&&(or(zr,n),or(pn,l))}function zu(n){zr.current===n&&(ir(pn),ir(zr))}var br=zi(0);function Wi(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $u=[];function Wu(){for(var n=0;n<$u.length;n++)$u[n]._workInProgressVersionPrimary=null;$u.length=0}var Wl=H.ReactCurrentDispatcher,Hl=H.ReactCurrentBatchConfig,ds=0,kr=null,Qr=null,$r=null,No=!1,js=!1,Ao=0,Uh=0;function on(){throw Error(t(321))}function Vl(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!Cr(n[l],i[l]))return!1;return!0}function ol(n,i,l,d,v,_){if(ds=_,kr=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Wl.current=n===null||n.memoizedState===null?rg:ng,n=l(d,v),js){_=0;do{if(js=!1,Ao=0,25<=_)throw Error(t(301));_+=1,$r=Qr=null,i.updateQueue=null,Wl.current=ig,n=l(d,v)}while(js)}if(Wl.current=Cc,i=Qr!==null&&Qr.next!==null,ds=0,$r=Qr=kr=null,No=!1,i)throw Error(t(300));return n}function ps(){var n=Ao!==0;return Ao=0,n}function Hi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?kr.memoizedState=$r=n:$r=$r.next=n,$r}function hi(){if(Qr===null){var n=kr.alternate;n=n!==null?n.memoizedState:null}else n=Qr.next;var i=$r===null?kr.memoizedState:$r.next;if(i!==null)$r=i,Qr=n;else{if(n===null)throw Error(t(310));Qr=n,n={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},$r===null?kr.memoizedState=$r=n:$r=$r.next=n}return $r}function ll(n,i){return typeof i=="function"?i(n):i}function Gl(n){var i=hi(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var d=Qr,v=d.baseQueue,_=l.pending;if(_!==null){if(v!==null){var j=v.next;v.next=_.next,_.next=j}d.baseQueue=v=_,l.pending=null}if(v!==null){_=v.next,d=d.baseState;var X=j=null,se=null,Ae=_;do{var De=Ae.lane;if((ds&De)===De)se!==null&&(se=se.next={lane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),d=Ae.hasEagerState?Ae.eagerState:n(d,Ae.action);else{var Be={lane:De,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null};se===null?(X=se=Be,j=d):se=se.next=Be,kr.lanes|=De,cl|=De}Ae=Ae.next}while(Ae!==null&&Ae!==_);se===null?j=d:se.next=X,Cr(d,i.memoizedState)||(Li=!0),i.memoizedState=d,i.baseState=j,i.baseQueue=se,l.lastRenderedState=d}if(n=l.interleaved,n!==null){v=n;do _=v.lane,kr.lanes|=_,cl|=_,v=v.next;while(v!==n)}else v===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function la(n){var i=hi(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var d=l.dispatch,v=l.pending,_=i.memoizedState;if(v!==null){l.pending=null;var j=v=v.next;do _=n(_,j.action),j=j.next;while(j!==v);Cr(_,i.memoizedState)||(Li=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),l.lastRenderedState=_}return[_,d]}function Nc(){}function Hu(n,i){var l=kr,d=hi(),v=i(),_=!Cr(d.memoizedState,v);if(_&&(d.memoizedState=v,Li=!0),d=d.queue,Yl(Ec.bind(null,l,d,n),[n]),d.getSnapshot!==i||_||$r!==null&&$r.memoizedState.tag&1){if(l.flags|=2048,fi(9,Vu.bind(null,l,d,v,i),void 0,null),jn===null)throw Error(t(349));(ds&30)!==0||Ac(l,i,v)}return v}function Ac(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=kr.updateQueue,i===null?(i={lastEffect:null,stores:null},kr.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function Vu(n,i,l,d){i.value=l,i.getSnapshot=d,Eo(i)&&Kl(n)}function Ec(n,i,l){return l(function(){Eo(i)&&Kl(n)})}function Eo(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!Cr(n,l)}catch{return!0}}function Kl(n){var i=hr(n,1);i!==null&&Fs(i,n,1,-1)}function ul(n){var i=Hi();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:n},i.queue=n,n=n.dispatch=tg.bind(null,kr,n),[i.memoizedState,n]}function fi(n,i,l,d){return n={tag:n,create:i,destroy:l,deps:d,next:null},i=kr.updateQueue,i===null?(i={lastEffect:null,stores:null},kr.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,i.lastEffect=n)),n}function Ts(){return hi().memoizedState}function Vi(n,i,l,d){var v=Hi();kr.flags|=n,v.memoizedState=fi(1|i,l,void 0,d===void 0?null:d)}function Ha(n,i,l,d){var v=hi();d=d===void 0?null:d;var _=void 0;if(Qr!==null){var j=Qr.memoizedState;if(_=j.destroy,d!==null&&Vl(d,j.deps)){v.memoizedState=fi(i,l,_,d);return}}kr.flags|=n,v.memoizedState=fi(1|i,l,_,d)}function Jl(n,i){return Vi(8390656,8,n,i)}function Yl(n,i){return Ha(2048,8,n,i)}function Lc(n,i){return Ha(4,2,n,i)}function Xl(n,i){return Ha(4,4,n,i)}function Ql(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function qd(n,i,l){return l=l!=null?l.concat([n]):null,Ha(4,4,Ql.bind(null,i,n),l)}function Bh(){}function zd(n,i){var l=hi();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Vl(i,d[1])?d[0]:(l.memoizedState=[n,i],n)}function $d(n,i){var l=hi();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Vl(i,d[1])?d[0]:(n=n(),l.memoizedState=[n,i],n)}function Wd(n,i,l){return(ds&21)===0?(n.baseState&&(n.baseState=!1,Li=!0),n.memoizedState=l):(Cr(l,i)||(l=qo(),kr.lanes|=l,cl|=l,n.baseState=!0),i)}function Z2(n,i){var l=Jt;Jt=l!==0&&4>l?l:4,n(!0);var d=Hl.transition;Hl.transition={};try{n(!1),i()}finally{Jt=l,Hl.transition=d}}function Hd(){return hi().memoizedState}function eg(n,i,l){var d=jo(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Vd(n))Gd(i,l);else if(l=lr(n,i,l,d),l!==null){var v=pi();Fs(l,n,d,v),Kd(l,i,d)}}function tg(n,i,l){var d=jo(n),v={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vd(n))Gd(i,v);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var j=i.lastRenderedState,X=_(j,l);if(v.hasEagerState=!0,v.eagerState=X,Cr(X,j)){var se=i.interleaved;se===null?(v.next=v,Ln(i)):(v.next=se.next,se.next=v),i.interleaved=v;return}}catch{}finally{}l=lr(n,i,v,d),l!==null&&(v=pi(),Fs(l,n,d,v),Kd(l,i,d))}}function Vd(n){var i=n.alternate;return n===kr||i!==null&&i===kr}function Gd(n,i){js=No=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function Kd(n,i,l){if((l&4194240)!==0){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,no(n,l)}}var Cc={readContext:Or,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},rg={readContext:Or,useCallback:function(n,i){return Hi().memoizedState=[n,i===void 0?null:i],n},useContext:Or,useEffect:Jl,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,Vi(4194308,4,Ql.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Vi(4194308,4,n,i)},useInsertionEffect:function(n,i){return Vi(4,2,n,i)},useMemo:function(n,i){var l=Hi();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var d=Hi();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},d.queue=n,n=n.dispatch=eg.bind(null,kr,n),[d.memoizedState,n]},useRef:function(n){var i=Hi();return n={current:n},i.memoizedState=n},useState:ul,useDebugValue:Bh,useDeferredValue:function(n){return Hi().memoizedState=n},useTransition:function(){var n=ul(!1),i=n[0];return n=Z2.bind(null,n[1]),Hi().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var d=kr,v=Hi();if(Oe){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),jn===null)throw Error(t(349));(ds&30)!==0||Ac(d,i,l)}v.memoizedState=l;var _={value:l,getSnapshot:i};return v.queue=_,Jl(Ec.bind(null,d,_,n),[n]),d.flags|=2048,fi(9,Vu.bind(null,d,_,l,i),void 0,null),l},useId:function(){var n=Hi(),i=jn.identifierPrefix;if(Oe){var l=W,d=ge;l=(d&~(1<<32-Vr(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Ao++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=Uh++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},ng={readContext:Or,useCallback:zd,useContext:Or,useEffect:Yl,useImperativeHandle:qd,useInsertionEffect:Lc,useLayoutEffect:Xl,useMemo:$d,useReducer:Gl,useRef:Ts,useState:function(){return Gl(ll)},useDebugValue:Bh,useDeferredValue:function(n){var i=hi();return Wd(i,Qr.memoizedState,n)},useTransition:function(){var n=Gl(ll)[0],i=hi().memoizedState;return[n,i]},useMutableSource:Nc,useSyncExternalStore:Hu,useId:Hd,unstable_isNewReconciler:!1},ig={readContext:Or,useCallback:zd,useContext:Or,useEffect:Yl,useImperativeHandle:qd,useInsertionEffect:Lc,useLayoutEffect:Xl,useMemo:$d,useReducer:la,useRef:Ts,useState:function(){return la(ll)},useDebugValue:Bh,useDeferredValue:function(n){var i=hi();return Qr===null?i.memoizedState=n:Wd(i,Qr.memoizedState,n)},useTransition:function(){var n=la(ll)[0],i=hi().memoizedState;return[n,i]},useMutableSource:Nc,useSyncExternalStore:Hu,useId:Hd,unstable_isNewReconciler:!1};function Os(n,i){if(n&&n.defaultProps){i=ke({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function qh(n,i,l,d){i=n.memoizedState,l=l(d,i),l=l==null?i:ke({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Pc={isMounted:function(n){return(n=n._reactInternals)?yn(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var d=pi(),v=jo(n),_=Br(d,v);_.payload=i,l!=null&&(_.callback=l),i=qr(n,_,v),i!==null&&(Fs(i,n,v,d),Cn(i,n,v))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var d=pi(),v=jo(n),_=Br(d,v);_.tag=1,_.payload=i,l!=null&&(_.callback=l),i=qr(n,_,v),i!==null&&(Fs(i,n,v,d),Cn(i,n,v))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=pi(),d=jo(n),v=Br(l,d);v.tag=2,i!=null&&(v.callback=i),i=qr(n,v,d),i!==null&&(Fs(i,n,d,l),Cn(i,n,d))}};function Jd(n,i,l,d,v,_,j){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,_,j):i.prototype&&i.prototype.isPureReactComponent?!Wn(l,d)||!Wn(v,_):!0}function Yd(n,i,l){var d=!1,v=aa,_=i.contextType;return typeof _=="object"&&_!==null?_=Or(_):(v=Kn(i)?$a:_n.current,d=i.contextTypes,_=(d=d!=null)?So(n,v):aa),i=new i(l,_),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Pc,n.stateNode=i,i._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=v,n.__reactInternalMemoizedMaskedChildContext=_),i}function Xd(n,i,l,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==n&&Pc.enqueueReplaceState(i,i.state,null)}function zh(n,i,l,d){var v=n.stateNode;v.props=l,v.state=n.memoizedState,v.refs={},xn(n);var _=i.contextType;typeof _=="object"&&_!==null?v.context=Or(_):(_=Kn(i)?$a:_n.current,v.context=So(n,_)),v.state=n.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(qh(n,i,_,l),v.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(i=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),i!==v.state&&Pc.enqueueReplaceState(v,v.state,null),Pn(n,l,v,d),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308)}function Zl(n,i){try{var l="",d=i;do l+=Q(d),d=d.return;while(d);var v=l}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:n,source:i,stack:v,digest:null}}function $h(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function Wh(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var sg=typeof WeakMap=="function"?WeakMap:Map;function Qd(n,i,l){l=Br(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Mc||(Mc=!0,af=d),Wh(n,i)},l}function Zd(n,i,l){l=Br(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var v=i.value;l.payload=function(){return d(v)},l.callback=function(){Wh(n,i)}}var _=n.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){Wh(n,i),typeof d!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var j=i.stack;this.componentDidCatch(i.value,{componentStack:j!==null?j:""})}),l}function ep(n,i,l){var d=n.pingCache;if(d===null){d=n.pingCache=new sg;var v=new Set;d.set(i,v)}else v=d.get(i),v===void 0&&(v=new Set,d.set(i,v));v.has(l)||(v.add(l),n=wg.bind(null,n,i,l),i.then(n,n))}function tp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function rp(n,i,l,d,v){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Br(-1,1),i.tag=2,qr(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=v,n)}var ag=H.ReactCurrentOwner,Li=!1;function di(n,i,l,d){i.child=n===null?Er(i,null,l,d):Yr(i,n.child,l,d)}function np(n,i,l,d,v){l=l.render;var _=i.ref;return Tr(i,v),d=ol(n,i,l,d,_,v),l=ps(),n!==null&&!Li?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~v,Va(n,i,v)):(Oe&&l&&Pe(i),i.flags|=1,di(n,i,d,v),i.child)}function ip(n,i,l,d,v){if(n===null){var _=l.type;return typeof _=="function"&&!df(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=_,sp(n,i,_,d,v)):(n=$c(l.type,null,d,i,i.mode,v),n.ref=i.ref,n.return=i,i.child=n)}if(_=n.child,(n.lanes&v)===0){var j=_.memoizedProps;if(l=l.compare,l=l!==null?l:Wn,l(j,d)&&n.ref===i.ref)return Va(n,i,v)}return i.flags|=1,n=Oo(_,d),n.ref=i.ref,n.return=i,i.child=n}function sp(n,i,l,d,v){if(n!==null){var _=n.memoizedProps;if(Wn(_,d)&&n.ref===i.ref)if(Li=!1,i.pendingProps=d=_,(n.lanes&v)!==0)(n.flags&131072)!==0&&(Li=!0);else return i.lanes=n.lanes,Va(n,i,v)}return Hh(n,i,l,d,v)}function ap(n,i,l){var d=i.pendingProps,v=d.children,_=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},or(tu,Gi),Gi|=l;else{if((l&1073741824)===0)return n=_!==null?_.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,or(tu,Gi),Gi|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=_!==null?_.baseLanes:l,or(tu,Gi),Gi|=d}else _!==null?(d=_.baseLanes|l,i.memoizedState=null):d=l,or(tu,Gi),Gi|=d;return di(n,i,v,l),i.child}function op(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Hh(n,i,l,d,v){var _=Kn(l)?$a:_n.current;return _=So(i,_),Tr(i,v),l=ol(n,i,l,d,_,v),d=ps(),n!==null&&!Li?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~v,Va(n,i,v)):(Oe&&d&&Pe(i),i.flags|=1,di(n,i,l,v),i.child)}function lp(n,i,l,d,v){if(Kn(l)){var _=!0;Wa(i)}else _=!1;if(Tr(i,v),i.stateNode===null)Tc(n,i),Yd(i,l,d),zh(i,l,d,v),d=!0;else if(n===null){var j=i.stateNode,X=i.memoizedProps;j.props=X;var se=j.context,Ae=l.contextType;typeof Ae=="object"&&Ae!==null?Ae=Or(Ae):(Ae=Kn(l)?$a:_n.current,Ae=So(i,Ae));var De=l.getDerivedStateFromProps,Be=typeof De=="function"||typeof j.getSnapshotBeforeUpdate=="function";Be||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(X!==d||se!==Ae)&&Xd(i,j,d,Ae),Xr=!1;var Me=i.memoizedState;j.state=Me,Pn(i,d,j,v),se=i.memoizedState,X!==d||Me!==se||Gn.current||Xr?(typeof De=="function"&&(qh(i,l,De,d),se=i.memoizedState),(X=Xr||Jd(i,l,X,d,Me,se,Ae))?(Be||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(i.flags|=4194308)):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=se),j.props=d,j.state=se,j.context=Ae,d=X):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{j=i.stateNode,Jn(n,i),X=i.memoizedProps,Ae=i.type===i.elementType?X:Os(i.type,X),j.props=Ae,Be=i.pendingProps,Me=j.context,se=l.contextType,typeof se=="object"&&se!==null?se=Or(se):(se=Kn(l)?$a:_n.current,se=So(i,se));var Ge=l.getDerivedStateFromProps;(De=typeof Ge=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(X!==Be||Me!==se)&&Xd(i,j,d,se),Xr=!1,Me=i.memoizedState,j.state=Me,Pn(i,d,j,v);var Ze=i.memoizedState;X!==Be||Me!==Ze||Gn.current||Xr?(typeof Ge=="function"&&(qh(i,l,Ge,d),Ze=i.memoizedState),(Ae=Xr||Jd(i,l,Ae,d,Me,Ze,se)||!1)?(De||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(d,Ze,se),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(d,Ze,se)),typeof j.componentDidUpdate=="function"&&(i.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof j.componentDidUpdate!="function"||X===n.memoizedProps&&Me===n.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||X===n.memoizedProps&&Me===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Ze),j.props=d,j.state=Ze,j.context=se,d=Ae):(typeof j.componentDidUpdate!="function"||X===n.memoizedProps&&Me===n.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||X===n.memoizedProps&&Me===n.memoizedState||(i.flags|=1024),d=!1)}return Vh(n,i,l,d,_,v)}function Vh(n,i,l,d,v,_){op(n,i);var j=(i.flags&128)!==0;if(!d&&!j)return v&&Sc(i,l,!1),Va(n,i,_);d=i.stateNode,ag.current=i;var X=j&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,n!==null&&j?(i.child=Yr(i,n.child,null,_),i.child=Yr(i,null,X,_)):di(n,i,X,_),i.memoizedState=d.state,v&&Sc(i,l,!0),i.child}function up(n){var i=n.stateNode;i.pendingContext?xc(n,i.pendingContext,i.pendingContext!==i.context):i.context&&xc(n,i.context,!1),ko(n,i.containerInfo)}function cp(n,i,l,d,v){return Je(),ze(v),i.flags|=256,di(n,i,l,d),i.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function Kh(n){return{baseLanes:n,cachePool:null,transitions:null}}function hp(n,i,l){var d=i.pendingProps,v=br.current,_=!1,j=(i.flags&128)!==0,X;if((X=j)||(X=n!==null&&n.memoizedState===null?!1:(v&2)!==0),X?(_=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(v|=1),or(br,v&1),n===null)return Qe(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(j=d.children,n=d.fallback,_?(d=i.mode,_=i.child,j={mode:"hidden",children:j},(d&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=j):_=Wc(j,d,0,null),n=pl(n,d,l,null),_.return=i,n.return=i,_.sibling=n,i.child=_,i.child.memoizedState=Kh(l),i.memoizedState=Gh,n):Jh(i,j));if(v=n.memoizedState,v!==null&&(X=v.dehydrated,X!==null))return og(n,i,j,d,X,v,l);if(_){_=d.fallback,j=i.mode,v=n.child,X=v.sibling;var se={mode:"hidden",children:d.children};return(j&1)===0&&i.child!==v?(d=i.child,d.childLanes=0,d.pendingProps=se,i.deletions=null):(d=Oo(v,se),d.subtreeFlags=v.subtreeFlags&14680064),X!==null?_=Oo(X,_):(_=pl(_,j,l,null),_.flags|=2),_.return=i,d.return=i,d.sibling=_,i.child=d,d=_,_=i.child,j=n.child.memoizedState,j=j===null?Kh(l):{baseLanes:j.baseLanes|l,cachePool:null,transitions:j.transitions},_.memoizedState=j,_.childLanes=n.childLanes&~l,i.memoizedState=Gh,d}return _=n.child,n=_.sibling,d=Oo(_,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=d,i.memoizedState=null,d}function Jh(n,i){return i=Wc({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function jc(n,i,l,d){return d!==null&&ze(d),Yr(i,n.child,null,l),n=Jh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function og(n,i,l,d,v,_,j){if(l)return i.flags&256?(i.flags&=-257,d=$h(Error(t(422))),jc(n,i,j,d)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(_=d.fallback,v=i.mode,d=Wc({mode:"visible",children:d.children},v,0,null),_=pl(_,v,j,null),_.flags|=2,d.return=i,_.return=i,d.sibling=_,i.child=d,(i.mode&1)!==0&&Yr(i,n.child,null,j),i.child.memoizedState=Kh(j),i.memoizedState=Gh,_);if((i.mode&1)===0)return jc(n,i,j,null);if(v.data==="$!"){if(d=v.nextSibling&&v.nextSibling.dataset,d)var X=d.dgst;return d=X,_=Error(t(419)),d=$h(_,d,void 0),jc(n,i,j,d)}if(X=(j&n.childLanes)!==0,Li||X){if(d=jn,d!==null){switch(j&-j){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(d.suspendedLanes|j))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,hr(n,v),Fs(d,n,v,-1))}return ff(),d=$h(Error(t(421))),jc(n,i,j,d)}return v.data==="$?"?(i.flags|=128,i.child=n.child,i=bg.bind(null,n),v._reactRetry=i,null):(n=_.treeContext,Ce=Fn(v.nextSibling),Le=i,Oe=!0,Ie=null,n!==null&&(D[B++]=ge,D[B++]=W,D[B++]=ie,ge=n.id,W=n.overflow,ie=i),i=Jh(i,d.children),i.flags|=4096,i)}function fp(n,i,l){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),er(n.return,i,l)}function Yh(n,i,l,d,v){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:v}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=l,_.tailMode=v)}function dp(n,i,l){var d=i.pendingProps,v=d.revealOrder,_=d.tail;if(di(n,i,d.children,l),d=br.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&fp(n,l,i);else if(n.tag===19)fp(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(or(br,d),(i.mode&1)===0)i.memoizedState=null;else switch(v){case"forwards":for(l=i.child,v=null;l!==null;)n=l.alternate,n!==null&&Wi(n)===null&&(v=l),l=l.sibling;l=v,l===null?(v=i.child,i.child=null):(v=l.sibling,l.sibling=null),Yh(i,!1,v,l,_);break;case"backwards":for(l=null,v=i.child,i.child=null;v!==null;){if(n=v.alternate,n!==null&&Wi(n)===null){i.child=v;break}n=v.sibling,v.sibling=l,l=v,v=n}Yh(i,!0,l,null,_);break;case"together":Yh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Tc(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Va(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),cl|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,l=Oo(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=Oo(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function lg(n,i,l){switch(i.tag){case 3:up(i),Je();break;case 5:kc(i);break;case 1:Kn(i.type)&&Wa(i);break;case 4:ko(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,v=i.memoizedProps.value;or(an,d._currentValue),d._currentValue=v;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(or(br,br.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?hp(n,i,l):(or(br,br.current&1),n=Va(n,i,l),n!==null?n.sibling:null);or(br,br.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(n.flags&128)!==0){if(d)return dp(n,i,l);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),or(br,br.current),d)break;return null;case 22:case 23:return i.lanes=0,ap(n,i,l)}return Va(n,i,l)}var pp,Xh,gp,mp;pp=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Xh=function(){},gp=function(n,i,l,d){var v=n.memoizedProps;if(v!==d){n=i.stateNode,Ps(pn.current);var _=null;switch(l){case"input":v=ot(n,v),d=ot(n,d),_=[];break;case"select":v=ke({},v,{value:void 0}),d=ke({},d,{value:void 0}),_=[];break;case"textarea":v=dt(n,v),d=dt(n,d),_=[];break;default:typeof v.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=bo)}gr(l,d);var j;l=null;for(Ae in v)if(!d.hasOwnProperty(Ae)&&v.hasOwnProperty(Ae)&&v[Ae]!=null)if(Ae==="style"){var X=v[Ae];for(j in X)X.hasOwnProperty(j)&&(l||(l={}),l[j]="")}else Ae!=="dangerouslySetInnerHTML"&&Ae!=="children"&&Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(a.hasOwnProperty(Ae)?_||(_=[]):(_=_||[]).push(Ae,null));for(Ae in d){var se=d[Ae];if(X=v!=null?v[Ae]:void 0,d.hasOwnProperty(Ae)&&se!==X&&(se!=null||X!=null))if(Ae==="style")if(X){for(j in X)!X.hasOwnProperty(j)||se&&se.hasOwnProperty(j)||(l||(l={}),l[j]="");for(j in se)se.hasOwnProperty(j)&&X[j]!==se[j]&&(l||(l={}),l[j]=se[j])}else l||(_||(_=[]),_.push(Ae,l)),l=se;else Ae==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,X=X?X.__html:void 0,se!=null&&X!==se&&(_=_||[]).push(Ae,se)):Ae==="children"?typeof se!="string"&&typeof se!="number"||(_=_||[]).push(Ae,""+se):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ae)?(se!=null&&Ae==="onScroll"&&ur("scroll",n),_||X===se||(_=[])):(_=_||[]).push(Ae,se))}l&&(_=_||[]).push("style",l);var Ae=_;(i.updateQueue=Ae)&&(i.flags|=4)}},mp=function(n,i,l,d){l!==d&&(i.flags|=4)};function Gu(n,i){if(!Oe)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Yn(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(i)for(var v=n.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags&14680064,d|=v.flags&14680064,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=d,n.childLanes=l,i}function ug(n,i,l){var d=i.pendingProps;switch(ye(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(i),null;case 1:return Kn(i.type)&&$l(),Yn(i),null;case 3:return d=i.stateNode,fs(),ir(Gn),ir(_n),Wu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(jr(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ie!==null&&(uf(Ie),Ie=null))),Xh(n,i),Yn(i),null;case 5:zu(i);var v=Ps(oa.current);if(l=i.type,n!==null&&i.stateNode!=null)gp(n,i,l,d,v),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return Yn(i),null}if(n=Ps(pn.current),jr(i)){d=i.stateNode,l=i.type;var _=i.memoizedProps;switch(d[hs]=i,d[_o]=_,n=(i.mode&1)!==0,l){case"dialog":ur("cancel",d),ur("close",d);break;case"iframe":case"object":case"embed":ur("load",d);break;case"video":case"audio":for(v=0;v<ia.length;v++)ur(ia[v],d);break;case"source":ur("error",d);break;case"img":case"image":case"link":ur("error",d),ur("load",d);break;case"details":ur("toggle",d);break;case"input":q(d,_),ur("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!_.multiple},ur("invalid",d);break;case"textarea":ht(d,_),ur("invalid",d)}gr(l,_),v=null;for(var j in _)if(_.hasOwnProperty(j)){var X=_[j];j==="children"?typeof X=="string"?d.textContent!==X&&(_.suppressHydrationWarning!==!0&&zl(d.textContent,X,n),v=["children",X]):typeof X=="number"&&d.textContent!==""+X&&(_.suppressHydrationWarning!==!0&&zl(d.textContent,X,n),v=["children",""+X]):a.hasOwnProperty(j)&&X!=null&&j==="onScroll"&&ur("scroll",d)}switch(l){case"input":Ue(d),pt(d,_,!0);break;case"textarea":Ue(d),Bt(d);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(d.onclick=bo)}d=v,i.updateQueue=d,d!==null&&(i.flags|=4)}else{j=v.nodeType===9?v:v.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ct(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=j.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=j.createElement(l,{is:d.is}):(n=j.createElement(l),l==="select"&&(j=n,d.multiple?j.multiple=!0:d.size&&(j.size=d.size))):n=j.createElementNS(n,l),n[hs]=i,n[_o]=d,pp(n,i,!1,!1),i.stateNode=n;e:{switch(j=ft(l,d),l){case"dialog":ur("cancel",n),ur("close",n),v=d;break;case"iframe":case"object":case"embed":ur("load",n),v=d;break;case"video":case"audio":for(v=0;v<ia.length;v++)ur(ia[v],n);v=d;break;case"source":ur("error",n),v=d;break;case"img":case"image":case"link":ur("error",n),ur("load",n),v=d;break;case"details":ur("toggle",n),v=d;break;case"input":q(n,d),v=ot(n,d),ur("invalid",n);break;case"option":v=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},v=ke({},d,{value:void 0}),ur("invalid",n);break;case"textarea":ht(n,d),v=dt(n,d),ur("invalid",n);break;default:v=d}gr(l,v),X=v;for(_ in X)if(X.hasOwnProperty(_)){var se=X[_];_==="style"?Mt(n,se):_==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,se!=null&&rt(n,se)):_==="children"?typeof se=="string"?(l!=="textarea"||se!=="")&&kt(n,se):typeof se=="number"&&kt(n,""+se):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?se!=null&&_==="onScroll"&&ur("scroll",n):se!=null&&G(n,_,se,j))}switch(l){case"input":Ue(n),pt(n,d,!1);break;case"textarea":Ue(n),Bt(n);break;case"option":d.value!=null&&n.setAttribute("value",""+me(d.value));break;case"select":n.multiple=!!d.multiple,_=d.value,_!=null?Ve(n,!!d.multiple,_,!1):d.defaultValue!=null&&Ve(n,!!d.multiple,d.defaultValue,!0);break;default:typeof v.onClick=="function"&&(n.onclick=bo)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Yn(i),null;case 6:if(n&&i.stateNode!=null)mp(n,i,n.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(l=Ps(oa.current),Ps(pn.current),jr(i)){if(d=i.stateNode,l=i.memoizedProps,d[hs]=i,(_=d.nodeValue!==l)&&(n=Le,n!==null))switch(n.tag){case 3:zl(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zl(d.nodeValue,l,(n.mode&1)!==0)}_&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[hs]=i,i.stateNode=d}return Yn(i),null;case 13:if(ir(br),d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Oe&&Ce!==null&&(i.mode&1)!==0&&(i.flags&128)===0)It(),Je(),i.flags|=98560,_=!1;else if(_=jr(i),d!==null&&d.dehydrated!==null){if(n===null){if(!_)throw Error(t(318));if(_=i.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[hs]=i}else Je(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yn(i),_=!1}else Ie!==null&&(uf(Ie),Ie=null),_=!0;if(!_)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(br.current&1)!==0?Sn===0&&(Sn=3):ff())),i.updateQueue!==null&&(i.flags|=4),Yn(i),null);case 4:return fs(),Xh(n,i),n===null&&Ua(i.stateNode.containerInfo),Yn(i),null;case 10:return Sr(i.type._context),Yn(i),null;case 17:return Kn(i.type)&&$l(),Yn(i),null;case 19:if(ir(br),_=i.memoizedState,_===null)return Yn(i),null;if(d=(i.flags&128)!==0,j=_.rendering,j===null)if(d)Gu(_,!1);else{if(Sn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(j=Wi(n),j!==null){for(i.flags|=128,Gu(_,!1),d=j.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)_=l,n=d,_.flags&=14680066,j=_.alternate,j===null?(_.childLanes=0,_.lanes=n,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=j.childLanes,_.lanes=j.lanes,_.child=j.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=j.memoizedProps,_.memoizedState=j.memoizedState,_.updateQueue=j.updateQueue,_.type=j.type,n=j.dependencies,_.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return or(br,br.current&1|2),i.child}n=n.sibling}_.tail!==null&&wr()>ru&&(i.flags|=128,d=!0,Gu(_,!1),i.lanes=4194304)}else{if(!d)if(n=Wi(j),n!==null){if(i.flags|=128,d=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Gu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!j.alternate&&!Oe)return Yn(i),null}else 2*wr()-_.renderingStartTime>ru&&l!==1073741824&&(i.flags|=128,d=!0,Gu(_,!1),i.lanes=4194304);_.isBackwards?(j.sibling=i.child,i.child=j):(l=_.last,l!==null?l.sibling=j:i.child=j,_.last=j)}return _.tail!==null?(i=_.tail,_.rendering=i,_.tail=i.sibling,_.renderingStartTime=wr(),i.sibling=null,l=br.current,or(br,d?l&1|2:l&1),i):(Yn(i),null);case 22:case 23:return hf(),d=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Gi&1073741824)!==0&&(Yn(i),i.subtreeFlags&6&&(i.flags|=8192)):Yn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function cg(n,i){switch(ye(i),i.tag){case 1:return Kn(i.type)&&$l(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return fs(),ir(Gn),ir(_n),Wu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return zu(i),null;case 13:if(ir(br),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Je()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ir(br),null;case 4:return fs(),null;case 10:return Sr(i.type._context),null;case 22:case 23:return hf(),null;case 24:return null;default:return null}}var Oc=!1,Xn=!1,hg=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function eu(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Zr(n,i,d)}else l.current=null}function Qh(n,i,l){try{l()}catch(d){Zr(n,i,d)}}var vp=!1;function fg(n,i){if(il=oo,n=Jr(),qi(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var v=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var j=0,X=-1,se=-1,Ae=0,De=0,Be=n,Me=null;t:for(;;){for(var Ge;Be!==l||v!==0&&Be.nodeType!==3||(X=j+v),Be!==_||d!==0&&Be.nodeType!==3||(se=j+d),Be.nodeType===3&&(j+=Be.nodeValue.length),(Ge=Be.firstChild)!==null;)Me=Be,Be=Ge;for(;;){if(Be===n)break t;if(Me===l&&++Ae===v&&(X=j),Me===_&&++De===d&&(se=j),(Ge=Be.nextSibling)!==null)break;Be=Me,Me=Be.parentNode}Be=Ge}l=X===-1||se===-1?null:{start:X,end:se}}else l=null}l=l||{start:0,end:0}}else l=null;for(qa={focusedElem:n,selectionRange:l},oo=!1,Ye=i;Ye!==null;)if(i=Ye,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ye=n;else for(;Ye!==null;){i=Ye;try{var Ze=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ze!==null){var nt=Ze.memoizedProps,ln=Ze.memoizedState,ve=i.stateNode,le=ve.getSnapshotBeforeUpdate(i.elementType===i.type?nt:Os(i.type,nt),ln);ve.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var xe=i.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(qe){Zr(i,i.return,qe)}if(n=i.sibling,n!==null){n.return=i.return,Ye=n;break}Ye=i.return}return Ze=vp,vp=!1,Ze}function Ku(n,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var v=d=d.next;do{if((v.tag&n)===n){var _=v.destroy;v.destroy=void 0,_!==void 0&&Qh(i,l,_)}v=v.next}while(v!==d)}}function Ic(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Zh(n){var i=n.ref;if(i!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof i=="function"?i(n):i.current=n}}function yp(n){var i=n.alternate;i!==null&&(n.alternate=null,yp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[hs],delete i[_o],delete i[Vn],delete i[Mh],delete i[Dh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function wp(n){return n.tag===5||n.tag===3||n.tag===4}function bp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||wp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ef(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=bo));else if(d!==4&&(n=n.child,n!==null))for(ef(n,i,l),n=n.sibling;n!==null;)ef(n,i,l),n=n.sibling}function tf(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(tf(n,i,l),n=n.sibling;n!==null;)tf(n,i,l),n=n.sibling}var Mn=null,Is=!1;function Lo(n,i,l){for(l=l.child;l!==null;)_p(n,i,l),l=l.sibling}function _p(n,i,l){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(va,l)}catch{}switch(l.tag){case 5:Xn||eu(l,i);case 6:var d=Mn,v=Is;Mn=null,Lo(n,i,l),Mn=d,Is=v,Mn!==null&&(Is?(n=Mn,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Mn.removeChild(l.stateNode));break;case 18:Mn!==null&&(Is?(n=Mn,l=l.stateNode,n.nodeType===8?Uu(n.parentNode,l):n.nodeType===1&&Uu(n,l),ka(n)):Uu(Mn,l.stateNode));break;case 4:d=Mn,v=Is,Mn=l.stateNode.containerInfo,Is=!0,Lo(n,i,l),Mn=d,Is=v;break;case 0:case 11:case 14:case 15:if(!Xn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){v=d=d.next;do{var _=v,j=_.destroy;_=_.tag,j!==void 0&&((_&2)!==0||(_&4)!==0)&&Qh(l,i,j),v=v.next}while(v!==d)}Lo(n,i,l);break;case 1:if(!Xn&&(eu(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(X){Zr(l,i,X)}Lo(n,i,l);break;case 21:Lo(n,i,l);break;case 22:l.mode&1?(Xn=(d=Xn)||l.memoizedState!==null,Lo(n,i,l),Xn=d):Lo(n,i,l);break;default:Lo(n,i,l)}}function xp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new hg),i.forEach(function(d){var v=_g.bind(null,n,d);l.has(d)||(l.add(d),d.then(v,v))})}}function Rs(n,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var v=l[d];try{var _=n,j=i,X=j;e:for(;X!==null;){switch(X.tag){case 5:Mn=X.stateNode,Is=!1;break e;case 3:Mn=X.stateNode.containerInfo,Is=!0;break e;case 4:Mn=X.stateNode.containerInfo,Is=!0;break e}X=X.return}if(Mn===null)throw Error(t(160));_p(_,j,v),Mn=null,Is=!1;var se=v.alternate;se!==null&&(se.return=null),v.return=null}catch(Ae){Zr(v,i,Ae)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Sp(i,n),i=i.sibling}function Sp(n,i){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Rs(i,n),ua(n),d&4){try{Ku(3,n,n.return),Ic(3,n)}catch(nt){Zr(n,n.return,nt)}try{Ku(5,n,n.return)}catch(nt){Zr(n,n.return,nt)}}break;case 1:Rs(i,n),ua(n),d&512&&l!==null&&eu(l,l.return);break;case 5:if(Rs(i,n),ua(n),d&512&&l!==null&&eu(l,l.return),n.flags&32){var v=n.stateNode;try{kt(v,"")}catch(nt){Zr(n,n.return,nt)}}if(d&4&&(v=n.stateNode,v!=null)){var _=n.memoizedProps,j=l!==null?l.memoizedProps:_,X=n.type,se=n.updateQueue;if(n.updateQueue=null,se!==null)try{X==="input"&&_.type==="radio"&&_.name!=null&&We(v,_),ft(X,j);var Ae=ft(X,_);for(j=0;j<se.length;j+=2){var De=se[j],Be=se[j+1];De==="style"?Mt(v,Be):De==="dangerouslySetInnerHTML"?rt(v,Be):De==="children"?kt(v,Be):G(v,De,Be,Ae)}switch(X){case"input":Ot(v,_);break;case"textarea":Yt(v,_);break;case"select":var Me=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var Ge=_.value;Ge!=null?Ve(v,!!_.multiple,Ge,!1):Me!==!!_.multiple&&(_.defaultValue!=null?Ve(v,!!_.multiple,_.defaultValue,!0):Ve(v,!!_.multiple,_.multiple?[]:"",!1))}v[_o]=_}catch(nt){Zr(n,n.return,nt)}}break;case 6:if(Rs(i,n),ua(n),d&4){if(n.stateNode===null)throw Error(t(162));v=n.stateNode,_=n.memoizedProps;try{v.nodeValue=_}catch(nt){Zr(n,n.return,nt)}}break;case 3:if(Rs(i,n),ua(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ka(i.containerInfo)}catch(nt){Zr(n,n.return,nt)}break;case 4:Rs(i,n),ua(n);break;case 13:Rs(i,n),ua(n),v=n.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(sf=wr())),d&4&&xp(n);break;case 22:if(De=l!==null&&l.memoizedState!==null,n.mode&1?(Xn=(Ae=Xn)||De,Rs(i,n),Xn=Ae):Rs(i,n),ua(n),d&8192){if(Ae=n.memoizedState!==null,(n.stateNode.isHidden=Ae)&&!De&&(n.mode&1)!==0)for(Ye=n,De=n.child;De!==null;){for(Be=Ye=De;Ye!==null;){switch(Me=Ye,Ge=Me.child,Me.tag){case 0:case 11:case 14:case 15:Ku(4,Me,Me.return);break;case 1:eu(Me,Me.return);var Ze=Me.stateNode;if(typeof Ze.componentWillUnmount=="function"){d=Me,l=Me.return;try{i=d,Ze.props=i.memoizedProps,Ze.state=i.memoizedState,Ze.componentWillUnmount()}catch(nt){Zr(d,l,nt)}}break;case 5:eu(Me,Me.return);break;case 22:if(Me.memoizedState!==null){Ap(Be);continue}}Ge!==null?(Ge.return=Me,Ye=Ge):Ap(Be)}De=De.sibling}e:for(De=null,Be=n;;){if(Be.tag===5){if(De===null){De=Be;try{v=Be.stateNode,Ae?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(X=Be.stateNode,se=Be.memoizedProps.style,j=se!=null&&se.hasOwnProperty("display")?se.display:null,X.style.display=Vt("display",j))}catch(nt){Zr(n,n.return,nt)}}}else if(Be.tag===6){if(De===null)try{Be.stateNode.nodeValue=Ae?"":Be.memoizedProps}catch(nt){Zr(n,n.return,nt)}}else if((Be.tag!==22&&Be.tag!==23||Be.memoizedState===null||Be===n)&&Be.child!==null){Be.child.return=Be,Be=Be.child;continue}if(Be===n)break e;for(;Be.sibling===null;){if(Be.return===null||Be.return===n)break e;De===Be&&(De=null),Be=Be.return}De===Be&&(De=null),Be.sibling.return=Be.return,Be=Be.sibling}}break;case 19:Rs(i,n),ua(n),d&4&&xp(n);break;case 21:break;default:Rs(i,n),ua(n)}}function ua(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(wp(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var v=d.stateNode;d.flags&32&&(kt(v,""),d.flags&=-33);var _=bp(n);tf(n,_,v);break;case 3:case 4:var j=d.stateNode.containerInfo,X=bp(n);ef(n,X,j);break;default:throw Error(t(161))}}catch(se){Zr(n,n.return,se)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function dg(n,i,l){Ye=n,kp(n)}function kp(n,i,l){for(var d=(n.mode&1)!==0;Ye!==null;){var v=Ye,_=v.child;if(v.tag===22&&d){var j=v.memoizedState!==null||Oc;if(!j){var X=v.alternate,se=X!==null&&X.memoizedState!==null||Xn;X=Oc;var Ae=Xn;if(Oc=j,(Xn=se)&&!Ae)for(Ye=v;Ye!==null;)j=Ye,se=j.child,j.tag===22&&j.memoizedState!==null?Ep(v):se!==null?(se.return=j,Ye=se):Ep(v);for(;_!==null;)Ye=_,kp(_),_=_.sibling;Ye=v,Oc=X,Xn=Ae}Np(n)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,Ye=_):Np(n)}}function Np(n){for(;Ye!==null;){var i=Ye;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Xn||Ic(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Xn)if(l===null)d.componentDidMount();else{var v=i.elementType===i.type?l.memoizedProps:Os(i.type,l.memoizedProps);d.componentDidUpdate(v,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var _=i.updateQueue;_!==null&&Ei(i,_,d);break;case 3:var j=i.updateQueue;if(j!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Ei(i,j,l)}break;case 5:var X=i.stateNode;if(l===null&&i.flags&4){l=X;var se=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":se.autoFocus&&l.focus();break;case"img":se.src&&(l.src=se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Ae=i.alternate;if(Ae!==null){var De=Ae.memoizedState;if(De!==null){var Be=De.dehydrated;Be!==null&&ka(Be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Xn||i.flags&512&&Zh(i)}catch(Me){Zr(i,i.return,Me)}}if(i===n){Ye=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ye=l;break}Ye=i.return}}function Ap(n){for(;Ye!==null;){var i=Ye;if(i===n){Ye=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ye=l;break}Ye=i.return}}function Ep(n){for(;Ye!==null;){var i=Ye;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Ic(4,i)}catch(se){Zr(i,l,se)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var v=i.return;try{d.componentDidMount()}catch(se){Zr(i,v,se)}}var _=i.return;try{Zh(i)}catch(se){Zr(i,_,se)}break;case 5:var j=i.return;try{Zh(i)}catch(se){Zr(i,j,se)}}}catch(se){Zr(i,i.return,se)}if(i===n){Ye=null;break}var X=i.sibling;if(X!==null){X.return=i.return,Ye=X;break}Ye=i.return}}var pg=Math.ceil,Rc=H.ReactCurrentDispatcher,rf=H.ReactCurrentOwner,gs=H.ReactCurrentBatchConfig,tr=0,jn=null,gn=null,Dn=0,Gi=0,tu=zi(0),Sn=0,Ju=null,cl=0,Fc=0,nf=0,Yu=null,Ci=null,sf=0,ru=1/0,Ga=null,Mc=!1,af=null,Co=null,Dc=!1,Po=null,Uc=0,Xu=0,of=null,Bc=-1,qc=0;function pi(){return(tr&6)!==0?wr():Bc!==-1?Bc:Bc=wr()}function jo(n){return(n.mode&1)===0?1:(tr&2)!==0&&Dn!==0?Dn&-Dn:Ur.transition!==null?(qc===0&&(qc=qo()),qc):(n=Jt,n!==0||(n=window.event,n=n===void 0?16:Aa(n.type)),n)}function Fs(n,i,l,d){if(50<Xu)throw Xu=0,of=null,Error(t(185));ba(n,l,d),((tr&2)===0||n!==jn)&&(n===jn&&((tr&2)===0&&(Fc|=l),Sn===4&&To(n,Dn)),Pi(n,d),l===1&&tr===0&&(i.mode&1)===0&&(ru=wr()+500,al&&x()))}function Pi(n,i){var l=n.callbackNode;nn(n,i);var d=wa(n,n===jn?Dn:0);if(d===0)l!==null&&ma(l),n.callbackNode=null,n.callbackPriority=0;else if(i=d&-d,n.callbackPriority!==i){if(l!=null&&ma(l),i===1)n.tag===0?b(Cp.bind(null,n)):p(Cp.bind(null,n)),Rh(function(){(tr&6)===0&&x()}),l=null;else{switch(_a(d)){case 1:l=eo;break;case 4:l=ii;break;case 16:l=Gs;break;case 536870912:l=to;break;default:l=Gs}l=Mp(l,Lp.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function Lp(n,i){if(Bc=-1,qc=0,(tr&6)!==0)throw Error(t(327));var l=n.callbackNode;if(nu()&&n.callbackNode!==l)return null;var d=wa(n,n===jn?Dn:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||i)i=zc(n,d);else{i=d;var v=tr;tr|=2;var _=jp();(jn!==n||Dn!==i)&&(Ga=null,ru=wr()+500,fl(n,i));do try{vg();break}catch(X){Pp(n,X)}while(!0);Zt(),Rc.current=_,tr=v,gn!==null?i=0:(jn=null,Dn=0,i=Sn)}if(i!==0){if(i===2&&(v=Fi(n),v!==0&&(d=v,i=lf(n,v))),i===1)throw l=Ju,fl(n,0),To(n,d),Pi(n,wr()),l;if(i===6)To(n,d);else{if(v=n.current.alternate,(d&30)===0&&!gg(v)&&(i=zc(n,d),i===2&&(_=Fi(n),_!==0&&(d=_,i=lf(n,_))),i===1))throw l=Ju,fl(n,0),To(n,d),Pi(n,wr()),l;switch(n.finishedWork=v,n.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:dl(n,Ci,Ga);break;case 3:if(To(n,d),(d&130023424)===d&&(i=sf+500-wr(),10<i)){if(wa(n,0)!==0)break;if(v=n.suspendedLanes,(v&d)!==d){pi(),n.pingedLanes|=n.suspendedLanes&v;break}n.timeoutHandle=Du(dl.bind(null,n,Ci,Ga),i);break}dl(n,Ci,Ga);break;case 4:if(To(n,d),(d&4194240)===d)break;for(i=n.eventTimes,v=-1;0<d;){var j=31-Vr(d);_=1<<j,j=i[j],j>v&&(v=j),d&=~_}if(d=v,d=wr()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*pg(d/1960))-d,10<d){n.timeoutHandle=Du(dl.bind(null,n,Ci,Ga),d);break}dl(n,Ci,Ga);break;case 5:dl(n,Ci,Ga);break;default:throw Error(t(329))}}}return Pi(n,wr()),n.callbackNode===l?Lp.bind(null,n):null}function lf(n,i){var l=Yu;return n.current.memoizedState.isDehydrated&&(fl(n,i).flags|=256),n=zc(n,i),n!==2&&(i=Ci,Ci=l,i!==null&&uf(i)),n}function uf(n){Ci===null?Ci=n:Ci.push.apply(Ci,n)}function gg(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var v=l[d],_=v.getSnapshot;v=v.value;try{if(!Cr(_(),v))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function To(n,i){for(i&=~nf,i&=~Fc,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-Vr(i),d=1<<l;n[l]=-1,i&=~d}}function Cp(n){if((tr&6)!==0)throw Error(t(327));nu();var i=wa(n,0);if((i&1)===0)return Pi(n,wr()),null;var l=zc(n,i);if(n.tag!==0&&l===2){var d=Fi(n);d!==0&&(i=d,l=lf(n,d))}if(l===1)throw l=Ju,fl(n,0),To(n,i),Pi(n,wr()),l;if(l===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,dl(n,Ci,Ga),Pi(n,wr()),null}function cf(n,i){var l=tr;tr|=1;try{return n(i)}finally{tr=l,tr===0&&(ru=wr()+500,al&&x())}}function hl(n){Po!==null&&Po.tag===0&&(tr&6)===0&&nu();var i=tr;tr|=1;var l=gs.transition,d=Jt;try{if(gs.transition=null,Jt=1,n)return n()}finally{Jt=d,gs.transition=l,tr=i,(tr&6)===0&&x()}}function hf(){Gi=tu.current,ir(tu)}function fl(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,bc(l)),gn!==null)for(l=gn.return;l!==null;){var d=l;switch(ye(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$l();break;case 3:fs(),ir(Gn),ir(_n),Wu();break;case 5:zu(d);break;case 4:fs();break;case 13:ir(br);break;case 19:ir(br);break;case 10:Sr(d.type._context);break;case 22:case 23:hf()}l=l.return}if(jn=n,gn=n=Oo(n.current,null),Dn=Gi=i,Sn=0,Ju=null,nf=Fc=cl=0,Ci=Yu=null,cr!==null){for(i=0;i<cr.length;i++)if(l=cr[i],d=l.interleaved,d!==null){l.interleaved=null;var v=d.next,_=l.pending;if(_!==null){var j=_.next;_.next=v,d.next=j}l.pending=d}cr=null}return n}function Pp(n,i){do{var l=gn;try{if(Zt(),Wl.current=Cc,No){for(var d=kr.memoizedState;d!==null;){var v=d.queue;v!==null&&(v.pending=null),d=d.next}No=!1}if(ds=0,$r=Qr=kr=null,js=!1,Ao=0,rf.current=null,l===null||l.return===null){Sn=1,Ju=i,gn=null;break}e:{var _=n,j=l.return,X=l,se=i;if(i=Dn,X.flags|=32768,se!==null&&typeof se=="object"&&typeof se.then=="function"){var Ae=se,De=X,Be=De.tag;if((De.mode&1)===0&&(Be===0||Be===11||Be===15)){var Me=De.alternate;Me?(De.updateQueue=Me.updateQueue,De.memoizedState=Me.memoizedState,De.lanes=Me.lanes):(De.updateQueue=null,De.memoizedState=null)}var Ge=tp(j);if(Ge!==null){Ge.flags&=-257,rp(Ge,j,X,_,i),Ge.mode&1&&ep(_,Ae,i),i=Ge,se=Ae;var Ze=i.updateQueue;if(Ze===null){var nt=new Set;nt.add(se),i.updateQueue=nt}else Ze.add(se);break e}else{if((i&1)===0){ep(_,Ae,i),ff();break e}se=Error(t(426))}}else if(Oe&&X.mode&1){var ln=tp(j);if(ln!==null){(ln.flags&65536)===0&&(ln.flags|=256),rp(ln,j,X,_,i),ze(Zl(se,X));break e}}_=se=Zl(se,X),Sn!==4&&(Sn=2),Yu===null?Yu=[_]:Yu.push(_),_=j;do{switch(_.tag){case 3:_.flags|=65536,i&=-i,_.lanes|=i;var ve=Qd(_,se,i);fr(_,ve);break e;case 1:X=se;var le=_.type,xe=_.stateNode;if((_.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Co===null||!Co.has(xe)))){_.flags|=65536,i&=-i,_.lanes|=i;var qe=Zd(_,X,i);fr(_,qe);break e}}_=_.return}while(_!==null)}Op(l)}catch(at){i=at,gn===l&&l!==null&&(gn=l=l.return);continue}break}while(!0)}function jp(){var n=Rc.current;return Rc.current=Cc,n===null?Cc:n}function ff(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),jn===null||(cl&268435455)===0&&(Fc&268435455)===0||To(jn,Dn)}function zc(n,i){var l=tr;tr|=2;var d=jp();(jn!==n||Dn!==i)&&(Ga=null,fl(n,i));do try{mg();break}catch(v){Pp(n,v)}while(!0);if(Zt(),tr=l,Rc.current=d,gn!==null)throw Error(t(261));return jn=null,Dn=0,Sn}function mg(){for(;gn!==null;)Tp(gn)}function vg(){for(;gn!==null&&!Za();)Tp(gn)}function Tp(n){var i=Fp(n.alternate,n,Gi);n.memoizedProps=n.pendingProps,i===null?Op(n):gn=i,rf.current=null}function Op(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=ug(l,i,Gi),l!==null){gn=l;return}}else{if(l=cg(l,i),l!==null){l.flags&=32767,gn=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Sn=6,gn=null;return}}if(i=i.sibling,i!==null){gn=i;return}gn=i=n}while(i!==null);Sn===0&&(Sn=5)}function dl(n,i,l){var d=Jt,v=gs.transition;try{gs.transition=null,Jt=1,yg(n,i,l,d)}finally{gs.transition=v,Jt=d}return null}function yg(n,i,l,d){do nu();while(Po!==null);if((tr&6)!==0)throw Error(t(327));l=n.finishedWork;var v=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var _=l.lanes|l.childLanes;if(rs(n,_),n===jn&&(gn=jn=null,Dn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Dc||(Dc=!0,Mp(Gs,function(){return nu(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=gs.transition,gs.transition=null;var j=Jt;Jt=1;var X=tr;tr|=4,rf.current=null,fg(n,l),Sp(l,n),Yo(qa),oo=!!il,qa=il=null,n.current=l,dg(l),Au(),tr=X,Jt=j,gs.transition=_}else n.current=l;if(Dc&&(Dc=!1,Po=n,Uc=v),_=n.pendingLanes,_===0&&(Co=null),jl(l.stateNode),Pi(n,wr()),i!==null)for(d=n.onRecoverableError,l=0;l<i.length;l++)v=i[l],d(v.value,{componentStack:v.stack,digest:v.digest});if(Mc)throw Mc=!1,n=af,af=null,n;return(Uc&1)!==0&&n.tag!==0&&nu(),_=n.pendingLanes,(_&1)!==0?n===of?Xu++:(Xu=0,of=n):Xu=0,x(),null}function nu(){if(Po!==null){var n=_a(Uc),i=gs.transition,l=Jt;try{if(gs.transition=null,Jt=16>n?16:n,Po===null)var d=!1;else{if(n=Po,Po=null,Uc=0,(tr&6)!==0)throw Error(t(331));var v=tr;for(tr|=4,Ye=n.current;Ye!==null;){var _=Ye,j=_.child;if((Ye.flags&16)!==0){var X=_.deletions;if(X!==null){for(var se=0;se<X.length;se++){var Ae=X[se];for(Ye=Ae;Ye!==null;){var De=Ye;switch(De.tag){case 0:case 11:case 15:Ku(8,De,_)}var Be=De.child;if(Be!==null)Be.return=De,Ye=Be;else for(;Ye!==null;){De=Ye;var Me=De.sibling,Ge=De.return;if(yp(De),De===Ae){Ye=null;break}if(Me!==null){Me.return=Ge,Ye=Me;break}Ye=Ge}}}var Ze=_.alternate;if(Ze!==null){var nt=Ze.child;if(nt!==null){Ze.child=null;do{var ln=nt.sibling;nt.sibling=null,nt=ln}while(nt!==null)}}Ye=_}}if((_.subtreeFlags&2064)!==0&&j!==null)j.return=_,Ye=j;else e:for(;Ye!==null;){if(_=Ye,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ku(9,_,_.return)}var ve=_.sibling;if(ve!==null){ve.return=_.return,Ye=ve;break e}Ye=_.return}}var le=n.current;for(Ye=le;Ye!==null;){j=Ye;var xe=j.child;if((j.subtreeFlags&2064)!==0&&xe!==null)xe.return=j,Ye=xe;else e:for(j=le;Ye!==null;){if(X=Ye,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:Ic(9,X)}}catch(at){Zr(X,X.return,at)}if(X===j){Ye=null;break e}var qe=X.sibling;if(qe!==null){qe.return=X.return,Ye=qe;break e}Ye=X.return}}if(tr=v,x(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(va,n)}catch{}d=!0}return d}finally{Jt=l,gs.transition=i}}return!1}function Ip(n,i,l){i=Zl(l,i),i=Qd(n,i,1),n=qr(n,i,1),i=pi(),n!==null&&(ba(n,1,i),Pi(n,i))}function Zr(n,i,l){if(n.tag===3)Ip(n,n,l);else for(;i!==null;){if(i.tag===3){Ip(i,n,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Co===null||!Co.has(d))){n=Zl(l,n),n=Zd(i,n,1),i=qr(i,n,1),n=pi(),i!==null&&(ba(i,1,n),Pi(i,n));break}}i=i.return}}function wg(n,i,l){var d=n.pingCache;d!==null&&d.delete(i),i=pi(),n.pingedLanes|=n.suspendedLanes&l,jn===n&&(Dn&l)===l&&(Sn===4||Sn===3&&(Dn&130023424)===Dn&&500>wr()-sf?fl(n,0):nf|=l),Pi(n,i)}function Rp(n,i){i===0&&((n.mode&1)===0?i=1:(i=ai,ai<<=1,(ai&130023424)===0&&(ai=4194304)));var l=pi();n=hr(n,i),n!==null&&(ba(n,i,l),Pi(n,l))}function bg(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),Rp(n,l)}function _g(n,i){var l=0;switch(n.tag){case 13:var d=n.stateNode,v=n.memoizedState;v!==null&&(l=v.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),Rp(n,l)}var Fp;Fp=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||Gn.current)Li=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return Li=!1,lg(n,i,l);Li=(n.flags&131072)!==0}else Li=!1,Oe&&(i.flags&1048576)!==0&&fe(i,F,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Tc(n,i),n=i.pendingProps;var v=So(i,_n.current);Tr(i,l),v=ol(null,i,d,n,v,l);var _=ps();return i.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Kn(d)?(_=!0,Wa(i)):_=!1,i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,xn(i),v.updater=Pc,i.stateNode=v,v._reactInternals=i,zh(i,d,n,l),i=Vh(null,i,d,!0,_,l)):(i.tag=0,Oe&&_&&Pe(i),di(null,i,v,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Tc(n,i),n=i.pendingProps,v=d._init,d=v(d._payload),i.type=d,v=i.tag=Sg(d),n=Os(d,n),v){case 0:i=Hh(null,i,d,n,l);break e;case 1:i=lp(null,i,d,n,l);break e;case 11:i=np(null,i,d,n,l);break e;case 14:i=ip(null,i,d,Os(d.type,n),l);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,v=i.pendingProps,v=i.elementType===d?v:Os(d,v),Hh(n,i,d,v,l);case 1:return d=i.type,v=i.pendingProps,v=i.elementType===d?v:Os(d,v),lp(n,i,d,v,l);case 3:e:{if(up(i),n===null)throw Error(t(387));d=i.pendingProps,_=i.memoizedState,v=_.element,Jn(n,i),Pn(i,d,null,l);var j=i.memoizedState;if(d=j.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){v=Zl(Error(t(423)),i),i=cp(n,i,d,l,v);break e}else if(d!==v){v=Zl(Error(t(424)),i),i=cp(n,i,d,l,v);break e}else for(Ce=Fn(i.stateNode.containerInfo.firstChild),Le=i,Oe=!0,Ie=null,l=Er(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Je(),d===v){i=Va(n,i,l);break e}di(n,i,d,l)}i=i.child}return i;case 5:return kc(i),n===null&&Qe(i),d=i.type,v=i.pendingProps,_=n!==null?n.memoizedProps:null,j=v.children,Mu(d,v)?j=null:_!==null&&Mu(d,_)&&(i.flags|=32),op(n,i),di(n,i,j,l),i.child;case 6:return n===null&&Qe(i),null;case 13:return hp(n,i,l);case 4:return ko(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=Yr(i,null,d,l):di(n,i,d,l),i.child;case 11:return d=i.type,v=i.pendingProps,v=i.elementType===d?v:Os(d,v),np(n,i,d,v,l);case 7:return di(n,i,i.pendingProps,l),i.child;case 8:return di(n,i,i.pendingProps.children,l),i.child;case 12:return di(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,v=i.pendingProps,_=i.memoizedProps,j=v.value,or(an,d._currentValue),d._currentValue=j,_!==null)if(Cr(_.value,j)){if(_.children===v.children&&!Gn.current){i=Va(n,i,l);break e}}else for(_=i.child,_!==null&&(_.return=i);_!==null;){var X=_.dependencies;if(X!==null){j=_.child;for(var se=X.firstContext;se!==null;){if(se.context===d){if(_.tag===1){se=Br(-1,l&-l),se.tag=2;var Ae=_.updateQueue;if(Ae!==null){Ae=Ae.shared;var De=Ae.pending;De===null?se.next=se:(se.next=De.next,De.next=se),Ae.pending=se}}_.lanes|=l,se=_.alternate,se!==null&&(se.lanes|=l),er(_.return,l,i),X.lanes|=l;break}se=se.next}}else if(_.tag===10)j=_.type===i.type?null:_.child;else if(_.tag===18){if(j=_.return,j===null)throw Error(t(341));j.lanes|=l,X=j.alternate,X!==null&&(X.lanes|=l),er(j,l,i),j=_.sibling}else j=_.child;if(j!==null)j.return=_;else for(j=_;j!==null;){if(j===i){j=null;break}if(_=j.sibling,_!==null){_.return=j.return,j=_;break}j=j.return}_=j}di(n,i,v.children,l),i=i.child}return i;case 9:return v=i.type,d=i.pendingProps.children,Tr(i,l),v=Or(v),d=d(v),i.flags|=1,di(n,i,d,l),i.child;case 14:return d=i.type,v=Os(d,i.pendingProps),v=Os(d.type,v),ip(n,i,d,v,l);case 15:return sp(n,i,i.type,i.pendingProps,l);case 17:return d=i.type,v=i.pendingProps,v=i.elementType===d?v:Os(d,v),Tc(n,i),i.tag=1,Kn(d)?(n=!0,Wa(i)):n=!1,Tr(i,l),Yd(i,d,v),zh(i,d,v,l),Vh(null,i,d,!0,n,l);case 19:return dp(n,i,l);case 22:return ap(n,i,l)}throw Error(t(156,i.tag))};function Mp(n,i){return ga(n,i)}function xg(n,i,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(n,i,l,d){return new xg(n,i,l,d)}function df(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sg(n){if(typeof n=="function")return df(n)?1:0;if(n!=null){if(n=n.$$typeof,n===$)return 11;if(n===Se)return 14}return 2}function Oo(n,i){var l=n.alternate;return l===null?(l=ms(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function $c(n,i,l,d,v,_){var j=2;if(d=n,typeof n=="function")df(n)&&(j=1);else if(typeof n=="string")j=5;else e:switch(n){case we:return pl(l.children,v,_,i);case ae:j=8,v|=8;break;case Y:return n=ms(12,l,i,v|2),n.elementType=Y,n.lanes=_,n;case te:return n=ms(13,l,i,v),n.elementType=te,n.lanes=_,n;case ee:return n=ms(19,l,i,v),n.elementType=ee,n.lanes=_,n;case Ne:return Wc(l,v,_,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case pe:j=10;break e;case M:j=9;break e;case $:j=11;break e;case Se:j=14;break e;case Ee:j=16,d=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=ms(j,l,i,v),i.elementType=n,i.type=d,i.lanes=_,i}function pl(n,i,l,d){return n=ms(7,n,d,i),n.lanes=l,n}function Wc(n,i,l,d){return n=ms(22,n,d,i),n.elementType=Ne,n.lanes=l,n.stateNode={isHidden:!1},n}function pf(n,i,l){return n=ms(6,n,null,i),n.lanes=l,n}function gf(n,i,l){return i=ms(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function kg(n,i,l,d,v){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=d,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function mf(n,i,l,d,v,_,j,X,se){return n=new kg(n,i,l,X,se),i===1?(i=1,_===!0&&(i|=8)):i=0,_=ms(3,null,null,i),n.current=_,_.stateNode=n,_.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},xn(_),n}function Ng(n,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:be,key:d==null?null:""+d,children:n,containerInfo:i,implementation:l}}function Dp(n){if(!n)return aa;n=n._reactInternals;e:{if(yn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Kn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var l=n.type;if(Kn(l))return qu(n,l,i)}return i}function Up(n,i,l,d,v,_,j,X,se){return n=mf(l,d,!0,n,v,_,j,X,se),n.context=Dp(null),l=n.current,d=pi(),v=jo(l),_=Br(d,v),_.callback=i??null,qr(l,_,v),n.current.lanes=v,ba(n,v,d),Pi(n,d),n}function Hc(n,i,l,d){var v=i.current,_=pi(),j=jo(v);return l=Dp(l),i.context===null?i.context=l:i.pendingContext=l,i=Br(_,j),i.payload={element:n},d=d===void 0?null:d,d!==null&&(i.callback=d),n=qr(v,i,j),n!==null&&(Fs(n,v,j,_),Cn(n,v,j)),j}function Vc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Bp(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function vf(n,i){Bp(n,i),(n=n.alternate)&&Bp(n,i)}function Ag(){return null}var qp=typeof reportError=="function"?reportError:function(n){console.error(n)};function yf(n){this._internalRoot=n}Gc.prototype.render=yf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Hc(n,i,null,null)},Gc.prototype.unmount=yf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;hl(function(){Hc(null,n,null,null)}),i[En]=null}};function Gc(n){this._internalRoot=n}Gc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ol();n={blockedOn:null,target:n,priority:i};for(var l=0;l<is.length&&i!==0&&i<is[l].priority;l++);is.splice(l,0,n),l===0&&Rl(n)}};function wf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Kc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function zp(){}function Eg(n,i,l,d,v){if(v){if(typeof d=="function"){var _=d;d=function(){var Ae=Vc(j);_.call(Ae)}}var j=Up(i,d,n,0,null,!1,!1,"",zp);return n._reactRootContainer=j,n[En]=j.current,Ua(n.nodeType===8?n.parentNode:n),hl(),j}for(;v=n.lastChild;)n.removeChild(v);if(typeof d=="function"){var X=d;d=function(){var Ae=Vc(se);X.call(Ae)}}var se=mf(n,0,!1,null,null,!1,!1,"",zp);return n._reactRootContainer=se,n[En]=se.current,Ua(n.nodeType===8?n.parentNode:n),hl(function(){Hc(i,se,l,d)}),se}function Jc(n,i,l,d,v){var _=l._reactRootContainer;if(_){var j=_;if(typeof v=="function"){var X=v;v=function(){var se=Vc(j);X.call(se)}}Hc(i,j,n,v)}else j=Eg(l,i,n,v,d);return Vc(j)}Ks=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=ts(i.pendingLanes);l!==0&&(no(i,l|1),Pi(i,wr()),(tr&6)===0&&(ru=wr()+500,x()))}break;case 13:hl(function(){var d=hr(n,1);if(d!==null){var v=pi();Fs(d,n,1,v)}}),vf(n,1)}},$o=function(n){if(n.tag===13){var i=hr(n,134217728);if(i!==null){var l=pi();Fs(i,n,134217728,l)}vf(n,134217728)}},Tl=function(n){if(n.tag===13){var i=jo(n),l=hr(n,i);if(l!==null){var d=pi();Fs(l,n,i,d)}vf(n,i)}},Ol=function(){return Jt},io=function(n,i){var l=Jt;try{return Jt=n,i()}finally{Jt=l}},At=function(n,i,l){switch(i){case"input":if(Ot(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==n&&d.form===n.form){var v=sl(d);if(!v)throw Error(t(90));He(d),Ot(d,v)}}}break;case"textarea":Yt(n,l);break;case"select":i=l.value,i!=null&&Ve(n,!!l.multiple,i,!1)}},vn=cf,Zi=hl;var Lg={usingClientEntryPoint:!1,Events:[xo,za,sl,Xt,Ws,cf]},Qu={findFiberByHostInstance:sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cg={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ri(n),n===null?null:n.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||Ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{va=Yc.inject(Cg),si=Yc}catch{}}return ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg,ji.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wf(i))throw Error(t(200));return Ng(n,i,null,l)},ji.createRoot=function(n,i){if(!wf(n))throw Error(t(299));var l=!1,d="",v=qp;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=mf(n,1,!1,null,null,l,!1,d,v),n[En]=i.current,Ua(n.nodeType===8?n.parentNode:n),new yf(i)},ji.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ri(i),n=n===null?null:n.stateNode,n},ji.flushSync=function(n){return hl(n)},ji.hydrate=function(n,i,l){if(!Kc(i))throw Error(t(200));return Jc(null,n,i,!0,l)},ji.hydrateRoot=function(n,i,l){if(!wf(n))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,v=!1,_="",j=qp;if(l!=null&&(l.unstable_strictMode===!0&&(v=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(j=l.onRecoverableError)),i=Up(i,null,n,1,l??null,v,!1,_,j),n[En]=i.current,Ua(n),d)for(n=0;n<d.length;n++)l=d[n],v=l._getVersion,v=v(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,v]:i.mutableSourceEagerHydrationData.push(l,v);return new Gc(i)},ji.render=function(n,i,l){if(!Kc(i))throw Error(t(200));return Jc(null,n,i,!1,l)},ji.unmountComponentAtNode=function(n){if(!Kc(n))throw Error(t(40));return n._reactRootContainer?(hl(function(){Jc(null,null,n,!1,function(){n._reactRootContainer=null,n[En]=null})}),!0):!1},ji.unstable_batchedUpdates=cf,ji.unstable_renderSubtreeIntoContainer=function(n,i,l,d){if(!Kc(l))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Jc(n,i,l,!1,d)},ji.version="18.3.1-next-f1338f8080-20240426",ji}var Yp;function Bg(){if(Yp)return xf.exports;Yp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xf.exports=Ug(),xf.exports}var Xp;function qg(){if(Xp)return Xc;Xp=1;var r=Bg();return Xc.createRoot=r.createRoot,Xc.hydrateRoot=r.hydrateRoot,Xc}var zg=qg();const $g=U1(zg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hg=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Qp=r=>{const e=Hg(r);return e.charAt(0).toUpperCase()+e.slice(1)},B1=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),Vg=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Ft.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:h,...u},f)=>Ft.createElement("svg",{ref:f,...Gg,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:B1("lucide",a),...!o&&!Vg(u)&&{"aria-hidden":"true"},...u},[...h.map(([g,y])=>Ft.createElement(g,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(r,e)=>{const t=Ft.forwardRef(({className:s,...a},o)=>Ft.createElement(Kg,{ref:o,iconNode:e,className:B1(`lucide-${Wg(Qp(r))}`,`lucide-${r}`,s),...a}));return t.displayName=Qp(r),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zp=Kt("arrow-left",Jg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xg=Kt("arrow-right",Yg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Zg=Kt("award",Qg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Nh=Kt("book-open",em);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],rm=Kt("bookmark",tm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],im=Kt("chevron-right",nm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],am=Kt("circle-check",sm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lm=Kt("circle-x",om);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cm=Kt("circle",um);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],fm=Kt("clipboard-check",hm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ed=Kt("clock",dm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],gm=Kt("file-code",pm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],e0=Kt("house",mm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ym=Kt("layout-dashboard",vm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],bm=Kt("list-checks",wm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ld=Kt("loader-circle",_m);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sm=Kt("log-out",xm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Nm=Kt("mail",km);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Em=Kt("menu",Am);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Cd=Kt("message-square",Lm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pm=Kt("plus",Cm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],q1=Kt("search",jm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Om=Kt("send",Tm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nd=Kt("settings",Im);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Fm=Kt("shield-alert",Rm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dm=Kt("shield-check",Mm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ah=Kt("shield",Um);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qm=Kt("square-pen",Bm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$m=Kt("trash-2",zm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hm=Kt("triangle-alert",Wm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gm=Kt("user-check",Vm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Jm=Kt("user-minus",Km);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xm=Kt("user",Ym);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],z1=Kt("users",Qm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Eh=Kt("x",Zm),e5="https://treinamentos.ativbrasil.com.br/",kl=({children:r,variant:e="primary",fullWidth:t=!1,icon:s,className:a="",...o})=>{const h="font-sans font-medium transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-amber-500 hover:bg-amber-600 text-black-900 rounded-xl shadow-[0_0_10px_rgba(255,159,28,0.2)]",secondary:"bg-transparent border border-graphite-600 text-text-primary hover:border-amber-500 hover:text-amber-500 rounded-xl",ghost:"text-text-secondary hover:text-amber-500 bg-transparent"};return R.jsxs("button",{className:`${h} ${u[e]} px-6 py-3 text-sm md:text-base ${t?"w-full":""} ${a}`,...o,children:[s&&R.jsx("span",{className:"w-5 h-5",children:s}),r]})},t5=({onNavigate:r,onLogout:e,isLoggedIn:t,currentView:s,isAdmin:a})=>{const[o,h]=Ft.useState(!1);return R.jsxs(R.Fragment,{children:[R.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black-900/95 backdrop-blur-sm border-b border-graphite-700 h-16 md:h-20 transition-all",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-full flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>r("home"),children:[R.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gradient-to-br from-graphite-700 to-black-900 rounded border border-graphite-600 flex items-center justify-center group-hover:border-amber-500 transition-colors",children:R.jsx(Ah,{className:"text-amber-500 w-5 h-5 md:w-6 md:h-6"})}),R.jsxs("div",{className:"flex flex-col",children:[R.jsx("span",{className:"font-display font-bold text-lg md:text-xl tracking-wider text-text-primary leading-none",children:"ARQUIVOS"}),R.jsx("span",{className:"font-sans text-[10px] tracking-[0.2em] text-amber-500 leading-none",children:"ATIV BRASIL"})]})]}),t&&R.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[R.jsxs("button",{onClick:()=>r("home"),className:`flex items-center gap-2 text-sm font-medium transition-colors ${s==="home"?"text-amber-500":"text-text-secondary hover:text-text-primary"}`,children:[R.jsx(e0,{size:18}),"Incio"]}),a&&R.jsxs("button",{onClick:()=>r("admin"),className:`flex items-center gap-2 text-sm font-bold transition-colors ${s==="admin"?"text-amber-500":"text-amber-500/80 hover:text-amber-500"}`,children:[R.jsx(nd,{size:18}),"PAINEL ADMIN"]}),R.jsxs("button",{className:"flex items-center gap-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:[R.jsx(rm,{size:18}),"Minha Lista"]})]}),R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("a",{href:e5,target:"_blank",rel:"noreferrer",className:"hidden md:flex bg-amber-500 hover:bg-amber-600 text-black-900 font-bold font-sans text-sm px-5 py-2 rounded-lg transition-all shadow-[0_0_15px_rgba(255,159,28,0.2)]",children:"TREINAMENTOS"}),t&&R.jsx("button",{onClick:e,className:"hidden md:block text-text-secondary hover:text-red-500 transition-colors p-2",children:R.jsx(Sm,{size:20})}),R.jsx("button",{className:"md:hidden text-text-primary p-2",onClick:()=>h(!o),children:o?R.jsx(Eh,{size:24}):R.jsx(Em,{size:24})})]})]})}),o&&R.jsxs("div",{className:"fixed inset-0 top-16 z-40 bg-black-900 md:hidden flex flex-col p-6 animate-fade-in",children:[t&&R.jsxs("div",{className:"flex flex-col gap-6",children:[R.jsxs("button",{onClick:()=>{r("home"),h(!1)},className:"flex items-center gap-4 text-lg font-medium text-text-primary border-b border-graphite-700 pb-4",children:[R.jsx(e0,{size:24})," Incio"]}),a&&R.jsxs("button",{onClick:()=>{r("admin"),h(!1)},className:"flex items-center gap-4 text-lg font-bold text-amber-500 border-b border-graphite-700 pb-4",children:[R.jsx(nd,{size:24})," Painel Admin"]})]}),R.jsx("div",{className:"mt-auto",children:R.jsx(kl,{variant:"secondary",onClick:e,fullWidth:!0,children:"Sair"})})]})]})},r5=({book:r,onClick:e})=>R.jsxs("div",{onClick:()=>e(r),className:"bg-graphite-800 border border-graphite-700 rounded-2xl overflow-hidden cursor-pointer group hover:border-amber-500/50 transition-all shadow-xl flex flex-col h-full",children:[R.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden bg-black",children:[R.jsx("img",{src:r.coverUrl,alt:r.title,className:"w-full h-full object-cover opacity-70 group-hover:opacity-100 group-hover:scale-105 transition-all duration-500"}),R.jsx("div",{className:"absolute bottom-3 right-3",children:R.jsx("span",{className:"bg-black/60 backdrop-blur-md text-amber-500 text-[9px] font-black px-2 py-1 rounded border border-amber-500/20 uppercase tracking-tighter",children:r.level})})]}),R.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[R.jsx("span",{className:"text-amber-500 text-[10px] font-black uppercase tracking-[0.15em] mb-2 pt-1",children:r.category}),R.jsx("h3",{className:"text-lg font-display font-bold text-text-primary leading-tight mb-3 group-hover:text-amber-500 transition-colors line-clamp-2",children:r.title}),R.jsx("p",{className:"text-xs text-text-muted line-clamp-2 mb-6 leading-relaxed",children:r.description}),R.jsxs("div",{className:"mt-auto flex items-center justify-between border-t border-graphite-700 pt-4",children:[R.jsx("div",{className:"flex items-center gap-4 text-text-muted",children:R.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold",children:[R.jsx(Ed,{size:12,className:"text-amber-500/70"}),r.readTime]})}),R.jsxs("div",{className:"flex items-center gap-1 text-amber-500 text-[10px] font-black uppercase tracking-widest",children:["Acessar ",R.jsx(im,{size:14})]})]})]})]});function Lh(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t}function n5(r,e,t,s){function a(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function u(y){try{g(s.next(y))}catch(S){h(S)}}function f(y){try{g(s.throw(y))}catch(S){h(S)}}function g(y){y.done?o(y.value):a(y.value).then(u,f)}g((s=s.apply(r,e||[])).next())})}const i5=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class Pd extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class s5 extends Pd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class t0 extends Pd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class r0 extends Pd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var id;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(id||(id={}));class a5{constructor(e,{headers:t={},customFetch:s,region:a=id.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=i5(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return n5(this,arguments,void 0,function*(t,s={}){var a;let o,h;try{const{headers:u,method:f,body:g,signal:y,timeout:S}=s;let k={},{region:w}=s;w||(w=this.region);const C=new URL(`${this.url}/${t}`);w&&w!=="any"&&(k["x-region"]=w,C.searchParams.set("forceFunctionRegion",w));let L;g&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",L=g):typeof g=="string"?(k["Content-Type"]="text/plain",L=g):typeof FormData<"u"&&g instanceof FormData?L=g:(k["Content-Type"]="application/json",L=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?L=JSON.stringify(g):L=g;let T=y;S&&(h=new AbortController,o=setTimeout(()=>h.abort(),S),y?(T=h.signal,y.addEventListener("abort",()=>h.abort())):T=h.signal);const P=yield this.fetch(C.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),u),body:L,signal:T}).catch(de=>{throw new s5(de)}),z=P.headers.get("x-relay-error");if(z&&z==="true")throw new t0(P);if(!P.ok)throw new r0(P);let G=((a=P.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),H;return G==="application/json"?H=yield P.json():G==="application/octet-stream"||G==="application/pdf"?H=yield P.blob():G==="text/event-stream"?H=P:G==="multipart/form-data"?H=yield P.formData():H=yield P.text(),{data:H,error:null,response:P}}catch(u){return{data:null,error:u,response:u instanceof r0||u instanceof t0?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var o5=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},l5=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let h=null,u=null,f=null,g=o.status,y=o.statusText;if(o.ok){var S,k;if(t.method!=="HEAD"){var w;const P=await o.text();P===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((w=t.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?u=P:u=JSON.parse(P))}const L=(S=t.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),T=(k=o.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");L&&T&&T.length>1&&(f=parseInt(T[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(u)&&(u.length>1?(h={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,g=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var C;const L=await o.text();try{h=JSON.parse(L),Array.isArray(h)&&o.status===404&&(u=[],h=null,g=200,y="OK")}catch{o.status===404&&L===""?(g=204,y="No Content"):h={message:L}}if(h&&t.isMaybeSingle&&(!(h==null||(C=h.details)===null||C===void 0)&&C.includes("0 rows"))&&(h=null,g=200,y="OK"),h&&t.shouldThrowOnError)throw new o5(h)}return{error:h,data:u,count:f,status:g,statusText:y}});return this.shouldThrowOnError||(a=a.catch(o=>{var h;let u="";const f=o==null?void 0:o.cause;if(f){var g,y,S,k;const C=(g=f==null?void 0:f.message)!==null&&g!==void 0?g:"",L=(y=f==null?void 0:f.code)!==null&&y!==void 0?y:"";u=`${(S=o==null?void 0:o.name)!==null&&S!==void 0?S:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(k=f==null?void 0:f.name)!==null&&k!==void 0?k:"Error"}: ${C}`,L&&(u+=` (${L})`),f!=null&&f.stack&&(u+=`
${f.stack}`)}else{var w;u=(w=o==null?void 0:o.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(h=o==null?void 0:o.name)!==null&&h!==void 0?h:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(r,e)}returns(){return this}overrideTypes(){return this}},u5=class extends l5{select(r){let e=!1;const t=(r??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",h=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${h?`${h},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const s=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(s,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:s=t}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${r}`),this.url.searchParams.set(o,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var h;const u=[r?"analyze":null,e?"verbose":null,t?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const n0=new RegExp("[,()]");var du=class extends u5{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(s=>typeof s=="string"&&n0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(s=>typeof s=="string"&&n0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${a}fts${o}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const s=t?`${t}.or`:"or";return this.url.searchParams.append(s,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},c5=class{constructor(r,{headers:e={},schema:t,fetch:s}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,e){const{head:t=!1,count:s}=e??{},a=t?"HEAD":"GET";let o=!1;const h=(r??"*").split("").map(g=>/\s/.test(g)&&!o?"":(g==='"'&&(o=!o),g)).join(""),{url:u,headers:f}=this.cloneRequestState();return u.searchParams.set("select",h),s&&f.append("Prefer",`count=${s}`),new du({method:a,url:u,headers:f,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var s;const a="POST",{url:o,headers:h}=this.cloneRequestState();if(e&&h.append("Prefer",`count=${e}`),t||h.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(u.length>0){const f=[...new Set(u)].map(g=>`"${g}"`);o.searchParams.set("columns",f.join(","))}}return new du({method:a,url:o,headers:h,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:s,defaultToNull:a=!0}={}){var o;const h="POST",{url:u,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),s&&f.append("Prefer",`count=${s}`),a||f.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((y,S)=>y.concat(Object.keys(S)),[]);if(g.length>0){const y=[...new Set(g)].map(S=>`"${S}"`);u.searchParams.set("columns",y.join(","))}}return new du({method:h,url:u,headers:f,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(r,{count:e}={}){var t;const s="PATCH",{url:a,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new du({method:s,url:a,headers:o,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE",{url:s,headers:a}=this.cloneRequestState();return r&&a.append("Prefer",`count=${r}`),new du({method:t,url:s,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},h5=class $1{constructor(e,{headers:t={},schema:s,fetch:a}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new c5(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $1(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:a=!1,count:o}={}){var h;let u;const f=new URL(`${this.url}/rpc/${e}`);let g;const y=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(y)),S=s&&Object.values(t).some(y);S?(u="POST",g=t):s||a?(u=s?"HEAD":"GET",Object.entries(t).filter(([w,C])=>C!==void 0).map(([w,C])=>[w,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([w,C])=>{f.searchParams.append(w,C)})):(u="POST",g=t);const k=new Headers(this.headers);return S?k.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&k.set("Prefer",`count=${o}`),new du({method:u,url:f,headers:k,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class f5{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const s=t.versions;if(s&&s.node){const a=s.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const d5="2.90.1",p5=`realtime-js/${d5}`,W1="1.0.0",g5="2.0.0",i0=W1,sd=1e4,m5=1e3,v5=100;var Mo;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Mo||(Mo={}));var kn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(kn||(kn={}));var Bs;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Bs||(Bs={}));var ad;(function(r){r.websocket="websocket"})(ad||(ad={}));var wl;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(wl||(wl={}));class y5{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const a=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var t,s;const a=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(e,t,s){var a,o;const h=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",f=(o=e.join_ref)!==null&&o!==void 0?o:"",g=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},S=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+h.length+g.length+S.length,w=new ArrayBuffer(this.HEADER_LENGTH+k);let C=new DataView(w),L=0;C.setUint8(L++,this.KINDS.userBroadcastPush),C.setUint8(L++,f.length),C.setUint8(L++,u.length),C.setUint8(L++,h.length),C.setUint8(L++,g.length),C.setUint8(L++,S.length),C.setUint8(L++,t),Array.from(f,P=>C.setUint8(L++,P.charCodeAt(0))),Array.from(u,P=>C.setUint8(L++,P.charCodeAt(0))),Array.from(h,P=>C.setUint8(L++,P.charCodeAt(0))),Array.from(g,P=>C.setUint8(L++,P.charCodeAt(0))),Array.from(S,P=>C.setUint8(L++,P.charCodeAt(0)));var T=new Uint8Array(w.byteLength+s.byteLength);return T.set(new Uint8Array(w),0),T.set(new Uint8Array(s),w.byteLength),T.buffer}decode(e,t){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return t(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,o,h,u,f]=s;return t({join_ref:a,ref:o,topic:h,event:u,payload:f})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,a)}}_decodeUserBroadcast(e,t,s){const a=t.getUint8(1),o=t.getUint8(2),h=t.getUint8(3),u=t.getUint8(4);let f=this.HEADER_LENGTH+4;const g=s.decode(e.slice(f,f+a));f=f+a;const y=s.decode(e.slice(f,f+o));f=f+o;const S=s.decode(e.slice(f,f+h));f=f+h;const k=e.slice(f,e.byteLength),w=u===this.JSON_ENCODING?JSON.parse(s.decode(k)):k,C={type:this.BROADCAST_EVENT,event:y,payload:w};return h>0&&(C.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>t.includes(s)))}}class H1{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nr;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Nr||(Nr={}));const s0=(r,e,t={})=>{var s;const a=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,h)=>(o[h]=w5(h,r,e,a),o),{}):{}},w5=(r,e,t,s)=>{const a=e.find(u=>u.name===r),o=a==null?void 0:a.type,h=t[r];return o&&!s.includes(o)?V1(o,h):od(h)},V1=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return S5(e,t)}switch(r){case Nr.bool:return b5(e);case Nr.float4:case Nr.float8:case Nr.int2:case Nr.int4:case Nr.int8:case Nr.numeric:case Nr.oid:return _5(e);case Nr.json:case Nr.jsonb:return x5(e);case Nr.timestamp:return k5(e);case Nr.abstime:case Nr.date:case Nr.daterange:case Nr.int4range:case Nr.int8range:case Nr.money:case Nr.reltime:case Nr.text:case Nr.time:case Nr.timestamptz:case Nr.timetz:case Nr.tsrange:case Nr.tstzrange:return od(e);default:return od(e)}},od=r=>r,b5=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},_5=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},x5=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},S5=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let o;const h=r.slice(1,t);try{o=JSON.parse("["+h+"]")}catch{o=h?h.split(","):[]}return o.map(u=>V1(e,u))}return r},k5=r=>typeof r=="string"?r.replace(" ","T"):r,G1=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Nf{constructor(e,t,s={},a=sd){this.channel=e,this.event=t,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var a0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(a0||(a0={}));class nc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:o,onLeave:h,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nc.syncState(this.state,a,o,h),this.pendingDiffs.forEach(f=>{this.state=nc.syncDiff(this.state,f,o,h)}),this.pendingDiffs=[],u()}),this.channel._on(s.diff,{},a=>{const{onJoin:o,onLeave:h,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=nc.syncDiff(this.state,a,o,h),u())}),this.onJoin((a,o,h)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:h})}),this.onLeave((a,o,h)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,a){const o=this.cloneDeep(e),h=this.transformState(t),u={},f={};return this.map(o,(g,y)=>{h[g]||(f[g]=y)}),this.map(h,(g,y)=>{const S=o[g];if(S){const k=y.map(T=>T.presence_ref),w=S.map(T=>T.presence_ref),C=y.filter(T=>w.indexOf(T.presence_ref)<0),L=S.filter(T=>k.indexOf(T.presence_ref)<0);C.length>0&&(u[g]=C),L.length>0&&(f[g]=L)}else u[g]=y}),this.syncDiff(o,{joins:u,leaves:f},s,a)}static syncDiff(e,t,s,a){const{joins:o,leaves:h}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(o,(u,f)=>{var g;const y=(g=e[u])!==null&&g!==void 0?g:[];if(e[u]=this.cloneDeep(f),y.length>0){const S=e[u].map(w=>w.presence_ref),k=y.filter(w=>S.indexOf(w.presence_ref)<0);e[u].unshift(...k)}s(u,y,f)}),this.map(h,(u,f)=>{let g=e[u];if(!g)return;const y=f.map(S=>S.presence_ref);g=g.filter(S=>y.indexOf(S.presence_ref)<0),e[u]=g,a(u,g,f),g.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const a=e[s];return"metas"in a?t[s]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[s]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var o0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(o0||(o0={}));var ic;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ic||(ic={}));var Ya;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ya||(Ya={}));class yu{constructor(e,t={config:{}},s){var a,o;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=kn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Nf(this,Bs.join,this.params,this.timeout),this.rejoinTimer=new H1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kn.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bs.reply,{},(h,u)=>{this._trigger(this._replyEventName(u),h)}),this.presence=new nc(this),this.broadcastEndpointURL=G1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==kn.closed){const{config:{broadcast:h,presence:u,private:f}}=this.params,g=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[ic.PRESENCE]&&this.bindings[ic.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,S={},k={broadcast:h,presence:Object.assign(Object.assign({},u),{enabled:y}),postgres_changes:g,private:f};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(Ya.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(Ya.CLOSED)),this.updateJoinPayload(Object.assign({config:k},S)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:w})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e==null||e(Ya.SUBSCRIBED);return}else{const L=this.bindings.postgres_changes,T=(C=L==null?void 0:L.length)!==null&&C!==void 0?C:0,P=[];for(let z=0;z<T;z++){const G=L[z],{filter:{event:H,schema:de,table:be,filter:we}}=G,ae=w&&w[z];if(ae&&ae.event===H&&yu.isFilterValueEqual(ae.schema,de)&&yu.isFilterValueEqual(ae.table,be)&&yu.isFilterValueEqual(ae.filter,we))P.push(Object.assign(Object.assign({},G),{id:ae.id}));else{this.unsubscribe(),this.state=kn.errored,e==null||e(Ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(Ya.SUBSCRIBED);return}}).receive("error",w=>{this.state=kn.errored,e==null||e(Ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ya.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===kn.joined&&e===ic.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var a;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const g=await u.json();f=g.error||g.message||f}catch{}return Promise.reject(new Error(f))}async send(e,t={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:h}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var h,u,f;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(h=this.params)===null||h===void 0?void 0:h.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),g.receive("ok",()=>o("ok")),g.receive("error",()=>o("error")),g.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bs.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Nf(this,Bs.leave,{},e),s.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kn.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const a=new AbortController,o=setTimeout(()=>a.abort(),s),h=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(o),h}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Nf(this,e,t,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>v5){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var a,o;const h=e.toLocaleLowerCase(),{close:u,error:f,leave:g,join:y}=Bs;if(s&&[u,f,g,y].indexOf(h)>=0&&s!==this._joinRef())return;let k=this._onMessage(h,t,s);if(t&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var C,L,T;return((C=w.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(L=w.filter)===null||L===void 0?void 0:L.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(w=>w.callback(k,s)):(o=this.bindings[h])===null||o===void 0||o.filter(w=>{var C,L,T,P,z,G,H,de;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in w){const be=w.id,we=(C=w.filter)===null||C===void 0?void 0:C.event;return be&&((L=t.ids)===null||L===void 0?void 0:L.includes(be))&&(we==="*"||(we==null?void 0:we.toLocaleLowerCase())===((T=t.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))&&(!(!((P=w.filter)===null||P===void 0)&&P.table)||w.filter.table===((z=t.data)===null||z===void 0?void 0:z.table))}else{const be=(H=(G=w==null?void 0:w.filter)===null||G===void 0?void 0:G.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return be==="*"||be===((de=t==null?void 0:t.event)===null||de===void 0?void 0:de.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===h}).map(w=>{if(typeof k=="object"&&"ids"in k){const C=k.data,{schema:L,table:T,commit_timestamp:P,type:z,errors:G}=C;k=Object.assign(Object.assign({},{schema:L,table:T,commit_timestamp:P,eventType:z,new:{},old:{},errors:G}),this._getPayloadRecords(C))}w.callback(k,s)})}_isClosed(){return this.state===kn.closed}_isJoined(){return this.state===kn.joined}_isJoining(){return this.state===kn.joining}_isLeaving(){return this.state===kn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const a=e.toLocaleLowerCase(),o={type:a,filter:t,callback:s};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&yu.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bs.close,{},e)}_onError(e){this._on(Bs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=s0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=s0(e.columns,e.old_record)),t}}const Af=()=>{},Qc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},N5=[1e3,2e3,5e3,1e4],A5=1e4,E5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L5{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sd,this.transport=null,this.heartbeatIntervalMs=Qc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Af,this.ref=0,this.reconnectTimer=null,this.vsn=i0,this.logger=Af,this.conn=null,this.sendBuffer=[],this.serializer=new y5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((s=t==null?void 0:t.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ad.websocket}`,this.httpEndpoint=G1(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Mo.connecting:return wl.Connecting;case Mo.open:return wl.Open;case Mo.closing:return wl.Closing;default:return wl.Closed}}isConnected(){return this.connectionState()===wl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===s);if(a)return a;{const o=new yu(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:s,payload:a,ref:o}=e,h=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${t} ${s} (${o})`,a),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(m5,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Qc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:a,payload:o,ref:h}=t,u=h?`(${h})`:"",f=o.status||"";this.log("receive",`${f} ${s} ${a} ${u}`.trim(),o),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(a,o,h)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Mo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Mo.open||this.conn.readyState===Mo.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${s}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([E5],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,s=!1;if(e)t=e,s=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),t=this.accessTokenValue}else t=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(a=>{const o={access_token:t,version:p5};t&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(Bs.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new H1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,a,o,h,u,f,g,y,S,k,w;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:sd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Qc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(h=e==null?void 0:e.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:Af,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:i0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(C=>N5[C-1]||A5),this.vsn){case W1:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((C,L)=>L(JSON.stringify(C))),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:((C,L)=>L(JSON.parse(C)));break;case g5:this.encode=(k=e==null?void 0:e.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var oc=class extends Error{constructor(r,e){var t;super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function C5(r,e,t){const s=new URL(e,r);if(t)for(const[a,o]of Object.entries(t))o!==void 0&&s.searchParams.set(a,o);return s.toString()}async function P5(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function j5(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:s,query:a,body:o,headers:h}){const u=C5(r.baseUrl,s,a),f=await P5(r.auth),g=await e(u,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...f,...h},body:o?JSON.stringify(o):void 0}),y=await g.text(),S=(g.headers.get("content-type")||"").includes("application/json"),k=S&&y?JSON.parse(y):y;if(!g.ok){const w=S?k:void 0,C=w==null?void 0:w.error;throw new oc((C==null?void 0:C.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:w})}return{status:g.status,headers:g.headers,data:k}}}}function Zc(r){return r.join("")}var T5=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:Zc(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zc(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zc(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zc(r.namespace)}`}),!0}catch(e){if(e instanceof oc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof oc&&t.status===409)return;throw t}}};function iu(r){return r.join("")}var O5=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${iu(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${iu(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${iu(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${iu(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${iu(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${iu(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof oc&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof oc&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},I5=class{constructor(r){var s;let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=j5({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(s=r.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new T5(this.client,e),this.tableOps=new O5(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Ch=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Wr(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var R5=class extends Ch{constructor(r,e,t){super(r),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ld=class extends Ch{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const jd=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),F5=()=>Response,ud=r=>{if(Array.isArray(r))return r.map(t=>ud(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const a=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=ud(s)}),e},M5=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},D5=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function lc(r){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(r)}function U5(r,e){if(lc(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(lc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function B5(r){var e=U5(r,"string");return lc(e)=="symbol"?e:e+""}function q5(r,e,t){return(e=B5(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function l0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function xt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l0(Object(t),!0).forEach(function(s){q5(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):l0(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}const Ef=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},z5=async(r,e,t)=>{r instanceof await F5()&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{const a=r.status||500,o=(s==null?void 0:s.statusCode)||a+"";e(new R5(Ef(s),a,o))}).catch(s=>{e(new ld(Ef(s),s))}):e(new ld(Ef(r),r))},$5=(r,e,t,s)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!s?a:(M5(s)?(a.headers=xt({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,e!=null&&e.duplex&&(a.duplex=e.duplex),xt(xt({},a),t))};async function gc(r,e,t,s,a,o){return new Promise((h,u)=>{r(t,$5(e,s,a,o)).then(f=>{if(!f.ok)throw f;return s!=null&&s.noResolveJson?f:f.json()}).then(f=>h(f)).catch(f=>z5(f,u,s))})}async function uc(r,e,t,s){return gc(r,"GET",e,t,s)}async function Us(r,e,t,s,a){return gc(r,"POST",e,s,a,t)}async function cd(r,e,t,s,a){return gc(r,"PUT",e,s,a,t)}async function W5(r,e,t,s){return gc(r,"HEAD",e,xt(xt({},t),{},{noResolveJson:!0}),s)}async function Td(r,e,t,s,a){return gc(r,"DELETE",e,s,a,t)}var H5=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Wr(e))return{data:null,error:e};throw e}}};let K1;K1=Symbol.toStringTag;var V5=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[K1]="BlobDownloadBuilder",this.promise=null}asStream(){return new H5(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Wr(e))return{data:null,error:e};throw e}}};const G5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},u0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var K5=class{constructor(r,e={},t,s){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=t,this.fetch=jd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,t,s){var a=this;try{let o;const h=xt(xt({},u0),s);let u=xt(xt({},a.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const f=h.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",h.cacheControl),f&&o.append("metadata",a.encodeMetadata(f)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",h.cacheControl),f&&!o.has("metadata")&&o.append("metadata",a.encodeMetadata(f))):(o=t,u["cache-control"]=`max-age=${h.cacheControl}`,u["content-type"]=h.contentType,f&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!h.duplex&&(h.duplex="half")),s!=null&&s.headers&&(u=xt(xt({},u),s.headers));const g=a._removeEmptyFolders(e),y=a._getFinalPath(g),S=await(r=="PUT"?cd:Us)(a.fetch,`${a.url}/object/${y}`,o,xt({headers:u},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:S.Id,fullPath:S.Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Wr(o))return{data:null,error:o};throw o}}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,s){var a=this;const o=a._removeEmptyFolders(r),h=a._getFinalPath(o),u=new URL(a.url+`/object/upload/sign/${h}`);u.searchParams.set("token",e);try{let f;const g=xt({upsert:u0.upsert},s),y=xt(xt({},a.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&t instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",t)):typeof FormData<"u"&&t instanceof FormData?(f=t,f.append("cacheControl",g.cacheControl)):(f=t,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{data:{path:o,fullPath:(await cd(a.fetch,u.toString(),f,{headers:y})).Key},error:null}}catch(f){if(a.shouldThrowOnError)throw f;if(Wr(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(r,e){var t=this;try{let s=t._getFinalPath(r);const a=xt({},t.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const o=await Us(t.fetch,`${t.url}/object/upload/sign/${s}`,{},{headers:a}),h=new URL(t.url+o.url),u=h.searchParams.get("token");if(!u)throw new Ch("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:u},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wr(s))return{data:null,error:s};throw s}}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var s=this;try{return{data:await Us(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Wr(a))return{data:null,error:a};throw a}}async copy(r,e,t){var s=this;try{return{data:{path:(await Us(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:s.headers})).Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Wr(a))return{data:null,error:a};throw a}}async createSignedUrl(r,e,t){var s=this;try{let a=s._getFinalPath(r),o=await Us(s.fetch,`${s.url}/object/sign/${a}`,xt({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:s.headers});const h=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return o={signedUrl:encodeURI(`${s.url}${o.signedURL}${h}`)},{data:o,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Wr(a))return{data:null,error:a};throw a}}async createSignedUrls(r,e,t){var s=this;try{const a=await Us(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:r},{headers:s.headers}),o=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:a.map(h=>xt(xt({},h),{},{signedUrl:h.signedURL?encodeURI(`${s.url}${h.signedURL}${o}`):null})),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Wr(a))return{data:null,error:a};throw a}}download(r,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(r),h=()=>uc(this.fetch,`${this.url}/${t}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new V5(h,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);try{return{data:ud(await uc(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Wr(s))return{data:null,error:s};throw s}}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await W5(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Wr(s)&&s instanceof ld){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}}getPublicUrl(r,e){const t=this._getFinalPath(r),s=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&s.push(a);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});h!==""&&s.push(h);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${u}`)}}}async remove(r){var e=this;try{return{data:await Td(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wr(t))return{data:null,error:t};throw t}}async list(r,e,t){var s=this;try{const a=xt(xt(xt({},G5),e),{},{prefix:r||""});return{data:await Us(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},t),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Wr(a))return{data:null,error:a};throw a}}async listV2(r,e){var t=this;try{const s=xt({},r);return{data:await Us(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,s,{headers:t.headers},e),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wr(s))return{data:null,error:s};throw s}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const J1="2.90.1",Y1={"X-Client-Info":`storage-js/${J1}`};var J5=class{constructor(r,e={},t,s){this.shouldThrowOnError=!1;const a=new URL(r);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=xt(xt({},Y1),e),this.fetch=jd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const t=e.listBucketOptionsToQueryString(r);return{data:await uc(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wr(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await uc(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wr(t))return{data:null,error:t};throw t}}async createBucket(r,e={public:!1}){var t=this;try{return{data:await Us(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wr(s))return{data:null,error:s};throw s}}async updateBucket(r,e){var t=this;try{return{data:await cd(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wr(s))return{data:null,error:s};throw s}}async emptyBucket(r){var e=this;try{return{data:await Us(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wr(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Td(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wr(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Y5=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=xt(xt({},Y1),e),this.fetch=jd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await Us(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wr(t))return{data:null,error:t};throw t}}async listBuckets(r){var e=this;try{const t=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&t.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&t.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&t.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&t.set("sortOrder",r.sortOrder),r!=null&&r.search&&t.set("search",r.search);const s=t.toString(),a=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await uc(e.fetch,a,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wr(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Td(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wr(t))return{data:null,error:t};throw t}}from(r){var e=this;if(!D5(r))throw new Ch("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new I5({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(t,{get(a,o){const h=a[o];return typeof h!="function"?h:async(...u)=>{try{return{data:await h.apply(a,u),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}}}})}};const Od={"X-Client-Info":`storage-js/${J1}`,"Content-Type":"application/json"};var X1=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Yi(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Lf=class extends X1{constructor(r,e,t){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},X5=class extends X1{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const Id=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Q5=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},c0=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Z5=async(r,e,t)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(t!=null&&t.noResolveJson)){const s=r.status||500,a=r;if(typeof a.json=="function")a.json().then(o=>{const h=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Lf(c0(o),s,h))}).catch(()=>{const o=s+"";e(new Lf(a.statusText||`HTTP ${s} error`,s,o))});else{const o=s+"";e(new Lf(a.statusText||`HTTP ${s} error`,s,o))}}else e(new X5(c0(r),r))},ev=(r,e,t,s)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return s?(Q5(s)?(a.headers=xt({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,xt(xt({},a),t)):a};async function tv(r,e,t,s,a,o){return new Promise((h,u)=>{r(t,ev(e,s,a,o)).then(f=>{if(!f.ok)throw f;if(s!=null&&s.noResolveJson)return f;const g=f.headers.get("content-type");return!g||!g.includes("application/json")?{}:f.json()}).then(f=>h(f)).catch(f=>Z5(f,u,s))})}async function Xi(r,e,t,s,a){return tv(r,"POST",e,s,a,t)}var rv=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=xt(xt({},Od),e),this.fetch=Id(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await Xi(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}async getIndex(r,e){var t=this;try{return{data:await Xi(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Yi(s))return{data:null,error:s};throw s}}async listIndexes(r){var e=this;try{return{data:await Xi(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}async deleteIndex(r,e){var t=this;try{return{data:await Xi(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Yi(s))return{data:null,error:s};throw s}}},nv=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=xt(xt({},Od),e),this.fetch=Id(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Xi(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}async getVectors(r){var e=this;try{return{data:await Xi(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Xi(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}async queryVectors(r){var e=this;try{return{data:await Xi(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Xi(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}},iv=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=xt(xt({},Od),e),this.fetch=Id(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await Xi(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await Xi(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}async listBuckets(r={}){var e=this;try{return{data:await Xi(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Xi(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yi(t))return{data:null,error:t};throw t}}},sv=class extends iv{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new av(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},av=class extends rv{constructor(r,e,t,s){super(r,e,s),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,xt(xt({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,xt(xt({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new ov(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},ov=class extends nv{constructor(r,e,t,s,a){super(r,e,a),this.vectorBucketName=t,this.indexName=s}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,xt(xt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,xt(xt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,xt(xt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,xt(xt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,xt(xt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},lv=class extends J5{constructor(r,e={},t,s){super(r,e,t,s)}from(r){return new K5(this.url,this.headers,r,this.fetch)}get vectors(){return new sv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Y5(this.url+"/iceberg",this.headers,this.fetch)}};const Q1="2.90.1",pu=30*1e3,hd=3,Cf=hd*pu,uv="http://localhost:9999",cv="supabase.auth.token",hv={"X-Client-Info":`gotrue-js/${Q1}`},fd="X-Supabase-Api-Version",Z1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dv=600*1e3;class cc extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function lt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class pv extends cc{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function gv(r){return lt(r)&&r.name==="AuthApiError"}class bl extends cc{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Qa extends cc{constructor(e,t,s,a){super(e,s,a),this.name=t,this.status=s}}class Ji extends Qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mv(r){return lt(r)&&r.name==="AuthSessionMissingError"}class su extends Qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eh extends Qa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class th extends Qa{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vv(r){return lt(r)&&r.name==="AuthImplicitGrantRedirectError"}class h0 extends Qa{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yv extends Qa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class dd extends Qa{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Pf(r){return lt(r)&&r.name==="AuthRetryableFetchError"}class f0 extends Qa{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class pd extends Qa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),d0=` 	
\r=`.split(""),wv=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<d0.length;e+=1)r[d0[e].charCodeAt(0)]=-2;for(let e=0;e<yh.length;e+=1)r[yh[e].charCodeAt(0)]=e;return r})();function p0(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(yh[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(yh[s]),e.queuedBits-=6}}function e2(r,e,t){const s=wv[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function g0(r){const e=[],t=h=>{e.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=h=>{xv(h,s,t)};for(let h=0;h<r.length;h+=1)e2(r.charCodeAt(h),a,o);return e.join("")}function bv(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function _v(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}bv(s,e)}}function xv(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function bu(r){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)e2(r.charCodeAt(a),t,s);return new Uint8Array(e)}function Sv(r){const e=[];return _v(r,t=>e.push(t)),new Uint8Array(e)}function xl(r){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};return r.forEach(a=>p0(a,t,s)),p0(null,t,s),e.join("")}function kv(r){return Math.round(Date.now()/1e3)+r}function Nv(){return Symbol("auth-callback")}const Bn=()=>typeof window<"u"&&typeof document<"u",gl={tested:!1,writable:!1},t2=()=>{if(!Bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gl.tested)return gl.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),gl.tested=!0,gl.writable=!0}catch{gl.tested=!0,gl.writable=!1}return gl.writable};function Av(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return t.searchParams.forEach((s,a)=>{e[a]=s}),e}const r2=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Ev=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",gu=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ml=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Un=async(r,e)=>{await r.removeItem(e)};class Ph{constructor(){this.promise=new Ph.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ph.promiseConstructor=Promise;function jf(r){const e=r.split(".");if(e.length!==3)throw new pd("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!fv.test(e[s]))throw new pd("JWT not in base64url format");return{header:JSON.parse(g0(e[0])),payload:JSON.parse(g0(e[1])),signature:bu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lv(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Cv(r,e){return new Promise((s,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const h=await r(o);if(!e(o,null,h)){s(h);return}}catch(h){if(!e(o,h)){a(h);return}}})()})}function Pv(r){return("0"+r.toString(16)).substr(-2)}function jv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let a="";for(let o=0;o<56;o++)a+=t.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,Pv).join("")}async function Tv(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(s);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function Ov(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Tv(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function au(r,e,t=!1){const s=jv();let a=s;t&&(a+="/PASSWORD_RECOVERY"),await gu(r,`${e}-code-verifier`,a);const o=await Ov(s);return[o,s===o?"plain":"s256"]}const Iv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rv(r){const e=r.headers.get(fd);if(!e||!e.match(Iv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Fv(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Mv(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Dv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ou(r){if(!Dv.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tf(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uv(r,e){return new Proxy(r,{get:(t,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,s,a)}})}function m0(r){return JSON.parse(JSON.stringify(r))}const vl=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Bv=[502,503,504];async function v0(r){var e;if(!Ev(r))throw new dd(vl(r),0);if(Bv.includes(r.status))throw new dd(vl(r),r.status);let t;try{t=await r.json()}catch(o){throw new bl(vl(o),o)}let s;const a=Rv(r);if(a&&a.getTime()>=Z1["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new f0(vl(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ji}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,h)=>o&&typeof h=="string",!0))throw new f0(vl(t),r.status,t.weak_password.reasons);throw new pv(vl(t),r.status||500,s)}const qv=(r,e,t,s)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),t))};async function _t(r,e,t,s){var a;const o=Object.assign({},s==null?void 0:s.headers);o[fd]||(o[fd]=Z1["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const h=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(h.redirect_to=s.redirectTo);const u=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",f=await zv(r,e,t+u,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}}async function zv(r,e,t,s,a,o){const h=qv(e,s,a,o);let u;try{u=await r(t,Object.assign({},h))}catch(f){throw console.error(f),new dd(vl(f),0)}if(u.ok||await v0(u),s!=null&&s.noResolveJson)return u;try{return await u.json()}catch(f){await v0(f)}}function Ds(r){var e;let t=null;Hv(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=kv(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function y0(r){const e=Ds(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Do(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function $v(r){return{data:r,error:null}}function Wv(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:o}=r,h=Lh(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:o},f=Object.assign({},h);return{data:{properties:u,user:f},error:null}}function w0(r){return r}function Hv(r){return r.access_token&&r.refresh_token&&r.expires_in}const Of=["global","local","others"];class Vv{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=r2(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Of[0]){if(Of.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Of.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Do})}catch(s){if(lt(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Lh(e,["options"]),a=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Wv,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(lt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Do})}catch(t){if(lt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,a,o,h,u,f;try{const g={nextPage:null,lastPage:0,total:0},y=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:w0});if(y.error)throw y.error;const S=await y.json(),k=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(f=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const L=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);g[`${T}Page`]=L}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},S),g),error:null}}catch(g){if(lt(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){ou(e);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Do})}catch(t){if(lt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ou(e);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Do})}catch(s){if(lt(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){ou(e);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Do})}catch(s){if(lt(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ou(e.userId);try{const{data:t,error:s}=await _t(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:s}}catch(t){if(lt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ou(e.userId),ou(e.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,a,o,h,u,f;try{const g={nextPage:null,lastPage:0,total:0},y=await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:w0});if(y.error)throw y.error;const S=await y.json(),k=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(f=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const L=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);g[`${T}Page`]=L}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},S),g),error:null}}catch(g){if(lt(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(lt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(lt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await _t(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(lt(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await _t(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(lt(t))return{data:null,error:t};throw t}}}function b0(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const lu={debug:!!(globalThis&&t2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Gv extends n2{}async function Kv(r,e,t){lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),lu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Gv(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(lu.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Jv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function i2(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Yv(r){return parseInt(r,16)}function Xv(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Qv(r){var e;const{chainId:t,domain:s,expirationTime:a,issuedAt:o=new Date,nonce:h,notBefore:u,requestId:f,resources:g,scheme:y,uri:S,version:k}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const w=i2(r.address),C=y?`${y}://${s}`:s,L=r.statement?`${r.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${w}

${L}`;let P=`URI: ${S}
Version: ${k}
Chain ID: ${t}${h?`
Nonce: ${h}`:""}
Issued At: ${o.toISOString()}`;if(a&&(P+=`
Expiration Time: ${a.toISOString()}`),u&&(P+=`
Not Before: ${u.toISOString()}`),f&&(P+=`
Request ID: ${f}`),g){let z=`
Resources:`;for(const G of g){if(!G||typeof G!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${G}`);z+=`
- ${G}`}P+=z}return`${T}
${P}`}class mn extends Error{constructor({message:e,code:t,cause:s,name:a}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=a??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class wh extends mn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Zv({error:r,options:e}){var t,s,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new mn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new mn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new mn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new mn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new mn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new mn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const h=window.location.hostname;if(s2(h)){if(o.rp.id!==h)return new mn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new mn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new mn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new mn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function ey({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new mn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(s2(s)){if(t.rpId!==s)return new mn({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new mn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new mn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class ty{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ry=new ty;function ny(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:s}=r,a=Lh(r,["challenge","user","excludeCredentials"]),o=bu(e).buffer,h=Object.assign(Object.assign({},t),{id:bu(t.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:o,user:h});if(s&&s.length>0){u.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const g=s[f];u.excludeCredentials[f]=Object.assign(Object.assign({},g),{id:bu(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return u}function iy(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,s=Lh(r,["challenge","allowCredentials"]),a=bu(e).buffer,o=Object.assign(Object.assign({},s),{challenge:a});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let h=0;h<t.length;h++){const u=t[h];o.allowCredentials[h]=Object.assign(Object.assign({},u),{id:bu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function sy(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:xl(new Uint8Array(r.response.attestationObject)),clientDataJSON:xl(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ay(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,s=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:xl(new Uint8Array(a.authenticatorData)),clientDataJSON:xl(new Uint8Array(a.clientDataJSON)),signature:xl(new Uint8Array(a.signature)),userHandle:a.userHandle?xl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function s2(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function _0(){var r,e;return!!(Bn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function oy(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wh("Browser returned unexpected credential type",e)}:{data:null,error:new wh("Empty credential response",e)}}catch(e){return{data:null,error:Zv({error:e,options:r})}}}async function ly(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wh("Browser returned unexpected credential type",e)}:{data:null,error:new wh("Empty credential response",e)}}catch(e){return{data:null,error:ey({error:e,options:r})}}}const uy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bh(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of r)if(a)for(const o in a){const h=a[o];if(h!==void 0)if(Array.isArray(h))s[o]=h;else if(t(h))s[o]=h;else if(e(h)){const u=s[o];e(u)?s[o]=bh(u,h):s[o]=bh(h)}else s[o]=h}return s}function hy(r,e){return bh(uy,r,e||{})}function fy(r,e){return bh(cy,r,e||{})}class dy{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:a},o){try{const{data:h,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!h)return{data:null,error:u};const f=a??ry.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:g}=h.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(h.webauthn.type){case"create":{const g=hy(h.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:y,error:S}=await oy({publicKey:g,signal:f});return y?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:S}}case"request":{const g=fy(h.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:y,error:S}=await ly(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g,signal:f}));return y?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:S}}}}catch(h){return lt(h)?{data:null,error:h}:{data:null,error:new bl("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!t)return{data:null,error:new cc("rpId is required for WebAuthn authentication")};try{if(!_0())return{data:null,error:new bl("Browser does not support WebAuthn",null)};const{data:h,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:a},{request:o});if(!h)return{data:null,error:u};const{webauthn:f}=h;return this._verify({factorId:e,challengeId:h.challengeId,webauthn:{type:f.type,rpId:t,rpOrigins:s,credential_response:f.credential_response}})}catch(h){return lt(h)?{data:null,error:h}:{data:null,error:new bl("Unexpected error in authenticate",h)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!t)return{data:null,error:new cc("rpId is required for WebAuthn registration")};try{if(!_0())return{data:null,error:new bl("Browser does not support WebAuthn",null)};const{data:h,error:u}=await this._enroll({friendlyName:e});if(!h)return await this.client.mfa.listFactors().then(y=>{var S;return(S=y.data)===null||S===void 0?void 0:S.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===e&&k.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:u};const{data:f,error:g}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:a},{create:o});return f?this._verify({factorId:h.id,challengeId:f.challengeId,webauthn:{rpId:t,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:g}}catch(h){return lt(h)?{data:null,error:h}:{data:null,error:new bl("Unexpected error in register",h)}}}}Jv();const py={url:uv,storageKey:cv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function x0(r,e,t){return await t()}const uu={};class hc{get jwks(){var e,t;return(t=(e=uu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){uu[this.storageKey]=Object.assign(Object.assign({},uu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=uu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){uu[this.storageKey]=Object.assign(Object.assign({},uu[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},py),e);if(this.storageKey=o.storageKey,this.instanceID=(t=hc.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,hc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Bn()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Vv({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=r2(o.fetch),this.lock=o.lock||x0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Bn()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Kv:this.lock=x0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:t2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=b0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=b0(this.memoryStorage)),Bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Q1}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},s="none";if(Bn()&&(t=Av(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),Bn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:o}=await this._getSessionFromURL(t,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),vv(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:h,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",h,"redirect type",u),await this._saveSession(h),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return lt(t)?this._returnResult({error:t}):this._returnResult({error:new bl("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,a;try{const o=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ds}),{data:h,error:u}=o;if(u||!h)return this._returnResult({data:{user:null,session:null},error:u});const f=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(o){if(lt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,s,a;try{let o;if("email"in e){const{email:y,password:S,options:k}=e;let w=null,C=null;this.flowType==="pkce"&&([w,C]=await au(this.storage,this.storageKey)),o=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:y,password:S,data:(t=k==null?void 0:k.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:w,code_challenge_method:C},xform:Ds})}else if("phone"in e){const{phone:y,password:S,options:k}=e;o=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:S,data:(s=k==null?void 0:k.data)!==null&&s!==void 0?s:{},channel:(a=k==null?void 0:k.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:Ds})}else throw new eh("You must provide either an email or phone number and a password");const{data:h,error:u}=o;if(u||!h)return await Un(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(o){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:h,options:u}=e;t=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:h,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:y0})}else if("phone"in e){const{phone:o,password:h,options:u}=e;t=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:h,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:y0})}else throw new eh("You must provide either an email or phone number and a password");const{data:s,error:a}=t;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const o=new su;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(t){if(lt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,a,o,h,u,f,g,y,S,k;let w,C;if("message"in e)w=e.message,C=e.signature;else{const{chain:L,wallet:T,statement:P,options:z}=e;let G;if(Bn())if(typeof T=="object")G=T;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")G=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(z!=null&&z.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=T}const H=new URL((t=z==null?void 0:z.url)!==null&&t!==void 0?t:window.location.href),de=await G.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!de||de.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const be=i2(de[0]);let we=(s=z==null?void 0:z.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!we){const Y=await G.request({method:"eth_chainId"});we=Yv(Y)}const ae={domain:H.host,address:be,statement:P,uri:H.href,version:"1",chainId:we,nonce:(a=z==null?void 0:z.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(h=(o=z==null?void 0:z.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(u=z==null?void 0:z.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=z==null?void 0:z.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(g=z==null?void 0:z.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=z==null?void 0:z.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=Qv(ae),C=await G.request({method:"personal_sign",params:[Xv(w),be]})}try{const{data:L,error:T}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:C},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(k=e.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Ds});if(T)throw T;if(!L||!L.session||!L.user){const P=new su;return this._returnResult({data:{user:null,session:null},error:P})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:T})}catch(L){if(lt(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async signInWithSolana(e){var t,s,a,o,h,u,f,g,y,S,k,w;let C,L;if("message"in e)C=e.message,L=e.signature;else{const{chain:T,wallet:P,statement:z,options:G}=e;let H;if(Bn())if(typeof P=="object")H=P;else{const be=window;if("solana"in be&&typeof be.solana=="object"&&("signIn"in be.solana&&typeof be.solana.signIn=="function"||"signMessage"in be.solana&&typeof be.solana.signMessage=="function"))H=be.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=P}const de=new URL((t=G==null?void 0:G.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in H&&H.signIn){const be=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G==null?void 0:G.signInWithSolana),{version:"1",domain:de.host,uri:de.href}),z?{statement:z}:null));let we;if(Array.isArray(be)&&be[0]&&typeof be[0]=="object")we=be[0];else if(be&&typeof be=="object"&&"signedMessage"in be&&"signature"in be)we=be;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in we&&"signature"in we&&(typeof we.signedMessage=="string"||we.signedMessage instanceof Uint8Array)&&we.signature instanceof Uint8Array)C=typeof we.signedMessage=="string"?we.signedMessage:new TextDecoder().decode(we.signedMessage),L=we.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${de.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${de.href}`,`Issued At: ${(a=(s=G==null?void 0:G.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=G==null?void 0:G.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((h=G==null?void 0:G.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((u=G==null?void 0:G.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((f=G==null?void 0:G.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((g=G==null?void 0:G.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((S=(y=G==null?void 0:G.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||S===void 0)&&S.length?["Resources",...G.signInWithSolana.resources.map(we=>`- ${we}`)]:[]].join(`
`);const be=await H.signMessage(new TextEncoder().encode(C),"utf8");if(!be||!(be instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=be}}try{const{data:T,error:P}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:xl(L)},!((k=e.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ds});if(P)throw P;if(!T||!T.session||!T.user){const z=new su;return this._returnResult({data:{user:null,session:null},error:z})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:P})}catch(T){if(lt(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const t=await ml(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(t??"").split("/");try{if(!s&&this.flowType==="pkce")throw new yv;const{data:o,error:h}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ds});if(await Un(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!o||!o.session||!o.user){const u=new su;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:h})}catch(o){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:s,token:a,access_token:o,nonce:h}=e,u=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:o,nonce:h,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ds}),{data:f,error:g}=u;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f||!f.session||!f.user){const y=new su;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:g})}catch(t){if(lt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,a,o,h;try{if("email"in e){const{email:u,options:f}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await au(this.storage,this.storageKey));const{error:S}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in e){const{phone:u,options:f}=e,{data:g,error:y}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(h=f==null?void 0:f.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y})}throw new eh("You must provide either an email or phone number.")}catch(u){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var t,s;try{let a,o;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:u}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Ds});if(u)throw u;if(!h)throw new Error("An error occurred on token verification.");const f=h.session,g=h.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(a){if(lt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var t,s,a,o,h;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await au(this.storage,this.storageKey));const g=await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:$v});return!((o=g.data)===null||o===void 0)&&o.url&&Bn()&&!(!((h=e.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(u){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Ji;const{error:a}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(lt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:o}=e,{error:h}=await _t(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in e){const{phone:s,type:a,options:o}=e,{data:h,error:u}=await _t(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:u})}throw new eh("You must provide either an email or phone number and a type")}catch(t){if(lt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ml(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Cf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const h=await ml(this.userStorage,this.storageKey+"-user");h!=null&&h.user?e.user=h.user:e.user=Tf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};e.user=Uv(e.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Do}):await this._useSession(async t=>{var s,a,o;const{data:h,error:u}=t;if(u)throw u;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ji}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=h.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Do})})}catch(t){if(lt(t))return mv(t)&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:a,error:o}=s;if(o)throw o;if(!a.session)throw new Ji;const h=a.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await au(this.storage,this.storageKey));const{data:g,error:y}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:h.access_token,xform:Do});if(y)throw y;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ji;const t=Date.now()/1e3;let s=t,a=!0,o=null;const{payload:h}=jf(e.access_token);if(h.exp&&(s=h.exp,a=s<=t),a){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(lt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:h,error:u}=t;if(u)throw u;e=(s=h.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ji;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(lt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Bn())throw new th("No browser detected.");if(e.error||e.error_description||e.error_code)throw new th(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new h0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new th("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new h0("No code detected.");const{data:z,error:G}=await this._exchangeCodeForSession(e.code);if(G)throw G;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:o,refresh_token:h,expires_in:u,expires_at:f,token_type:g}=e;if(!o||!u||!h||!g)throw new th("No session defined in URL");const y=Math.round(Date.now()/1e3),S=parseInt(u);let k=y+S;f&&(k=parseInt(f));const w=k-y;w*1e3<=pu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${S}s`);const C=k-S;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,k,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,k,y);const{data:L,error:T}=await this._getUser(o);if(T)throw T;const P={provider_token:s,provider_refresh_token:a,access_token:o,expires_in:S,expires_at:k,refresh_token:h,token_type:g,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(s){if(lt(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ml(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:a,error:o}=t;if(o)return this._returnResult({error:o});const h=(s=a.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:u}=await this.admin.signOut(h,e);if(u&&!(gv(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Nv(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,a;try{const{data:{session:o},error:h}=t;if(h)throw h;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await au(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:a}=await this._useSession(async o=>{var h,u,f,g,y;const{data:S,error:k}=o;if(k)throw k;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(h=e.options)===null||h===void 0?void 0:h.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(g=S.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Bn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(lt(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:a,data:{session:o}}=t;if(a)throw a;const{options:h,provider:u,token:f,access_token:g,nonce:y}=e,S=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o==null?void 0:o.access_token)!==null&&s!==void 0?s:void 0,body:{provider:u,id_token:f,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ds}),{data:k,error:w}=S;return w?this._returnResult({data:{user:null,session:null},error:w}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new su}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:w}))}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,a;const{data:o,error:h}=t;if(h)throw h;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await Cv(async a=>(a>0&&await Lv(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ds})),(a,o)=>{const h=200*Math.pow(2,a);return o&&Pf(o)&&Date.now()+h-s<pu})}catch(s){if(this._debug(t,"error",s),lt(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Bn()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ml(this.storage,this.storageKey);if(a&&this.userStorage){let h=await ml(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:a.user},await gu(this.userStorage,this.storageKey+"-user",h)),a.user=(e=h==null?void 0:h.user)!==null&&e!==void 0?e:Tf()}else if(a&&!a.user&&!a.user){const h=await ml(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(a.user=h.user,await Un(this.storage,this.storageKey+"-user"),await gu(this.storage,this.storageKey,a)):a.user=Tf()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const o=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Cf;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Cf}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:h}=await this._callRefreshToken(a.refresh_token);h&&(console.error(h),Pf(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:u}=await this._getUser(a.access_token);!u&&(h!=null&&h.user)?(a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ph;const{data:o,error:h}=await this._refreshAccessToken(e);if(h)throw h;if(!o.session)throw new Ji;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(a,"error",o),lt(o)){const h={data:null,error:o};return Pf(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],h=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(f){o.push(f)}});if(await Promise.all(h),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Un(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await gu(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const o=m0(a);await gu(this.storage,this.storageKey,o)}else{const a=m0(t);await gu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Un(this.storage,this.storageKey),await Un(this.storage,this.storageKey+"-code-verifier"),await Un(this.storage,this.storageKey+"-user"),this.userStorage&&await Un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/pu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${pu}ms, refresh threshold is ${hd} ticks`),a<=hd&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof n2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const a=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,h]=await au(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(h)}`});a.push(u.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);a.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:a,error:o}=t;return o?this._returnResult({data:null,error:o}):await _t(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,a;const{data:o,error:h}=t;if(h)return this._returnResult({data:null,error:h});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:g}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:o}=t;if(o)return this._returnResult({data:null,error:o});const h=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sy(e.webauthn.credential_response):ay(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:o}=t;if(o)return this._returnResult({data:null,error:o});const h=await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:u}=h;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:ny(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:iy(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=jf(s.access_token);let h=null;o.aal&&(h=o.aal);let u=h;((t=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(u="aal2");const g=o.amr||[];return{data:{currentLevel:h,nextLevel:u,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?await _t(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ji})})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Ji});const h=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return h.data&&h.data.redirect_url&&Bn()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(s){if(lt(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Ji});const h=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return h.data&&h.data.redirect_url&&Bn()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(s){if(lt(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;return s?this._returnResult({data:null,error:s}):t?await _t(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ji})})}catch(e){if(lt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?(await _t(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ji})})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(u=>u.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(u=>u.kid===e),s&&this.jwks_cached_at+dv>a)return s;const{data:o,error:h}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,s=o.keys.find(u=>u.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:w,error:C}=await this.getSession();if(C||!w.session)return this._returnResult({data:null,error:C});s=w.session.access_token}const{header:a,payload:o,signature:h,raw:{header:u,payload:f}}=jf(s);t!=null&&t.allowExpired||Fv(o.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!g){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:o,header:a,signature:h},error:null}}const y=Mv(a.alg),S=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,S,h,Sv(`${u}.${f}`)))throw new pd("Invalid JWT signature");return{data:{claims:o,header:a,signature:h},error:null}}catch(s){if(lt(s))return this._returnResult({data:null,error:s});throw s}}}hc.nextInstanceID={};const gy=hc,my="2.90.1";let rc="";typeof Deno<"u"?rc="deno":typeof document<"u"?rc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rc="react-native":rc="node";const vy={"X-Client-Info":`supabase-js-${rc}/${my}`},yy={headers:vy},wy={schema:"public"},by={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_y={};function fc(r){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(r)}function xy(r,e){if(fc(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(fc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Sy(r){var e=xy(r,"string");return fc(e)=="symbol"?e:e+""}function ky(r,e,t){return(e=Sy(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function S0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function tn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S0(Object(t),!0).forEach(function(s){ky(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):S0(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}const Ny=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Ay=()=>Headers,Ey=(r,e,t)=>{const s=Ny(t),a=Ay();return async(o,h)=>{var u;const f=(u=await e())!==null&&u!==void 0?u:r;let g=new a(h==null?void 0:h.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),s(o,tn(tn({},h),{},{headers:g}))}};function Ly(r){return r.endsWith("/")?r:r+"/"}function Cy(r,e){var t,s;const{db:a,auth:o,realtime:h,global:u}=r,{db:f,auth:g,realtime:y,global:S}=e,k={db:tn(tn({},f),a),auth:tn(tn({},g),o),realtime:tn(tn({},y),h),storage:{},global:tn(tn(tn({},S),u),{},{headers:tn(tn({},(t=S==null?void 0:S.headers)!==null&&t!==void 0?t:{}),(s=u==null?void 0:u.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return r.accessToken?k.accessToken=r.accessToken:delete k.accessToken,k}function Py(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ly(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var jy=class extends gy{constructor(r){super(r)}},Ty=class{constructor(r,e,t){var s,a;this.supabaseUrl=r,this.supabaseKey=e;const o=Py(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const h=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:wy,realtime:_y,auth:tn(tn({},by),{},{storageKey:h}),global:yy},f=Cy(t??{},u);if(this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(y,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=f.auth)!==null&&g!==void 0?g:{},this.headers,f.global.fetch)}this.fetch=Ey(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(tn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new h5(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new lv(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new a5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:s}=await r.auth.getSession();return(e=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:s,userStorage:a,storageKey:o,flowType:h,lock:u,debug:f,throwOnError:g},y,S){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jy({url:this.authUrl.href,headers:tn(tn({},k),y),storageKey:o,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:s,userStorage:a,flowType:h,lock:u,debug:f,throwOnError:g,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new L5(this.realtimeUrl.href,tn(tn({},r),{},{params:tn(tn({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Oy=(r,e,t)=>new Ty(r,e,t);function Iy(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const e=r.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Iy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ry="https://zaxvtxilqccywszvkmtz.supabase.co",Fy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpheHZ0eGlscWNjeXdzenZrbXR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjkzMjEsImV4cCI6MjA4NDM0NTMyMX0.5OvBPWNIpkX8Go6I_DlxIVNKxEauPLTTinaAQjpQT9U",rn=Oy(Ry,Fy),My="modulepreload",Dy=function(r){return"/"+r},k0={},hh=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let h=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=h(t.map(g=>{if(g=Dy(g),g in k0)return;k0[g]=!0;const y=g.endsWith(".css"),S=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${S}`))return;const k=document.createElement("link");if(k.rel=y?"stylesheet":My,y||(k.as="script"),k.crossOrigin="",k.href=g,f&&k.setAttribute("nonce",f),document.head.appendChild(k),y)return new Promise((w,C)=>{k.addEventListener("load",w),k.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(h){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=h,window.dispatchEvent(u),!u.defaultPrevented)throw h}return a.then(h=>{for(const u of h||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function pr(r){"@babel/helpers - typeof";return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(r)}var qs=Uint8Array,Qi=Uint16Array,Rd=Int32Array,Fd=new qs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Md=new qs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N0=new qs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a2=function(r,e){for(var t=new Qi(31),s=0;s<31;++s)t[s]=e+=1<<r[s-1];for(var a=new Rd(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)a[o]=o-t[s]<<5|s;return{b:t,r:a}},o2=a2(Fd,2),Uy=o2.b,gd=o2.r;Uy[28]=258,gd[258]=28;var By=a2(Md,0),A0=By.r,md=new Qi(32768);for(var Lr=0;Lr<32768;++Lr){var Ro=(Lr&43690)>>1|(Lr&21845)<<1;Ro=(Ro&52428)>>2|(Ro&13107)<<2,Ro=(Ro&61680)>>4|(Ro&3855)<<4,md[Lr]=((Ro&65280)>>8|(Ro&255)<<8)>>1}var sc=(function(r,e,t){for(var s=r.length,a=0,o=new Qi(e);a<s;++a)r[a]&&++o[r[a]-1];var h=new Qi(e);for(a=1;a<e;++a)h[a]=h[a-1]+o[a-1]<<1;var u;if(t){u=new Qi(1<<e);var f=15-e;for(a=0;a<s;++a)if(r[a])for(var g=a<<4|r[a],y=e-r[a],S=h[r[a]-1]++<<y,k=S|(1<<y)-1;S<=k;++S)u[md[S]>>f]=g}else for(u=new Qi(s),a=0;a<s;++a)r[a]&&(u[a]=md[h[r[a]-1]++]>>15-r[a]);return u}),Nl=new qs(288);for(var Lr=0;Lr<144;++Lr)Nl[Lr]=8;for(var Lr=144;Lr<256;++Lr)Nl[Lr]=9;for(var Lr=256;Lr<280;++Lr)Nl[Lr]=7;for(var Lr=280;Lr<288;++Lr)Nl[Lr]=8;var _h=new qs(32);for(var Lr=0;Lr<32;++Lr)_h[Lr]=5;var qy=sc(Nl,9,0),zy=sc(_h,5,0),l2=function(r){return(r+7)/8|0},$y=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new qs(r.subarray(e,t))},Ka=function(r,e,t){t<<=e&7;var s=e/8|0;r[s]|=t,r[s+1]|=t>>8},ec=function(r,e,t){t<<=e&7;var s=e/8|0;r[s]|=t,r[s+1]|=t>>8,r[s+2]|=t>>16},If=function(r,e){for(var t=[],s=0;s<r.length;++s)r[s]&&t.push({s,f:r[s]});var a=t.length,o=t.slice();if(!a)return{t:c2,l:0};if(a==1){var h=new qs(t[0].s+1);return h[t[0].s]=1,{t:h,l:1}}t.sort(function(de,be){return de.f-be.f}),t.push({s:-1,f:25001});var u=t[0],f=t[1],g=0,y=1,S=2;for(t[0]={s:-1,f:u.f+f.f,l:u,r:f};y!=a-1;)u=t[t[g].f<t[S].f?g++:S++],f=t[g!=y&&t[g].f<t[S].f?g++:S++],t[y++]={s:-1,f:u.f+f.f,l:u,r:f};for(var k=o[0].s,s=1;s<a;++s)o[s].s>k&&(k=o[s].s);var w=new Qi(k+1),C=vd(t[y-1],w,0);if(C>e){var s=0,L=0,T=C-e,P=1<<T;for(o.sort(function(be,we){return w[we.s]-w[be.s]||be.f-we.f});s<a;++s){var z=o[s].s;if(w[z]>e)L+=P-(1<<C-w[z]),w[z]=e;else break}for(L>>=T;L>0;){var G=o[s].s;w[G]<e?L-=1<<e-w[G]++-1:++s}for(;s>=0&&L;--s){var H=o[s].s;w[H]==e&&(--w[H],++L)}C=e}return{t:new qs(w),l:C}},vd=function(r,e,t){return r.s==-1?Math.max(vd(r.l,e,t+1),vd(r.r,e,t+1)):e[r.s]=t},E0=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Qi(++e),s=0,a=r[0],o=1,h=function(f){t[s++]=f},u=1;u<=e;++u)if(r[u]==a&&u!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=r[u]}return{c:t.subarray(0,s),n:e}},tc=function(r,e){for(var t=0,s=0;s<e.length;++s)t+=r[s]*e[s];return t},u2=function(r,e,t){var s=t.length,a=l2(e+2);r[a]=s&255,r[a+1]=s>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var o=0;o<s;++o)r[a+o+4]=t[o];return(a+4+s)*8},L0=function(r,e,t,s,a,o,h,u,f,g,y){Ka(e,y++,t),++a[256];for(var S=If(a,15),k=S.t,w=S.l,C=If(o,15),L=C.t,T=C.l,P=E0(k),z=P.c,G=P.n,H=E0(L),de=H.c,be=H.n,we=new Qi(19),ae=0;ae<z.length;++ae)++we[z[ae]&31];for(var ae=0;ae<de.length;++ae)++we[de[ae]&31];for(var Y=If(we,7),pe=Y.t,M=Y.l,$=19;$>4&&!pe[N0[$-1]];--$);var te=g+5<<3,ee=tc(a,Nl)+tc(o,_h)+h,Se=tc(a,k)+tc(o,L)+h+14+3*$+tc(we,pe)+2*we[16]+3*we[17]+7*we[18];if(f>=0&&te<=ee&&te<=Se)return u2(e,y,r.subarray(f,f+g));var Ee,Ne,Z,he;if(Ka(e,y,1+(Se<ee)),y+=2,Se<ee){Ee=sc(k,w,0),Ne=k,Z=sc(L,T,0),he=L;var ke=sc(pe,M,0);Ka(e,y,G-257),Ka(e,y+5,be-1),Ka(e,y+10,$-4),y+=14;for(var ae=0;ae<$;++ae)Ka(e,y+3*ae,pe[N0[ae]]);y+=3*$;for(var K=[z,de],N=0;N<2;++N)for(var U=K[N],ae=0;ae<U.length;++ae){var J=U[ae]&31;Ka(e,y,ke[J]),y+=pe[J],J>15&&(Ka(e,y,U[ae]>>5&127),y+=U[ae]>>12)}}else Ee=qy,Ne=Nl,Z=zy,he=_h;for(var ae=0;ae<u;++ae){var Q=s[ae];if(Q>255){var J=Q>>18&31;ec(e,y,Ee[J+257]),y+=Ne[J+257],J>7&&(Ka(e,y,Q>>23&31),y+=Fd[J]);var ne=Q&31;ec(e,y,Z[ne]),y+=he[ne],ne>3&&(ec(e,y,Q>>5&8191),y+=Md[ne])}else ec(e,y,Ee[Q]),y+=Ne[Q]}return ec(e,y,Ee[256]),y+Ne[256]},Wy=new Rd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c2=new qs(0),Hy=function(r,e,t,s,a,o){var h=o.z||r.length,u=new qs(s+h+5*(1+Math.ceil(h/7e3))+a),f=u.subarray(s,u.length-a),g=o.l,y=(o.r||0)&7;if(e){y&&(f[0]=o.r>>3);for(var S=Wy[e-1],k=S>>13,w=S&8191,C=(1<<t)-1,L=o.p||new Qi(32768),T=o.h||new Qi(C+1),P=Math.ceil(t/3),z=2*P,G=function(ot){return(r[ot]^r[ot+1]<<P^r[ot+2]<<z)&C},H=new Rd(25e3),de=new Qi(288),be=new Qi(32),we=0,ae=0,Y=o.i||0,pe=0,M=o.w||0,$=0;Y+2<h;++Y){var te=G(Y),ee=Y&32767,Se=T[te];if(L[ee]=Se,T[te]=ee,M<=Y){var Ee=h-Y;if((we>7e3||pe>24576)&&(Ee>423||!g)){y=L0(r,f,0,H,de,be,ae,pe,$,Y-$,y),pe=we=ae=0,$=Y;for(var Ne=0;Ne<286;++Ne)de[Ne]=0;for(var Ne=0;Ne<30;++Ne)be[Ne]=0}var Z=2,he=0,ke=w,K=ee-Se&32767;if(Ee>2&&te==G(Y-K))for(var N=Math.min(k,Ee)-1,U=Math.min(32767,Y),J=Math.min(258,Ee);K<=U&&--ke&&ee!=Se;){if(r[Y+Z]==r[Y+Z-K]){for(var Q=0;Q<J&&r[Y+Q]==r[Y+Q-K];++Q);if(Q>Z){if(Z=Q,he=K,Q>N)break;for(var ne=Math.min(K,Q-2),ue=0,Ne=0;Ne<ne;++Ne){var me=Y-K+Ne&32767,_e=L[me],je=me-_e&32767;je>ue&&(ue=je,Se=me)}}}ee=Se,Se=L[ee],K+=ee-Se&32767}if(he){H[pe++]=268435456|gd[Z]<<18|A0[he];var Ue=gd[Z]&31,He=A0[he]&31;ae+=Fd[Ue]+Md[He],++de[257+Ue],++be[He],M=Y+Z,++we}else H[pe++]=r[Y],++de[r[Y]]}}for(Y=Math.max(Y,M);Y<h;++Y)H[pe++]=r[Y],++de[r[Y]];y=L0(r,f,g,H,de,be,ae,pe,$,Y-$,y),g||(o.r=y&7|f[y/8|0]<<3,y-=7,o.h=T,o.p=L,o.i=Y,o.w=M)}else{for(var Y=o.w||0;Y<h+g;Y+=65535){var $e=Y+65535;$e>=h&&(f[y/8|0]=g,$e=h),y=u2(f,y+1,r.subarray(Y,$e))}o.i=h}return $y(u,0,s+l2(y)+a)},h2=function(){var r=1,e=0;return{p:function(t){for(var s=r,a=e,o=t.length|0,h=0;h!=o;){for(var u=Math.min(h+2655,o);h<u;++h)a+=s+=t[h];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}r=s,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Vy=function(r,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new qs(o.length+r.length);h.set(o),h.set(r,o.length),r=h,a.w=o.length}return Hy(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,s,a)},f2=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},Gy=function(r,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=s<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=h2();a.p(e.dictionary),f2(r,2,a.d())}};function yd(r,e){e||(e={});var t=h2();t.p(r);var s=Vy(r,e,e.dictionary?6:2,4);return Gy(s,e),f2(s,s.length-4,t.d()),s}var Ky=typeof TextDecoder<"u"&&new TextDecoder,Jy=0;try{Ky.decode(c2,{stream:!0}),Jy=1}catch{}function Yy(r){if(Array.isArray(r))return r}function Xy(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var s,a,o,h,u=[],f=!0,g=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(f=(s=o.call(t)).done)&&(u.push(s.value),u.length!==e);f=!0);}catch(y){g=!0,a=y}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(g)throw a}}return u}}function C0(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=Array(e);t<e;t++)s[t]=r[t];return s}function Qy(r,e){if(r){if(typeof r=="string")return C0(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C0(r,e):void 0}}function Zy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P0(r,e){return Yy(r)||Xy(r,e)||Qy(r,e)||Zy()}function j0(r,e="utf8"){return new TextDecoder(e).decode(r)}const ew=new TextEncoder;function tw(r){return ew.encode(r)}const rw=1024*8,nw=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),Rf={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Dd{constructor(e=rw,t={}){dr(this,"buffer");dr(this,"byteLength");dr(this,"byteOffset");dr(this,"length");dr(this,"offset");dr(this,"lastWrittenByte");dr(this,"littleEndian");dr(this,"_data");dr(this,"_mark");dr(this,"_marks");let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let h=a;(ArrayBuffer.isView(e)||e instanceof Dd)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=Rf[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+s);if(this.littleEndian===nw&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(a,a+s));u.reverse();const f=new Rf[t](u.buffer);return this.offset+=s,f.reverse(),f}const h=new Rf[t](o);return this.offset+=s,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return j0(this.readBytes(e))}decodeText(e=1,t="utf8"){return j0(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(tw(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Nu(r){let e=r.length;for(;--e>=0;)r[e]=0}const iw=3,sw=258,d2=29,aw=256,ow=aw+1+d2,p2=30,lw=512,uw=new Array((ow+2)*2);Nu(uw);const cw=new Array(p2*2);Nu(cw);const hw=new Array(lw);Nu(hw);const fw=new Array(sw-iw+1);Nu(fw);const dw=new Array(d2);Nu(dw);const pw=new Array(p2);Nu(pw);const gw=(r,e,t,s)=>{let a=r&65535|0,o=r>>>16&65535|0,h=0;for(;t!==0;){h=t>2e3?2e3:t,t-=h;do a=a+e[s++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var wd=gw;const mw=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var s=0;s<8;s++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},vw=new Uint32Array(mw()),yw=(r,e,t,s)=>{const a=vw,o=s+t;r^=-1;for(let h=s;h<o;h++)r=r>>>8^a[(r^e[h])&255];return r^-1};var ca=yw,bd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},g2={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ww=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var bw=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)ww(t,s)&&(r[s]=t[s])}}return r},_w=r=>{let e=0;for(let s=0,a=r.length;s<a;s++)e+=r[s].length;const t=new Uint8Array(e);for(let s=0,a=0,o=r.length;s<o;s++){let h=r[s];t.set(h,a),a+=h.length}return t},m2={assign:bw,flattenChunks:_w};let v2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v2=!1}const dc=new Uint8Array(256);for(let r=0;r<256;r++)dc[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;dc[254]=dc[254]=1;var xw=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,s,a,o,h=r.length,u=0;for(a=0;a<h;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(s=r.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),o=0,a=0;o<u;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(s=r.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Sw=(r,e)=>{if(e<65534&&r.subarray&&v2)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(r[s]);return t};var kw=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let s,a;const o=new Array(t*2);for(a=0,s=0;s<t;){let h=r[s++];if(h<128){o[a++]=h;continue}let u=dc[h];if(u>4){o[a++]=65533,s+=u-1;continue}for(h&=u===2?31:u===3?15:7;u>1&&s<t;)h=h<<6|r[s++]&63,u--;if(u>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return Sw(o,a)},Nw=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+dc[r[t]]>e?t:e},_d={string2buf:xw,buf2string:kw,utf8border:Nw};function Aw(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ew=Aw;const rh=16209,Lw=16191;var Cw=function(e,t){let s,a,o,h,u,f,g,y,S,k,w,C,L,T,P,z,G,H,de,be,we,ae,Y,pe;const M=e.state;s=e.next_in,Y=e.input,a=s+(e.avail_in-5),o=e.next_out,pe=e.output,h=o-(t-e.avail_out),u=o+(e.avail_out-257),f=M.dmax,g=M.wsize,y=M.whave,S=M.wnext,k=M.window,w=M.hold,C=M.bits,L=M.lencode,T=M.distcode,P=(1<<M.lenbits)-1,z=(1<<M.distbits)-1;e:do{C<15&&(w+=Y[s++]<<C,C+=8,w+=Y[s++]<<C,C+=8),G=L[w&P];t:for(;;){if(H=G>>>24,w>>>=H,C-=H,H=G>>>16&255,H===0)pe[o++]=G&65535;else if(H&16){de=G&65535,H&=15,H&&(C<H&&(w+=Y[s++]<<C,C+=8),de+=w&(1<<H)-1,w>>>=H,C-=H),C<15&&(w+=Y[s++]<<C,C+=8,w+=Y[s++]<<C,C+=8),G=T[w&z];r:for(;;){if(H=G>>>24,w>>>=H,C-=H,H=G>>>16&255,H&16){if(be=G&65535,H&=15,C<H&&(w+=Y[s++]<<C,C+=8,C<H&&(w+=Y[s++]<<C,C+=8)),be+=w&(1<<H)-1,be>f){e.msg="invalid distance too far back",M.mode=rh;break e}if(w>>>=H,C-=H,H=o-h,be>H){if(H=be-H,H>y&&M.sane){e.msg="invalid distance too far back",M.mode=rh;break e}if(we=0,ae=k,S===0){if(we+=g-H,H<de){de-=H;do pe[o++]=k[we++];while(--H);we=o-be,ae=pe}}else if(S<H){if(we+=g+S-H,H-=S,H<de){de-=H;do pe[o++]=k[we++];while(--H);if(we=0,S<de){H=S,de-=H;do pe[o++]=k[we++];while(--H);we=o-be,ae=pe}}}else if(we+=S-H,H<de){de-=H;do pe[o++]=k[we++];while(--H);we=o-be,ae=pe}for(;de>2;)pe[o++]=ae[we++],pe[o++]=ae[we++],pe[o++]=ae[we++],de-=3;de&&(pe[o++]=ae[we++],de>1&&(pe[o++]=ae[we++]))}else{we=o-be;do pe[o++]=pe[we++],pe[o++]=pe[we++],pe[o++]=pe[we++],de-=3;while(de>2);de&&(pe[o++]=pe[we++],de>1&&(pe[o++]=pe[we++]))}}else if((H&64)===0){G=T[(G&65535)+(w&(1<<H)-1)];continue r}else{e.msg="invalid distance code",M.mode=rh;break e}break}}else if((H&64)===0){G=L[(G&65535)+(w&(1<<H)-1)];continue t}else if(H&32){M.mode=Lw;break e}else{e.msg="invalid literal/length code",M.mode=rh;break e}break}}while(s<a&&o<u);de=C>>3,s-=de,C-=de<<3,w&=(1<<C)-1,e.next_in=s,e.next_out=o,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=o<u?257+(u-o):257-(o-u),M.hold=w,M.bits=C};const cu=15,T0=852,O0=592,I0=0,Ff=1,R0=2,Pw=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jw=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Tw=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ow=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Iw=(r,e,t,s,a,o,h,u)=>{const f=u.bits;let g=0,y=0,S=0,k=0,w=0,C=0,L=0,T=0,P=0,z=0,G,H,de,be,we,ae=null,Y;const pe=new Uint16Array(cu+1),M=new Uint16Array(cu+1);let $=null,te,ee,Se;for(g=0;g<=cu;g++)pe[g]=0;for(y=0;y<s;y++)pe[e[t+y]]++;for(w=f,k=cu;k>=1&&pe[k]===0;k--);if(w>k&&(w=k),k===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,u.bits=1,0;for(S=1;S<k&&pe[S]===0;S++);for(w<S&&(w=S),T=1,g=1;g<=cu;g++)if(T<<=1,T-=pe[g],T<0)return-1;if(T>0&&(r===I0||k!==1))return-1;for(M[1]=0,g=1;g<cu;g++)M[g+1]=M[g]+pe[g];for(y=0;y<s;y++)e[t+y]!==0&&(h[M[e[t+y]]++]=y);if(r===I0?(ae=$=h,Y=20):r===Ff?(ae=Pw,$=jw,Y=257):(ae=Tw,$=Ow,Y=0),z=0,y=0,g=S,we=o,C=w,L=0,de=-1,P=1<<w,be=P-1,r===Ff&&P>T0||r===R0&&P>O0)return 1;for(;;){te=g-L,h[y]+1<Y?(ee=0,Se=h[y]):h[y]>=Y?(ee=$[h[y]-Y],Se=ae[h[y]-Y]):(ee=96,Se=0),G=1<<g-L,H=1<<C,S=H;do H-=G,a[we+(z>>L)+H]=te<<24|ee<<16|Se|0;while(H!==0);for(G=1<<g-1;z&G;)G>>=1;if(G!==0?(z&=G-1,z+=G):z=0,y++,--pe[g]===0){if(g===k)break;g=e[t+h[y]]}if(g>w&&(z&be)!==de){for(L===0&&(L=w),we+=S,C=g-L,T=1<<C;C+L<k&&(T-=pe[C+L],!(T<=0));)C++,T<<=1;if(P+=1<<C,r===Ff&&P>T0||r===R0&&P>O0)return 1;de=z&be,a[de]=w<<24|C<<16|we-o|0}}return z!==0&&(a[we+z]=g-L<<24|64<<16|0),u.bits=w,0};var ac=Iw;const Rw=0,y2=1,w2=2,{Z_FINISH:F0,Z_BLOCK:Fw,Z_TREES:nh,Z_OK:Al,Z_STREAM_END:Mw,Z_NEED_DICT:Dw,Z_STREAM_ERROR:vs,Z_DATA_ERROR:b2,Z_MEM_ERROR:_2,Z_BUF_ERROR:Uw,Z_DEFLATED:M0}=g2,jh=16180,D0=16181,U0=16182,B0=16183,q0=16184,z0=16185,$0=16186,W0=16187,H0=16188,V0=16189,xh=16190,Ja=16191,Mf=16192,G0=16193,Df=16194,K0=16195,J0=16196,Y0=16197,X0=16198,ih=16199,sh=16200,Q0=16201,Z0=16202,e1=16203,t1=16204,r1=16205,Uf=16206,n1=16207,i1=16208,Ir=16209,x2=16210,S2=16211,Bw=852,qw=592,zw=15,$w=zw,s1=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Ww(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const El=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<jh||e.mode>S2?1:0},k2=r=>{if(El(r))return vs;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=jh,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Bw),e.distcode=e.distdyn=new Int32Array(qw),e.sane=1,e.back=-1,Al},N2=r=>{if(El(r))return vs;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,k2(r)},A2=(r,e)=>{let t;if(El(r))return vs;const s=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?vs:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,N2(r))},E2=(r,e)=>{if(!r)return vs;const t=new Ww;r.state=t,t.strm=r,t.window=null,t.mode=jh;const s=A2(r,e);return s!==Al&&(r.state=null),s},Hw=r=>E2(r,$w);let a1=!0,Bf,qf;const Vw=r=>{if(a1){Bf=new Int32Array(512),qf=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(ac(y2,r.lens,0,288,Bf,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;ac(w2,r.lens,0,32,qf,0,r.work,{bits:5}),a1=!1}r.lencode=Bf,r.lenbits=9,r.distcode=qf,r.distbits=5},L2=(r,e,t,s)=>{let a;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>s&&(a=s),o.window.set(e.subarray(t-s,t-s+a),o.wnext),s-=a,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},Gw=(r,e)=>{let t,s,a,o,h,u,f,g,y,S,k,w,C,L,T=0,P,z,G,H,de,be,we,ae;const Y=new Uint8Array(4);let pe,M;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(El(r)||!r.output||!r.input&&r.avail_in!==0)return vs;t=r.state,t.mode===Ja&&(t.mode=Mf),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,s=r.input,u=r.avail_in,g=t.hold,y=t.bits,S=u,k=f,ae=Al;e:for(;;)switch(t.mode){case jh:if(t.wrap===0){t.mode=Mf;break}for(;y<16;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if(t.wrap&2&&g===35615){t.wbits===0&&(t.wbits=15),t.check=0,Y[0]=g&255,Y[1]=g>>>8&255,t.check=ca(t.check,Y,2,0),g=0,y=0,t.mode=D0;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((g&255)<<8)+(g>>8))%31){r.msg="incorrect header check",t.mode=Ir;break}if((g&15)!==M0){r.msg="unknown compression method",t.mode=Ir;break}if(g>>>=4,y-=4,we=(g&15)+8,t.wbits===0&&(t.wbits=we),we>15||we>t.wbits){r.msg="invalid window size",t.mode=Ir;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=g&512?V0:Ja,g=0,y=0;break;case D0:for(;y<16;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if(t.flags=g,(t.flags&255)!==M0){r.msg="unknown compression method",t.mode=Ir;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Ir;break}t.head&&(t.head.text=g>>8&1),t.flags&512&&t.wrap&4&&(Y[0]=g&255,Y[1]=g>>>8&255,t.check=ca(t.check,Y,2,0)),g=0,y=0,t.mode=U0;case U0:for(;y<32;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}t.head&&(t.head.time=g),t.flags&512&&t.wrap&4&&(Y[0]=g&255,Y[1]=g>>>8&255,Y[2]=g>>>16&255,Y[3]=g>>>24&255,t.check=ca(t.check,Y,4,0)),g=0,y=0,t.mode=B0;case B0:for(;y<16;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}t.head&&(t.head.xflags=g&255,t.head.os=g>>8),t.flags&512&&t.wrap&4&&(Y[0]=g&255,Y[1]=g>>>8&255,t.check=ca(t.check,Y,2,0)),g=0,y=0,t.mode=q0;case q0:if(t.flags&1024){for(;y<16;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}t.length=g,t.head&&(t.head.extra_len=g),t.flags&512&&t.wrap&4&&(Y[0]=g&255,Y[1]=g>>>8&255,t.check=ca(t.check,Y,2,0)),g=0,y=0}else t.head&&(t.head.extra=null);t.mode=z0;case z0:if(t.flags&1024&&(w=t.length,w>u&&(w=u),w&&(t.head&&(we=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+w),we)),t.flags&512&&t.wrap&4&&(t.check=ca(t.check,s,w,o)),u-=w,o+=w,t.length-=w),t.length))break e;t.length=0,t.mode=$0;case $0:if(t.flags&2048){if(u===0)break e;w=0;do we=s[o+w++],t.head&&we&&t.length<65536&&(t.head.name+=String.fromCharCode(we));while(we&&w<u);if(t.flags&512&&t.wrap&4&&(t.check=ca(t.check,s,w,o)),u-=w,o+=w,we)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=W0;case W0:if(t.flags&4096){if(u===0)break e;w=0;do we=s[o+w++],t.head&&we&&t.length<65536&&(t.head.comment+=String.fromCharCode(we));while(we&&w<u);if(t.flags&512&&t.wrap&4&&(t.check=ca(t.check,s,w,o)),u-=w,o+=w,we)break e}else t.head&&(t.head.comment=null);t.mode=H0;case H0:if(t.flags&512){for(;y<16;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if(t.wrap&4&&g!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Ir;break}g=0,y=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Ja;break;case V0:for(;y<32;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}r.adler=t.check=s1(g),g=0,y=0,t.mode=xh;case xh:if(t.havedict===0)return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=u,t.hold=g,t.bits=y,Dw;r.adler=t.check=1,t.mode=Ja;case Ja:if(e===Fw||e===nh)break e;case Mf:if(t.last){g>>>=y&7,y-=y&7,t.mode=Uf;break}for(;y<3;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}switch(t.last=g&1,g>>>=1,y-=1,g&3){case 0:t.mode=G0;break;case 1:if(Vw(t),t.mode=ih,e===nh){g>>>=2,y-=2;break e}break;case 2:t.mode=J0;break;case 3:r.msg="invalid block type",t.mode=Ir}g>>>=2,y-=2;break;case G0:for(g>>>=y&7,y-=y&7;y<32;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if((g&65535)!==(g>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Ir;break}if(t.length=g&65535,g=0,y=0,t.mode=Df,e===nh)break e;case Df:t.mode=K0;case K0:if(w=t.length,w){if(w>u&&(w=u),w>f&&(w=f),w===0)break e;a.set(s.subarray(o,o+w),h),u-=w,o+=w,f-=w,h+=w,t.length-=w;break}t.mode=Ja;break;case J0:for(;y<14;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if(t.nlen=(g&31)+257,g>>>=5,y-=5,t.ndist=(g&31)+1,g>>>=5,y-=5,t.ncode=(g&15)+4,g>>>=4,y-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Ir;break}t.have=0,t.mode=Y0;case Y0:for(;t.have<t.ncode;){for(;y<3;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}t.lens[$[t.have++]]=g&7,g>>>=3,y-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,pe={bits:t.lenbits},ae=ac(Rw,t.lens,0,19,t.lencode,0,t.work,pe),t.lenbits=pe.bits,ae){r.msg="invalid code lengths set",t.mode=Ir;break}t.have=0,t.mode=X0;case X0:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[g&(1<<t.lenbits)-1],P=T>>>24,z=T>>>16&255,G=T&65535,!(P<=y);){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if(G<16)g>>>=P,y-=P,t.lens[t.have++]=G;else{if(G===16){for(M=P+2;y<M;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if(g>>>=P,y-=P,t.have===0){r.msg="invalid bit length repeat",t.mode=Ir;break}we=t.lens[t.have-1],w=3+(g&3),g>>>=2,y-=2}else if(G===17){for(M=P+3;y<M;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}g>>>=P,y-=P,we=0,w=3+(g&7),g>>>=3,y-=3}else{for(M=P+7;y<M;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}g>>>=P,y-=P,we=0,w=11+(g&127),g>>>=7,y-=7}if(t.have+w>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Ir;break}for(;w--;)t.lens[t.have++]=we}}if(t.mode===Ir)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Ir;break}if(t.lenbits=9,pe={bits:t.lenbits},ae=ac(y2,t.lens,0,t.nlen,t.lencode,0,t.work,pe),t.lenbits=pe.bits,ae){r.msg="invalid literal/lengths set",t.mode=Ir;break}if(t.distbits=6,t.distcode=t.distdyn,pe={bits:t.distbits},ae=ac(w2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,pe),t.distbits=pe.bits,ae){r.msg="invalid distances set",t.mode=Ir;break}if(t.mode=ih,e===nh)break e;case ih:t.mode=sh;case sh:if(u>=6&&f>=258){r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=u,t.hold=g,t.bits=y,Cw(r,k),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,s=r.input,u=r.avail_in,g=t.hold,y=t.bits,t.mode===Ja&&(t.back=-1);break}for(t.back=0;T=t.lencode[g&(1<<t.lenbits)-1],P=T>>>24,z=T>>>16&255,G=T&65535,!(P<=y);){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if(z&&(z&240)===0){for(H=P,de=z,be=G;T=t.lencode[be+((g&(1<<H+de)-1)>>H)],P=T>>>24,z=T>>>16&255,G=T&65535,!(H+P<=y);){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}g>>>=H,y-=H,t.back+=H}if(g>>>=P,y-=P,t.back+=P,t.length=G,z===0){t.mode=r1;break}if(z&32){t.back=-1,t.mode=Ja;break}if(z&64){r.msg="invalid literal/length code",t.mode=Ir;break}t.extra=z&15,t.mode=Q0;case Q0:if(t.extra){for(M=t.extra;y<M;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}t.length+=g&(1<<t.extra)-1,g>>>=t.extra,y-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Z0;case Z0:for(;T=t.distcode[g&(1<<t.distbits)-1],P=T>>>24,z=T>>>16&255,G=T&65535,!(P<=y);){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if((z&240)===0){for(H=P,de=z,be=G;T=t.distcode[be+((g&(1<<H+de)-1)>>H)],P=T>>>24,z=T>>>16&255,G=T&65535,!(H+P<=y);){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}g>>>=H,y-=H,t.back+=H}if(g>>>=P,y-=P,t.back+=P,z&64){r.msg="invalid distance code",t.mode=Ir;break}t.offset=G,t.extra=z&15,t.mode=e1;case e1:if(t.extra){for(M=t.extra;y<M;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}t.offset+=g&(1<<t.extra)-1,g>>>=t.extra,y-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Ir;break}t.mode=t1;case t1:if(f===0)break e;if(w=k-f,t.offset>w){if(w=t.offset-w,w>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Ir;break}w>t.wnext?(w-=t.wnext,C=t.wsize-w):C=t.wnext-w,w>t.length&&(w=t.length),L=t.window}else L=a,C=h-t.offset,w=t.length;w>f&&(w=f),f-=w,t.length-=w;do a[h++]=L[C++];while(--w);t.length===0&&(t.mode=sh);break;case r1:if(f===0)break e;a[h++]=t.length,f--,t.mode=sh;break;case Uf:if(t.wrap){for(;y<32;){if(u===0)break e;u--,g|=s[o++]<<y,y+=8}if(k-=f,r.total_out+=k,t.total+=k,t.wrap&4&&k&&(r.adler=t.check=t.flags?ca(t.check,a,k,h-k):wd(t.check,a,k,h-k)),k=f,t.wrap&4&&(t.flags?g:s1(g))!==t.check){r.msg="incorrect data check",t.mode=Ir;break}g=0,y=0}t.mode=n1;case n1:if(t.wrap&&t.flags){for(;y<32;){if(u===0)break e;u--,g+=s[o++]<<y,y+=8}if(t.wrap&4&&g!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Ir;break}g=0,y=0}t.mode=i1;case i1:ae=Mw;break e;case Ir:ae=b2;break e;case x2:return _2;case S2:default:return vs}return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=u,t.hold=g,t.bits=y,(t.wsize||k!==r.avail_out&&t.mode<Ir&&(t.mode<Uf||e!==F0))&&L2(r,r.output,r.next_out,k-r.avail_out),S-=r.avail_in,k-=r.avail_out,r.total_in+=S,r.total_out+=k,t.total+=k,t.wrap&4&&k&&(r.adler=t.check=t.flags?ca(t.check,a,k,r.next_out-k):wd(t.check,a,k,r.next_out-k)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Ja?128:0)+(t.mode===ih||t.mode===Df?256:0),(S===0&&k===0||e===F0)&&ae===Al&&(ae=Uw),ae},Kw=r=>{if(El(r))return vs;let e=r.state;return e.window&&(e.window=null),r.state=null,Al},Jw=(r,e)=>{if(El(r))return vs;const t=r.state;return(t.wrap&2)===0?vs:(t.head=e,e.done=!1,Al)},Yw=(r,e)=>{const t=e.length;let s,a,o;return El(r)||(s=r.state,s.wrap!==0&&s.mode!==xh)?vs:s.mode===xh&&(a=1,a=wd(a,e,t,0),a!==s.check)?b2:(o=L2(r,e,t,t),o?(s.mode=x2,_2):(s.havedict=1,Al))};var Xw=N2,Qw=A2,Zw=k2,eb=Hw,tb=E2,rb=Gw,nb=Kw,ib=Jw,sb=Yw,ab="pako inflate (from Nodeca project)",Xa={inflateReset:Xw,inflateReset2:Qw,inflateResetKeep:Zw,inflateInit:eb,inflateInit2:tb,inflate:rb,inflateEnd:nb,inflateGetHeader:ib,inflateSetDictionary:sb,inflateInfo:ab};function ob(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lb=ob;const C2=Object.prototype.toString,{Z_NO_FLUSH:ub,Z_FINISH:cb,Z_OK:pc,Z_STREAM_END:zf,Z_NEED_DICT:$f,Z_STREAM_ERROR:hb,Z_DATA_ERROR:o1,Z_MEM_ERROR:fb}=g2;function mc(r){this.options=m2.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ew,this.strm.avail_out=0;let t=Xa.inflateInit2(this.strm,e.windowBits);if(t!==pc)throw new Error(bd[t]);if(this.header=new lb,Xa.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_d.string2buf(e.dictionary):C2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Xa.inflateSetDictionary(this.strm,e.dictionary),t!==pc)))throw new Error(bd[t])}mc.prototype.push=function(r,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let o,h,u;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?cb:ub,C2.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=Xa.inflate(t,h),o===$f&&a&&(o=Xa.inflateSetDictionary(t,a),o===pc?o=Xa.inflate(t,h):o===o1&&(o=$f));t.avail_in>0&&o===zf&&t.state.wrap>0&&r[t.next_in]!==0;)Xa.inflateReset(t),o=Xa.inflate(t,h);switch(o){case hb:case o1:case $f:case fb:return this.onEnd(o),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||o===zf))if(this.options.to==="string"){let f=_d.utf8border(t.output,t.next_out),g=t.next_out-f,y=_d.buf2string(t.output,f);t.next_out=g,t.avail_out=s-g,g&&t.output.set(t.output.subarray(f,f+g),0),this.onData(y)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===pc&&u===0)){if(o===zf)return o=Xa.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};mc.prototype.onData=function(r){this.chunks.push(r)};mc.prototype.onEnd=function(r){r===pc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m2.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function db(r,e){const t=new mc(e);if(t.push(r),t.err)throw t.msg||bd[t.err];return t.result}var pb=mc,gb=db,mb={Inflate:pb,inflate:gb};const{Inflate:vb,inflate:yb}=mb;var l1=vb,wb=yb;const P2=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;P2[r]=e}const u1=4294967295;function bb(r,e,t){let s=r;for(let a=0;a<t;a++)s=P2[(s^e[a])&255]^s>>>8;return s}function _b(r,e){return(bb(u1,r,e)^u1)>>>0}function c1(r,e,t){const s=r.readUint32(),a=_b(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function j2(r,e,t){for(let s=0;s<t;s++)e[s]=r[s]}function T2(r,e,t,s){let a=0;for(;a<s;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-s]&255}function O2(r,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=r[a];else for(;a<s;a++)e[a]=r[a]+t[a]&255}function I2(r,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<s;o++)e[o]=r[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=r[o]+(e[o-a]+t[o]>>1)&255}}function R2(r,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<s;o++)e[o]=r[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=r[o]+t[o]&255;for(;o<s;o++)e[o]=r[o]+xb(e[o-a],t[o],t[o-a])&255}}function xb(r,e,t){const s=r+e-t,a=Math.abs(s-r),o=Math.abs(s-e),h=Math.abs(s-t);return a<=o&&a<=h?r:o<=h?e:t}function Sb(r,e,t,s,a,o){switch(r){case 0:j2(e,t,a);break;case 1:T2(e,t,a,o);break;case 2:O2(e,t,s,a);break;case 3:I2(e,t,s,a,o);break;case 4:R2(e,t,s,a,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const kb=new Uint16Array([255]),Nb=new Uint8Array(kb.buffer),Ab=Nb[0]===255;function Eb(r){const{data:e,width:t,height:s,channels:a,depth:o}=r,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*a,f=new Uint8Array(s*t*u);let g=0;for(let y=0;y<7;y++){const S=h[y],k=Math.ceil((t-S.x)/S.xStep),w=Math.ceil((s-S.y)/S.yStep);if(k<=0||w<=0)continue;const C=k*u,L=new Uint8Array(C);for(let T=0;T<w;T++){const P=e[g++],z=e.subarray(g,g+C);g+=C;const G=new Uint8Array(C);Sb(P,z,G,L,C,u),L.set(G);for(let H=0;H<k;H++){const de=S.x+H*S.xStep,be=S.y+T*S.yStep;if(!(de>=t||be>=s))for(let we=0;we<u;we++)f[(be*t+de)*u+we]=G[H*u+we]}}}if(o===16){const y=new Uint16Array(f.buffer);if(Ab)for(let S=0;S<y.length;S++)y[S]=Lb(y[S]);return y}else return f}function Lb(r){return(r&255)<<8|r>>8&255}const Cb=new Uint16Array([255]),Pb=new Uint8Array(Cb.buffer),jb=Pb[0]===255,Tb=new Uint8Array(0);function h1(r){const{data:e,width:t,height:s,channels:a,depth:o}=r,h=Math.ceil(o/8)*a,u=Math.ceil(o/8*a*t),f=new Uint8Array(s*u);let g=Tb,y=0,S,k;for(let w=0;w<s;w++){switch(S=e.subarray(y+1,y+1+u),k=f.subarray(w*u,(w+1)*u),e[y]){case 0:j2(S,k,u);break;case 1:T2(S,k,u,h);break;case 2:O2(S,k,g,u);break;case 3:I2(S,k,g,u,h);break;case 4:R2(S,k,g,u,h);break;default:throw new Error(`Unsupported filter: ${e[y]}`)}g=k,y+=u+1}if(o===16){const w=new Uint16Array(f.buffer);if(jb)for(let C=0;C<w.length;C++)w[C]=Ob(w[C]);return w}else return f}function Ob(r){return(r&255)<<8|r>>8&255}const fh=Uint8Array.of(137,80,78,71,13,10,26,10);function f1(r){if(!Ib(r.readBytes(fh.length)))throw new Error("wrong PNG signature")}function Ib(r){if(r.length<fh.length)return!1;for(let e=0;e<fh.length;e++)if(r[e]!==fh[e])return!1;return!0}const Rb="tEXt",Fb=0,F2=new TextDecoder("latin1");function Mb(r){if(Ub(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const Db=/^[\u0000-\u00FF]*$/;function Ub(r){if(!Db.test(r))throw new Error("invalid latin1 text")}function Bb(r,e,t){const s=M2(e);r[s]=qb(e,t-s.length-1)}function M2(r){for(r.mark();r.readByte()!==Fb;);const e=r.offset;r.reset();const t=F2.decode(r.readBytes(e-r.offset-1));return r.skip(1),Mb(t),t}function qb(r,e){return F2.decode(r.readBytes(e))}const Ki={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Wf={UNKNOWN:-1,DEFLATE:0},d1={UNKNOWN:-1,ADAPTIVE:0},Hf={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ah={NONE:0,BACKGROUND:1,PREVIOUS:2},Vf={SOURCE:0,OVER:1};class zb extends Dd{constructor(t,s={}){super(t);dr(this,"_checkCrc");dr(this,"_inflator");dr(this,"_png");dr(this,"_apng");dr(this,"_end");dr(this,"_hasPalette");dr(this,"_palette");dr(this,"_hasTransparency");dr(this,"_transparency");dr(this,"_compressionMethod");dr(this,"_filterMethod");dr(this,"_interlaceMethod");dr(this,"_colorType");dr(this,"_isAnimated");dr(this,"_numberOfFrames");dr(this,"_numberOfPlays");dr(this,"_frames");dr(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new l1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Wf.UNKNOWN,this._filterMethod=d1.UNKNOWN,this._interlaceMethod=Hf.UNKNOWN,this._colorType=Ki.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(f1(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeChunk(t,s)}return this.decodeImage(),this._png}decodeApng(){for(f1(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(t,s)}return this.decodeApngImage(),this._apng}decodeChunk(t,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Rb:Bb(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?c1(this,t+4,s):this.skip(4)}decodeApngChunk(t,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,s),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?c1(this,t+4,s):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=$b(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case Ki.GREYSCALE:a=1;break;case Ki.TRUECOLOUR:a=3;break;case Ki.INDEXED_COLOUR:a=1;break;case Ki.GREYSCALE_ALPHA:a=2;break;case Ki.TRUECOLOUR_ALPHA:a=4;break;case Ki.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Wf.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const s=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<s;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const s=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let s=t,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ki.GREYSCALE:case Ki.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let s=0;s<t/2;s++)this._transparency[s]=this.readUint16();break}case Ki.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let s=0;for(;s<t;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case Ki.UNKNOWN:case Ki.GREYSCALE_ALPHA:case Ki.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const s=M2(this),a=this.readUint8();if(a!==Wf.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(t-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:wb(o)}}decodepHYs(){const t=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const s={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=h1({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(a,o,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(t,s,a){switch(t.disposeOp){case ah.NONE:break;case ah.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let h=0;h<this._png.width;h++){const u=(o*t.width+h)*this._png.channels;for(let f=0;f<this._png.channels;f++)a.data[u+f]=0}break;case ah.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,s){const a=1<<this._png.depth,o=(h,u)=>{const f=((h+s.yOffset)*this._png.width+s.xOffset+u)*this._png.channels,g=(h*s.width+u)*this._png.channels;return{index:f,frameIndex:g}};switch(s.blendOp){case Vf.SOURCE:for(let h=0;h<s.height;h++)for(let u=0;u<s.width;u++){const{index:f,frameIndex:g}=o(h,u);for(let y=0;y<this._png.channels;y++)t.data[f+y]=s.data[g+y]}break;case Vf.OVER:for(let h=0;h<s.height;h++)for(let u=0;u<s.width;u++){const{index:f,frameIndex:g}=o(h,u);for(let y=0;y<this._png.channels;y++){const S=s.data[g+this._png.channels-1]/a,k=y%(this._png.channels-1)===0?1:s.data[g+y],w=Math.floor(S*k+(1-S)*t.data[f+y]);t.data[f+y]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var s;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((s=this._frames)==null?void 0:s.at(0)).data:this._inflator.result;if(this._filterMethod!==d1.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Hf.NO_INTERLACE)this._png.data=h1({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Hf.ADAM7)this._png.data=Eb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,s=this._frames.at(-1);s?s.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ah.NONE,blendOp:Vf.SOURCE,data:t}),this._inflator=new l1,this._writingDataChunks=!1}}function $b(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var p1;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(p1||(p1={}));function Wb(r,e){return new zb(r,e).decode()}var Lt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Gf(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var _r={log:Gf,warn:function(r){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):Gf.call(null,arguments))},error:function(r){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):Gf(r))}};function Kf(r,e,t){var s=new XMLHttpRequest;s.open("GET",r),s.responseType="blob",s.onload=function(){yl(s.response,e,t)},s.onerror=function(){_r.error("could not download file")},s.send()}function g1(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function oh(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var yl=Lt.saveAs||((typeof window>"u"?"undefined":pr(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var s=Lt.URL||Lt.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?g1(a.href)?Kf(r,e,t):oh(a,a.target="_blank"):oh(a)):(a.href=s.createObjectURL(r),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){oh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(g1(r))Kf(r,e,t);else{var s=document.createElement("a");s.href=r,s.target="_blank",setTimeout(function(){oh(s)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:pr(o)!=="object"&&(_r.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof r=="string")return Kf(r,e,t);var a=r.type==="application/octet-stream",o=/constructor/i.test(Lt.HTMLElement)||Lt.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":pr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var y=u.result;y=h?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=y:location=y,s=null},u.readAsDataURL(r)}else{var f=Lt.URL||Lt.webkitURL,g=f.createObjectURL(r);s?s.location=g:location.href=g,s=null,setTimeout(function(){f.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function D2(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,o=t[s].process,h=a.exec(r);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),f=this.g.toString(16),g=this.b.toString(16);return u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),g.length==1&&(g="0"+g),"#"+u+f+g}}var dh=Lt.atob.bind(Lt),m1=Lt.btoa.bind(Lt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Jf(r,e){var t=r[0],s=r[1],a=r[2],o=r[3];t=Qn(t,s,a,o,e[0],7,-680876936),o=Qn(o,t,s,a,e[1],12,-389564586),a=Qn(a,o,t,s,e[2],17,606105819),s=Qn(s,a,o,t,e[3],22,-1044525330),t=Qn(t,s,a,o,e[4],7,-176418897),o=Qn(o,t,s,a,e[5],12,1200080426),a=Qn(a,o,t,s,e[6],17,-1473231341),s=Qn(s,a,o,t,e[7],22,-45705983),t=Qn(t,s,a,o,e[8],7,1770035416),o=Qn(o,t,s,a,e[9],12,-1958414417),a=Qn(a,o,t,s,e[10],17,-42063),s=Qn(s,a,o,t,e[11],22,-1990404162),t=Qn(t,s,a,o,e[12],7,1804603682),o=Qn(o,t,s,a,e[13],12,-40341101),a=Qn(a,o,t,s,e[14],17,-1502002290),t=Zn(t,s=Qn(s,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Zn(o,t,s,a,e[6],9,-1069501632),a=Zn(a,o,t,s,e[11],14,643717713),s=Zn(s,a,o,t,e[0],20,-373897302),t=Zn(t,s,a,o,e[5],5,-701558691),o=Zn(o,t,s,a,e[10],9,38016083),a=Zn(a,o,t,s,e[15],14,-660478335),s=Zn(s,a,o,t,e[4],20,-405537848),t=Zn(t,s,a,o,e[9],5,568446438),o=Zn(o,t,s,a,e[14],9,-1019803690),a=Zn(a,o,t,s,e[3],14,-187363961),s=Zn(s,a,o,t,e[8],20,1163531501),t=Zn(t,s,a,o,e[13],5,-1444681467),o=Zn(o,t,s,a,e[2],9,-51403784),a=Zn(a,o,t,s,e[7],14,1735328473),t=ei(t,s=Zn(s,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=ei(o,t,s,a,e[8],11,-2022574463),a=ei(a,o,t,s,e[11],16,1839030562),s=ei(s,a,o,t,e[14],23,-35309556),t=ei(t,s,a,o,e[1],4,-1530992060),o=ei(o,t,s,a,e[4],11,1272893353),a=ei(a,o,t,s,e[7],16,-155497632),s=ei(s,a,o,t,e[10],23,-1094730640),t=ei(t,s,a,o,e[13],4,681279174),o=ei(o,t,s,a,e[0],11,-358537222),a=ei(a,o,t,s,e[3],16,-722521979),s=ei(s,a,o,t,e[6],23,76029189),t=ei(t,s,a,o,e[9],4,-640364487),o=ei(o,t,s,a,e[12],11,-421815835),a=ei(a,o,t,s,e[15],16,530742520),t=ti(t,s=ei(s,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ti(o,t,s,a,e[7],10,1126891415),a=ti(a,o,t,s,e[14],15,-1416354905),s=ti(s,a,o,t,e[5],21,-57434055),t=ti(t,s,a,o,e[12],6,1700485571),o=ti(o,t,s,a,e[3],10,-1894986606),a=ti(a,o,t,s,e[10],15,-1051523),s=ti(s,a,o,t,e[1],21,-2054922799),t=ti(t,s,a,o,e[8],6,1873313359),o=ti(o,t,s,a,e[15],10,-30611744),a=ti(a,o,t,s,e[6],15,-1560198380),s=ti(s,a,o,t,e[13],21,1309151649),t=ti(t,s,a,o,e[4],6,-145523070),o=ti(o,t,s,a,e[11],10,-1120210379),a=ti(a,o,t,s,e[2],15,718787259),s=ti(s,a,o,t,e[9],21,-343485551),r[0]=Uo(t,r[0]),r[1]=Uo(s,r[1]),r[2]=Uo(a,r[2]),r[3]=Uo(o,r[3])}function Th(r,e,t,s,a,o){return e=Uo(Uo(e,r),Uo(s,o)),Uo(e<<a|e>>>32-a,t)}function Qn(r,e,t,s,a,o,h){return Th(e&t|~e&s,r,e,a,o,h)}function Zn(r,e,t,s,a,o,h){return Th(e&s|t&~s,r,e,a,o,h)}function ei(r,e,t,s,a,o,h){return Th(e^t^s,r,e,a,o,h)}function ti(r,e,t,s,a,o,h){return Th(t^(e|~s),r,e,a,o,h)}function U2(r){var e,t=r.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Jf(s,Hb(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Jf(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Jf(s,a),s}function Hb(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var v1="0123456789abcdef".split("");function Vb(r){for(var e="",t=0;t<4;t++)e+=v1[r>>8*t+4&15]+v1[r>>8*t&15];return e}function Gb(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function xd(r){return U2(r).map(Gb).join("")}var Kb=(function(r){for(var e=0;e<r.length;e++)r[e]=Vb(r[e]);return r.join("")})(U2("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uo(r,e){if(Kb){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Sd(r,e){var t,s,a,o;if(r!==t){for(var h=(a=r,o=1+(256/r.length|0),new Array(o+1).join(a)),u=[],f=0;f<256;f++)u[f]=f;var g=0;for(f=0;f<256;f++){var y=u[f];g=(g+y+h.charCodeAt(f))%256,u[f]=u[g],u[g]=y}t=r,s=u}else u=s;var S=e.length,k=0,w=0,C="";for(f=0;f<S;f++)w=(w+(y=u[k=(k+1)%256]))%256,u[k]=u[w],u[w]=y,h=u[(u[k]+u[w])%256],C+=String.fromCharCode(e.charCodeAt(f)^h);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var y1={print:4,modify:8,copy:16,"annot-forms":32};function mu(r,e,t,s){this.v=1,this.r=2;var a=192;r.forEach(function(u){if(y1.perm!==void 0)throw new Error("Invalid permission: "+u);a+=y1[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=xd(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Sd(this.encryptionKey,this.padding)}function vu(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,s=0;s<t;s++){var a=r.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[s]}return e}function w1(r){if(pr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!a],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var h=e[t][o];try{h[0].apply(r,s)}catch(u){Lt.console&&_r.error("jsPDF PubSub Error",u.message,u)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Sh(r){if(!(this instanceof Sh))return new Sh(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function B2(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function _l(r,e,t,s,a){if(!(this instanceof _l))return new _l(r,e,t,s,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,B2.call(this,s,a)}function wu(r,e,t,s,a){if(!(this instanceof wu))return new wu(r,e,t,s,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,B2.call(this,s,a)}function ut(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],o=arguments[3],h=[],u=1,f=16,g="S",y=null;pr(r=r||{})==="object"&&(t=r.orientation,s=r.unit||s,a=r.format||a,o=r.compress||r.compressPdf||o,(y=r.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),u=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),g=r.defaultPathOperation||"S"),h=r.filters||(o===!0?["FlateEncode"]:h),s=s||"mm",t=(""+(t||"P")).toLowerCase();var S=r.putOnlyUsedFonts||!1,k={},w={internal:{},__private__:{}};w.__private__.PubSub=w1;var C="1.3",L=w.__private__.getPdfVersion=function(){return C};w.__private__.setPdfVersion=function(m){C=m};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return T};var P=w.__private__.getPageFormat=function(m){return T[m]};a=a||"a4";var z="compat",G="advanced",H=z;function de(){this.saveGraphicsState(),q(new vt(kt,0,0,-kt,0,Si()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),g="n",H=G}function be(){this.restoreGraphicsState(),g="S",H=z}var we=w.__private__.combineFontStyleAndFontWeight=function(m,E){if(m=="bold"&&E=="normal"||m=="bold"&&E==400||m=="normal"&&E=="italic"||m=="bold"&&E=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return E&&(m=E==400||E==="normal"?m==="italic"?"italic":"normal":E!=700&&E!=="bold"||m!=="normal"?(E==700?"bold":E)+""+m:"bold"),m};w.advancedAPI=function(m){var E=H===z;return E&&de.call(this),typeof m!="function"||(m(this),E&&be.call(this)),this},w.compatAPI=function(m){var E=H===G;return E&&be.call(this),typeof m!="function"||(m(this),E&&de.call(this)),this},w.isAdvancedAPI=function(){return H===G};var ae,Y=function(m){if(H!==G)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},pe=w.roundToPrecision=w.__private__.roundToPrecision=function(m,E){var V=e||E;if(isNaN(m)||isNaN(V))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(V).replace(/0+$/,"")};ae=w.hpf=w.__private__.hpf=typeof f=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(m,f)}:f==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(m,16)};var M=w.f2=w.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return pe(m,2)},$=w.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return pe(m,3)},te=w.scale=w.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return H===z?m*kt:H===G?m:void 0},ee=function(m){return te((function(E){return H===z?Si()-E:H===G?E:void 0})(m))};w.__private__.setPrecision=w.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var Se,Ee="00000000000000000000000000000000",Ne=w.__private__.getFileId=function(){return Ee},Z=w.__private__.setFileId=function(m){return Ee=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():Ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(nn=new mu(y.userPermissions,y.userPassword,y.ownerPassword,Ee)),Ee};w.setFileId=function(m){return Z(m),this},w.getFileId=function(){return Ne()};var he=w.__private__.convertDateToPDFDate=function(m){var E=m.getTimezoneOffset(),V=E<0?"+":"-",re=Math.floor(Math.abs(E/60)),ce=Math.abs(E%60),Te=[V,J(re),"'",J(ce),"'"].join("");return["D:",m.getFullYear(),J(m.getMonth()+1),J(m.getDate()),J(m.getHours()),J(m.getMinutes()),J(m.getSeconds()),Te].join("")},ke=w.__private__.convertPDFDateToDate=function(m){var E=parseInt(m.substr(2,4),10),V=parseInt(m.substr(6,2),10)-1,re=parseInt(m.substr(8,2),10),ce=parseInt(m.substr(10,2),10),Te=parseInt(m.substr(12,2),10),Re=parseInt(m.substr(14,2),10);return new Date(E,V,re,ce,Te,Re,0)},K=w.__private__.setCreationDate=function(m){var E;if(m===void 0&&(m=new Date),m instanceof Date)E=he(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");E=m}return Se=E},N=w.__private__.getCreationDate=function(m){var E=Se;return m==="jsDate"&&(E=ke(Se)),E};w.setCreationDate=function(m){return K(m),this},w.getCreationDate=function(m){return N(m)};var U,J=w.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Q=w.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ne=0,ue=[],me=[],_e=0,je=[],Ue=[],He=!1,$e=me;w.__private__.setCustomOutputDestination=function(m){He=!0,$e=m};var ot=function(m){He||($e=m)};w.__private__.resetCustomOutputDestination=function(){He=!1,$e=me};var q=w.__private__.out=function(m){return m=m.toString(),_e+=m.length+1,$e.push(m),$e},We=w.__private__.write=function(m){return q(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},Ot=w.__private__.getArrayBuffer=function(m){for(var E=m.length,V=new ArrayBuffer(E),re=new Uint8Array(V);E--;)re[E]=m.charCodeAt(E);return V},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return pt};var Fe=r.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(m){return Fe=H===G?m/kt:m,this};var ct,Ve=w.__private__.getFontSize=w.getFontSize=function(){return H===z?Fe:Fe*kt},dt=r.R2L||!1;w.__private__.setR2L=w.setR2L=function(m){return dt=m,this},w.__private__.getR2L=w.getR2L=function(){return dt};var ht,Yt=w.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))ct=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');ct=m}else ct=parseInt(m,10)};w.__private__.getZoomMode=function(){return ct};var Bt,Ct=w.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');ht=m};w.__private__.getPageMode=function(){return ht};var qt=w.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');Bt=m};w.__private__.getLayoutMode=function(){return Bt},w.__private__.setDisplayMode=w.setDisplayMode=function(m,E,V){return Yt(m),qt(E),Ct(V),this};var Dt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(m){if(Object.keys(Dt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Dt[m]},w.__private__.getDocumentProperties=function(){return Dt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(m){for(var E in Dt)Dt.hasOwnProperty(E)&&m[E]&&(Dt[E]=m[E]);return this},w.__private__.setDocumentProperty=function(m,E){if(Object.keys(Dt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Dt[m]=E};var rt,kt,tt,Rr,Vt,Mt={},Ut={},gr=[],ft={},sr={},gt={},At={},nr=null,jt=0,mt=[],Xt=new w1(w),Ws=r.hotfixes||[],vn={},Zi={},gi=[],vt=function m(E,V,re,ce,Te,Re){if(!(this instanceof m))return new m(E,V,re,ce,Te,Re);isNaN(E)&&(E=1),isNaN(V)&&(V=0),isNaN(re)&&(re=0),isNaN(ce)&&(ce=1),isNaN(Te)&&(Te=0),isNaN(Re)&&(Re=0),this._matrix=[E,V,re,ce,Te,Re]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ae).join(m)},vt.prototype.multiply=function(m){var E=m.sx*this.sx+m.shy*this.shx,V=m.sx*this.shy+m.shy*this.sy,re=m.shx*this.sx+m.sy*this.shx,ce=m.shx*this.shy+m.sy*this.sy,Te=m.tx*this.sx+m.ty*this.shx+this.tx,Re=m.tx*this.shy+m.ty*this.sy+this.ty;return new vt(E,V,re,ce,Te,Re)},vt.prototype.decompose=function(){var m=this.sx,E=this.shy,V=this.shx,re=this.sy,ce=this.tx,Te=this.ty,Re=Math.sqrt(m*m+E*E),Xe=(m/=Re)*V+(E/=Re)*re;V-=m*Xe,re-=E*Xe;var it=Math.sqrt(V*V+re*re);return Xe/=it,m*(re/=it)<E*(V/=it)&&(m=-m,E=-E,Xe=-Xe,Re=-Re),{scale:new vt(Re,0,0,it,0,0),translate:new vt(1,0,0,1,ce,Te),rotate:new vt(m,E,-E,m,0,0),skew:new vt(1,0,Xe,1,0,0)}},vt.prototype.toString=function(m){return this.join(" ")},vt.prototype.inversed=function(){var m=this.sx,E=this.shy,V=this.shx,re=this.sy,ce=this.tx,Te=this.ty,Re=1/(m*re-E*V),Xe=re*Re,it=-E*Re,Nt=-V*Re,Pt=m*Re;return new vt(Xe,it,Nt,Pt,-Xe*ce-Nt*Te,-it*ce-Pt*Te)},vt.prototype.applyToPoint=function(m){var E=m.x*this.sx+m.y*this.shx+this.tx,V=m.x*this.shy+m.y*this.sy+this.ty;return new bi(E,V)},vt.prototype.applyToRectangle=function(m){var E=this.applyToPoint(m),V=this.applyToPoint(new bi(m.x+m.w,m.y+m.h));return new Na(E.x,E.y,V.x-E.x,V.y-E.y)},vt.prototype.clone=function(){var m=this.sx,E=this.shy,V=this.shx,re=this.sy,ce=this.tx,Te=this.ty;return new vt(m,E,V,re,ce,Te)},w.Matrix=vt;var ri=w.matrixMult=function(m,E){return E.multiply(m)},Oi=new vt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Oi;var Nn=function(m,E){if(!sr[m]){var V=(E instanceof _l?"Sh":"P")+(Object.keys(ft).length+1).toString(10);E.id=V,sr[m]=V,ft[V]=E,Xt.publish("addPattern",E)}};w.ShadingPattern=_l,w.TilingPattern=wu,w.addShadingPattern=function(m,E){return Y("addShadingPattern()"),Nn(m,E),this},w.beginTilingPattern=function(m){Y("beginTilingPattern()"),_i(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},w.endTilingPattern=function(m,E){Y("endTilingPattern()"),E.stream=Ue[U].join(`
`),Nn(m,E),Xt.publish("endTilingPattern",E),gi.pop().restore()};var mi,mr=w.__private__.newObject=function(){var m=Fr();return Hr(m,!0),m},Fr=w.__private__.newObjectDeferred=function(){return ne++,ue[ne]=function(){return _e},ne},Hr=function(m,E){return E=typeof E=="boolean"&&E,ue[m]=_e,E&&q(m+" 0 obj"),m},ys=w.__private__.newAdditionalObject=function(){var m={objId:Fr(),content:""};return je.push(m),m},Hs=Fr(),Ii=Fr(),es=w.__private__.decodeColorString=function(m){var E=m.split(" ");if(E.length!==2||E[1]!=="g"&&E[1]!=="G")E.length!==5||E[4]!=="k"&&E[4]!=="K"||(E=[(1-E[0])*(1-E[3]),(1-E[1])*(1-E[3]),(1-E[2])*(1-E[3]),"r"]);else{var V=parseFloat(E[0]);E=[V,V,V,"r"]}for(var re="#",ce=0;ce<3;ce++)re+=("0"+Math.floor(255*parseFloat(E[ce])).toString(16)).slice(-2);return re},yn=w.__private__.encodeColorString=function(m){var E;typeof m=="string"&&(m={ch1:m});var V=m.ch1,re=m.ch2,ce=m.ch3,Te=m.ch4,Re=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof V=="string"&&V.charAt(0)!=="#"){var Xe=new D2(V);if(Xe.ok)V=Xe.toHex();else if(!/^\d*\.?\d*$/.test(V))throw new Error('Invalid color "'+V+'" passed to jsPDF.encodeColorString.')}if(typeof V=="string"&&/^#[0-9A-Fa-f]{3}$/.test(V)&&(V="#"+V[1]+V[1]+V[2]+V[2]+V[3]+V[3]),typeof V=="string"&&/^#[0-9A-Fa-f]{6}$/.test(V)){var it=parseInt(V.substr(1),16);V=it>>16&255,re=it>>8&255,ce=255&it}if(re===void 0||Te===void 0&&V===re&&re===ce)E=typeof V=="string"?V+" "+Re[0]:m.precision===2?M(V/255)+" "+Re[0]:$(V/255)+" "+Re[0];else if(Te===void 0||pr(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",Re[1]].join(" ");E=typeof V=="string"?[V,re,ce,Re[1]].join(" "):m.precision===2?[M(V/255),M(re/255),M(ce/255),Re[1]].join(" "):[$(V/255),$(re/255),$(ce/255),Re[1]].join(" ")}else E=typeof V=="string"?[V,re,ce,Te,Re[2]].join(" "):m.precision===2?[M(V),M(re),M(ce),M(Te),Re[2]].join(" "):[$(V),$(re),$(ce),$(Te),Re[2]].join(" ");return E},vi=w.__private__.getFilters=function(){return h},ni=w.__private__.putStream=function(m){var E=(m=m||{}).data||"",V=m.filters||vi(),re=m.alreadyAppliedFilters||[],ce=m.addLength1||!1,Te=E.length,Re=m.objectId,Xe=function(sn){return sn};if(y!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(Xe=nn.encryptor(Re,0));var it={};V===!0&&(V=["FlateEncode"]);var Nt=m.additionalKeyValues||[],Pt=(it=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(E,V):{data:E,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(it.data.length!==0&&(Nt.push({key:"Length",value:it.data.length}),ce===!0&&Nt.push({key:"Length1",value:Te})),Pt.length!=0)if(Pt.split("/").length-1==1)Nt.push({key:"Filter",value:Pt});else{Nt.push({key:"Filter",value:"["+Pt+"]"});for(var Gt=0;Gt<Nt.length;Gt+=1)if(Nt[Gt].key==="DecodeParms"){for(var Ar=[],Kr=0;Kr<it.reverseChain.split("/").length-1;Kr+=1)Ar.push("null");Ar.push(Nt[Gt].value),Nt[Gt].value="["+Ar.join(" ")+"]"}}q("<<");for(var vr=0;vr<Nt.length;vr++)q("/"+Nt[vr].key+" "+Nt[vr].value);q(">>"),it.data.length!==0&&(q("stream"),q(Xe(it.data)),q("endstream"))},pa=w.__private__.putPage=function(m){var E=m.number,V=m.data,re=m.objId,ce=m.contentsObjId;Hr(re,!0),q("<</Type /Page"),q("/Parent "+m.rootDictionaryObjId+" 0 R"),q("/Resources "+m.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(ae(m.mediaBox.bottomLeftX))+" "+parseFloat(ae(m.mediaBox.bottomLeftY))+" "+ae(m.mediaBox.topRightX)+" "+ae(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&q("/CropBox ["+ae(m.cropBox.bottomLeftX)+" "+ae(m.cropBox.bottomLeftY)+" "+ae(m.cropBox.topRightX)+" "+ae(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&q("/BleedBox ["+ae(m.bleedBox.bottomLeftX)+" "+ae(m.bleedBox.bottomLeftY)+" "+ae(m.bleedBox.topRightX)+" "+ae(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&q("/TrimBox ["+ae(m.trimBox.bottomLeftX)+" "+ae(m.trimBox.bottomLeftY)+" "+ae(m.trimBox.topRightX)+" "+ae(m.trimBox.topRightY)+"]"),m.artBox!==null&&q("/ArtBox ["+ae(m.artBox.bottomLeftX)+" "+ae(m.artBox.bottomLeftY)+" "+ae(m.artBox.topRightX)+" "+ae(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&q("/UserUnit "+m.userUnit),Xt.publish("putPage",{objId:re,pageContext:mt[E],pageNumber:E,page:V}),q("/Contents "+ce+" 0 R"),q(">>"),q("endobj");var Te=V.join(`
`);return H===G&&(Te+=`
Q`),Hr(ce,!0),ni({data:Te,filters:vi(),objectId:ce}),q("endobj"),re},Ri=w.__private__.putPages=function(){var m,E,V=[];for(m=1;m<=jt;m++)mt[m].objId=Fr(),mt[m].contentsObjId=Fr();for(m=1;m<=jt;m++)V.push(pa({number:m,data:Ue[m],objId:mt[m].objId,contentsObjId:mt[m].contentsObjId,mediaBox:mt[m].mediaBox,cropBox:mt[m].cropBox,bleedBox:mt[m].bleedBox,trimBox:mt[m].trimBox,artBox:mt[m].artBox,userUnit:mt[m].userUnit,rootDictionaryObjId:Hs,resourceDictionaryObjId:Ii}));Hr(Hs,!0),q("<</Type /Pages");var re="/Kids [";for(E=0;E<jt;E++)re+=V[E]+" 0 R ";q(re+"]"),q("/Count "+jt),q(">>"),q("endobj"),Xt.publish("postPutPages")},Vs=function(m){Xt.publish("putFont",{font:m,out:q,newObject:mr,putStream:ni}),m.isAlreadyPutted!==!0&&(m.objectNumber=mr(),q("<<"),q("/Type /Font"),q("/BaseFont /"+vu(m.postScriptName)),q("/Subtype /Type1"),typeof m.encoding=="string"&&q("/Encoding /"+m.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},ga=function(m){m.objectNumber=mr();var E=[];E.push({key:"Type",value:"/XObject"}),E.push({key:"Subtype",value:"/Form"}),E.push({key:"BBox",value:"["+[ae(m.x),ae(m.y),ae(m.x+m.width),ae(m.y+m.height)].join(" ")+"]"}),E.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var V=m.pages[1].join(`
`);ni({data:V,additionalKeyValues:E,objectId:m.objectNumber}),q("endobj")},ma=function(m,E){E||(E=21);var V=mr(),re=(function(Re,Xe){var it,Nt=[],Pt=1/(Xe-1);for(it=0;it<1;it+=Pt)Nt.push(it);if(Nt.push(1),Re[0].offset!=0){var Gt={offset:0,color:Re[0].color};Re.unshift(Gt)}if(Re[Re.length-1].offset!=1){var Ar={offset:1,color:Re[Re.length-1].color};Re.push(Ar)}for(var Kr="",vr=0,sn=0;sn<Nt.length;sn++){for(it=Nt[sn];it>Re[vr+1].offset;)vr++;var Mr=Re[vr].offset,wn=(it-Mr)/(Re[vr+1].offset-Mr),_s=Re[vr].color,Di=Re[vr+1].color;Kr+=Q(Math.round((1-wn)*_s[0]+wn*Di[0]).toString(16))+Q(Math.round((1-wn)*_s[1]+wn*Di[1]).toString(16))+Q(Math.round((1-wn)*_s[2]+wn*Di[2]).toString(16))}return Kr.trim()})(m.colors,E),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+E+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ni({data:re,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:V}),q("endobj"),m.objectNumber=mr(),q("<< /ShadingType "+m.type),q("/ColorSpace /DeviceRGB");var Te="/Coords ["+ae(parseFloat(m.coords[0]))+" "+ae(parseFloat(m.coords[1]))+" ";m.type===2?Te+=ae(parseFloat(m.coords[2]))+" "+ae(parseFloat(m.coords[3])):Te+=ae(parseFloat(m.coords[2]))+" "+ae(parseFloat(m.coords[3]))+" "+ae(parseFloat(m.coords[4]))+" "+ae(parseFloat(m.coords[5])),q(Te+="]"),m.matrix&&q("/Matrix ["+m.matrix.toString()+"]"),q("/Function "+V+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},Za=function(m,E){var V=Fr(),re=mr();E.push({resourcesOid:V,objectOid:re}),m.objectNumber=re;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+m.boundingBox.map(ae).join(" ")+"]"}),ce.push({key:"XStep",value:ae(m.xStep)}),ce.push({key:"YStep",value:ae(m.yStep)}),ce.push({key:"Resources",value:V+" 0 R"}),m.matrix&&ce.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),ni({data:m.stream,additionalKeyValues:ce,objectId:m.objectNumber}),q("endobj")},Au=function(m){for(var E in m.objectNumber=mr(),q("<<"),m)switch(E){case"opacity":q("/ca "+M(m[E]));break;case"stroke-opacity":q("/CA "+M(m[E]))}q(">>"),q("endobj")},wr=function(m){Hr(m.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var E in q("/Font <<"),Mt)Mt.hasOwnProperty(E)&&(S===!1||S===!0&&k.hasOwnProperty(E))&&q("/"+E+" "+Mt[E].objectNumber+" 0 R");q(">>")})(),(function(){if(Object.keys(ft).length>0){for(var E in q("/Shading <<"),ft)ft.hasOwnProperty(E)&&ft[E]instanceof _l&&ft[E].objectNumber>=0&&q("/"+E+" "+ft[E].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),q(">>")}})(),(function(E){if(Object.keys(ft).length>0){for(var V in q("/Pattern <<"),ft)ft.hasOwnProperty(V)&&ft[V]instanceof w.TilingPattern&&ft[V].objectNumber>=0&&ft[V].objectNumber<E&&q("/"+V+" "+ft[V].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),q(">>")}})(m.objectOid),(function(){if(Object.keys(gt).length>0){var E;for(E in q("/ExtGState <<"),gt)gt.hasOwnProperty(E)&&gt[E].objectNumber>=0&&q("/"+E+" "+gt[E].objectNumber+" 0 R");Xt.publish("putGStateDict"),q(">>")}})(),(function(){for(var E in q("/XObject <<"),vn)vn.hasOwnProperty(E)&&vn[E].objectNumber>=0&&q("/"+E+" "+vn[E].objectNumber+" 0 R");Xt.publish("putXobjectDict"),q(">>")})(),q(">>"),q("endobj")},Cl=function(m){Ut[m.fontName]=Ut[m.fontName]||{},Ut[m.fontName][m.fontStyle]=m.id},eo=function(m,E,V,re,ce){var Te={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:m,fontName:E,fontStyle:V,encoding:re,isStandardFont:ce||!1,metadata:{}};return Xt.publish("addFont",{font:Te,instance:this}),Mt[Te.id]=Te,Cl(Te),Te.id},ii=w.__private__.pdfEscape=w.pdfEscape=function(m,E){return(function(V,re){var ce,Te,Re,Xe,it,Nt,Pt,Gt,Ar;if(Re=(re=re||{}).sourceEncoding||"Unicode",it=re.outputEncoding,(re.autoencode||it)&&Mt[rt].metadata&&Mt[rt].metadata[Re]&&Mt[rt].metadata[Re].encoding&&(Xe=Mt[rt].metadata[Re].encoding,!it&&Mt[rt].encoding&&(it=Mt[rt].encoding),!it&&Xe.codePages&&(it=Xe.codePages[0]),typeof it=="string"&&(it=Xe[it]),it)){for(Pt=!1,Nt=[],ce=0,Te=V.length;ce<Te;ce++)(Gt=it[V.charCodeAt(ce)])?Nt.push(String.fromCharCode(Gt)):Nt.push(V[ce]),Nt[ce].charCodeAt(0)>>8&&(Pt=!0);V=Nt.join("")}for(ce=V.length;Pt===void 0&&ce!==0;)V.charCodeAt(ce-1)>>8&&(Pt=!0),ce--;if(!Pt)return V;for(Nt=re.noBOM?[]:[254,255],ce=0,Te=V.length;ce<Te;ce++){if((Ar=(Gt=V.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+V+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(Ar),Nt.push(Gt-(Ar<<8))}return String.fromCharCode.apply(void 0,Nt)})(m,E).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gs=w.__private__.beginPage=function(m){Ue[++jt]=[],mt[jt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},va(jt),ot(Ue[U])},Pl=function(m,E){var V,re,ce;switch(t=E||t,typeof m=="string"&&(V=P(m.toLowerCase()),Array.isArray(V)&&(re=V[0],ce=V[1])),Array.isArray(m)&&(re=m[0]*kt,ce=m[1]*kt),isNaN(re)&&(re=a[0],ce=a[1]),(re>14400||ce>14400)&&(_r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),ce=Math.min(14400,ce)),a=[re,ce],t.substr(0,1)){case"l":ce>re&&(a=[ce,re]);break;case"p":re>ce&&(a=[ce,re])}Gs(a),bt(wi),q(Sa),Ho!==0&&q(Ho+" J"),Vo!==0&&q(Vo+" j"),Xt.publish("addPage",{pageNumber:jt})},to=function(m){m>0&&m<=jt&&(Ue.splice(m,1),mt.splice(m,1),jt--,U>jt&&(U=jt),this.setPage(U))},va=function(m){m>0&&m<=jt&&(U=m)},si=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ue.length-1},jl=function(m,E,V){var re,ce=void 0;return V=V||{},m=m!==void 0?m:Mt[rt].fontName,E=E!==void 0?E:Mt[rt].fontStyle,re=m.toLowerCase(),Ut[re]!==void 0&&Ut[re][E]!==void 0?ce=Ut[re][E]:Ut[m]!==void 0&&Ut[m][E]!==void 0?ce=Ut[m][E]:V.disableWarning===!1&&_r.warn("Unable to look up font label for font '"+m+"', '"+E+"'. Refer to getFontList() for available fonts."),ce||V.noFallback||(ce=Ut.times[E])==null&&(ce=Ut.times.normal),ce},Vr=w.__private__.putInfo=function(){var m=mr(),E=function(re){return re};for(var V in y!==null&&(E=nn.encryptor(m,0)),q("<<"),q("/Producer ("+ii(E("jsPDF "+ut.version))+")"),Dt)Dt.hasOwnProperty(V)&&Dt[V]&&q("/"+V.substr(0,1).toUpperCase()+V.substr(1)+" ("+ii(E(Dt[V]))+")");q("/CreationDate ("+ii(E(Se))+")"),q(">>"),q("endobj")},ro=w.__private__.putCatalog=function(m){var E=(m=m||{}).rootDictionaryObjId||Hs;switch(mr(),q("<<"),q("/Type /Catalog"),q("/Pages "+E+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var V=""+ct;V.substr(V.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&q("/OpenAction [3 0 R /XYZ null null "+M(ct)+"]")}switch(Bt||(Bt="continuous"),Bt){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}ht&&q("/PageMode /"+ht),Xt.publish("putCatalog"),q(">>"),q("endobj")},Eu=w.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(ne+1)),q("/Root "+ne+" 0 R"),q("/Info "+(ne-1)+" 0 R"),y!==null&&q("/Encrypt "+nn.oid+" 0 R"),q("/ID [ <"+Ee+"> <"+Ee+"> ]"),q(">>")},Gr=w.__private__.putHeader=function(){q("%PDF-"+C),q("%")},ya=w.__private__.putXRef=function(){var m="0000000000";q("xref"),q("0 "+(ne+1)),q("0000000000 65535 f ");for(var E=1;E<=ne;E++)typeof ue[E]=="function"?q((m+ue[E]()).slice(-10)+" 00000 n "):ue[E]!==void 0?q((m+ue[E]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},ai=w.__private__.buildDocument=function(){var m;ne=0,_e=0,me=[],ue=[],je=[],Hs=Fr(),Ii=Fr(),ot(me),Xt.publish("buildDocument"),Gr(),Ri(),(function(){Xt.publish("putAdditionalObjects");for(var V=0;V<je.length;V++){var re=je[V];Hr(re.objId,!0),q(re.content),q("endobj")}Xt.publish("postPutAdditionalObjects")})(),m=[],(function(){for(var V in Mt)Mt.hasOwnProperty(V)&&(S===!1||S===!0&&k.hasOwnProperty(V))&&Vs(Mt[V])})(),(function(){var V;for(V in gt)gt.hasOwnProperty(V)&&Au(gt[V])})(),(function(){for(var V in vn)vn.hasOwnProperty(V)&&ga(vn[V])})(),(function(V){var re;for(re in ft)ft.hasOwnProperty(re)&&(ft[re]instanceof _l?ma(ft[re]):ft[re]instanceof wu&&Za(ft[re],V))})(m),Xt.publish("putResources"),m.forEach(wr),wr({resourcesOid:Ii,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources"),y!==null&&(nn.oid=mr(),q("<<"),q("/Filter /Standard"),q("/V "+nn.v),q("/R "+nn.r),q("/U <"+nn.toHexString(nn.U)+">"),q("/O <"+nn.toHexString(nn.O)+">"),q("/P "+nn.P),q(">>"),q("endobj")),Vr(),ro();var E=_e;return ya(),Eu(),q("startxref"),q(""+E),q("%%EOF"),ot(Ue[U]),me.join(`
`)},ts=w.__private__.getBlob=function(m){return new Blob([Ot(m)],{type:"application/pdf"})},wa=w.output=w.__private__.output=(mi=function(m,E){switch(typeof(E=E||{})=="string"?E={filename:E}:E.filename=E.filename||"generated.pdf",m){case void 0:return ai();case"save":w.save(E.filename);break;case"arraybuffer":return Ot(ai());case"blob":return ts(ai());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(ts(ai()))||void 0;_r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var V="",re=ai();try{V=m1(re)}catch{V=m1(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+E.filename+";base64,"+V;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';E.pdfObjectUrl&&(ce=E.pdfObjectUrl,Te="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(E)+");<\/script></body></html>",Xe=Lt.open();return Xe!==null&&Xe.document.write(Re),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(E.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+E.filename+'" width="500px" height="400px" /></body></html>',Nt=Lt.open();if(Nt!==null){Nt.document.write(it);var Pt=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=E.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",E)+'"></iframe></body></html>',Ar=Lt.open();if(Ar!==null&&(Ar.document.write(Gt),Ar.document.title=E.filename),Ar||typeof safari>"u")return Ar;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",E);default:return null}},mi.foo=function(){try{return mi.apply(this,arguments)}catch(V){var m=V.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var E="Error in function "+m.split(`
`)[0].split("<")[0]+": "+V.message;if(!Lt.console)throw new Error(E);Lt.console.error(E,V),Lt.alert&&alert(E)}},mi.foo.bar=mi,mi.foo),yi=function(m){return Array.isArray(Ws)===!0&&Ws.indexOf(m)>-1};switch(s){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=yi("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);kt=s}var nn=null;K(),Z();var Fi=w.__private__.getPageInfo=w.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[m].objId,pageNumber:m,pageContext:mt[m]}},qo=w.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var E in mt)if(mt[E].objId===m)break;return Fi(E)},zo=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:mt[U].objId,pageNumber:U,pageContext:mt[U]}};w.addPage=function(){return Pl.apply(this,arguments),this},w.setPage=function(){return va.apply(this,arguments),ot.call(this,Ue[U]),this},w.insertPage=function(m){return this.addPage(),this.movePage(U,m),this},w.movePage=function(m,E){var V,re;if(m>E){V=Ue[m],re=mt[m];for(var ce=m;ce>E;ce--)Ue[ce]=Ue[ce-1],mt[ce]=mt[ce-1];Ue[E]=V,mt[E]=re,this.setPage(E)}else if(m<E){V=Ue[m],re=mt[m];for(var Te=m;Te<E;Te++)Ue[Te]=Ue[Te+1],mt[Te]=mt[Te+1];Ue[E]=V,mt[E]=re,this.setPage(E)}return this},w.deletePage=function(){return to.apply(this,arguments),this},w.__private__.text=w.text=function(m,E,V,re,ce){var Te,Re,Xe,it,Nt,Pt,Gt,Ar,Kr,vr=(re=re||{}).scope||this;if(typeof m=="number"&&typeof E=="number"&&(typeof V=="string"||Array.isArray(V))){var sn=V;V=E,E=m,m=sn}if(arguments[3]instanceof vt==0?(Xe=arguments[4],it=arguments[5],pr(Gt=arguments[3])==="object"&&Gt!==null||(typeof Xe=="string"&&(it=Xe,Xe=null),typeof Gt=="string"&&(it=Gt,Gt=null),typeof Gt=="number"&&(Xe=Gt,Gt=null),re={flags:Gt,angle:Xe,align:it})):(Y("The transform parameter of text() with a Matrix value"),Kr=ce),isNaN(E)||isNaN(V)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return vr;var Mr,wn="",_s=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:zn,Di=vr.internal.scaleFactor;function xs(Qt){return Qt=Qt.split("	").join(Array(re.TabLen||9).join(" ")),ii(Qt,Gt)}function La(Qt){for(var ar,Pr=Qt.concat(),Jr=[],qi=Pr.length;qi--;)typeof(ar=Pr.shift())=="string"?Jr.push(ar):Array.isArray(Qt)&&(ar.length===1||ar[1]===void 0&&ar[2]===void 0)?Jr.push(ar[0]):Jr.push([ar[0],ar[1],ar[2]]);return Jr}function co(Qt,ar){var Pr;if(typeof Qt=="string")Pr=ar(Qt)[0];else if(Array.isArray(Qt)){for(var Jr,qi,Yo=Qt.concat(),mo=[],Es=Yo.length;Es--;)typeof(Jr=Yo.shift())=="string"?mo.push(ar(Jr)[0]):Array.isArray(Jr)&&typeof Jr[0]=="string"&&(qi=ar(Jr[0],Jr[1],Jr[2]),mo.push([qi[0],qi[1],qi[2]]));Pr=mo}return Pr}var Ys=!1,Ca=!0;if(typeof m=="string")Ys=!0;else if(Array.isArray(m)){var Xs=m.concat();Re=[];for(var Qs,bn=Xs.length;bn--;)(typeof(Qs=Xs.shift())!="string"||Array.isArray(Qs)&&typeof Qs[0]!="string")&&(Ca=!1);Ys=Ca}if(Ys===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Pa=Fe/vr.internal.scaleFactor,ja=Pa*(_s-1);switch(re.baseline){case"bottom":V-=ja;break;case"top":V+=Pa-ja;break;case"hanging":V+=Pa-2*ja;break;case"middle":V+=Pa/2-ja}if((Pt=re.maxWidth||0)>0&&(typeof m=="string"?m=vr.splitTextToSize(m,Pt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Qt,ar){return Qt.concat(vr.splitTextToSize(ar,Pt))},[]))),Te={text:m,x:E,y:V,options:re,mutex:{pdfEscape:ii,activeFontKey:rt,fonts:Mt,activeFontSize:Fe}},Xt.publish("preProcessText",Te),m=Te.text,Xe=(re=Te.options).angle,Kr instanceof vt==0&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,re.rotationDirection===0&&(Xe=-Xe),H===G&&(Xe=-Xe);var Ko=Math.cos(Xe),Jo=Math.sin(Xe);Kr=new vt(Ko,Jo,-Jo,Ko,0,0)}else Xe&&Xe instanceof vt&&(Kr=Xe);H!==G||Kr||(Kr=Oi),(Nt=re.charSpace||$n)!==void 0&&(wn+=ae(te(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ar=re.horizontalScale)!==void 0&&(wn+=ae(100*Ar)+` Tz
`),re.lang;var In=-1,Ui=re.renderingMode!==void 0?re.renderingMode:re.stroke,as=vr.internal.getCurrentPageInfo().pageContext;switch(Ui){case 0:case!1:case"fill":In=0;break;case 1:case!0:case"stroke":In=1;break;case 2:case"fillThenStroke":In=2;break;case 3:case"invisible":In=3;break;case 4:case"fillAndAddForClipping":In=4;break;case 5:case"strokeAndAddPathForClipping":In=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":In=6;break;case 7:case"addToPathForClipping":In=7}var Fl=as.usedRenderingMode!==void 0?as.usedRenderingMode:-1;In!==-1?wn+=In+` Tr
`:Fl!==-1&&(wn+=`0 Tr
`),In!==-1&&(as.usedRenderingMode=In),it=re.align||"left";var li,Zs=Fe*_s,ho=vr.internal.pageSize.getWidth(),fo=Mt[rt];Nt=re.charSpace||$n,Pt=re.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},re.flags);var Ss=[],ki=function(Qt){return vr.getStringUnitWidth(Qt,{font:fo,charSpace:Nt,fontSize:Fe,doKerning:!1})*Fe/Di};if(Object.prototype.toString.call(m)==="[object Array]"){var ui;Re=La(m),it!=="left"&&(li=Re.map(ki));var ci,ea=0;if(it==="right"){E-=li[0],m=[],bn=Re.length;for(var os=0;os<bn;os++)os===0?(ci=oi(E),ui=ws(V)):(ci=te(ea-li[os]),ui=-Zs),m.push([Re[os],ci,ui]),ea=li[os]}else if(it==="center"){E-=li[0]/2,m=[],bn=Re.length;for(var ks=0;ks<bn;ks++)ks===0?(ci=oi(E),ui=ws(V)):(ci=te((ea-li[ks])/2),ui=-Zs),m.push([Re[ks],ci,ui]),ea=li[ks]}else if(it==="left"){m=[],bn=Re.length;for(var Ns=0;Ns<bn;Ns++)m.push(Re[Ns])}else if(it==="justify"&&fo.encoding==="Identity-H"){m=[],bn=Re.length,Pt=Pt!==0?Pt:ho;for(var ls=0,Dr=0;Dr<bn;Dr++)if(ui=Dr===0?ws(V):-Zs,ci=Dr===0?oi(E):ls,Dr<bn-1){var Ta=te((Pt-li[Dr])/(Re[Dr].split(" ").length-1)),us=Re[Dr].split(" ");m.push([us[0]+" ",ci,ui]),ls=0;for(var Bi=1;Bi<us.length;Bi++){var Oa=(ki(us[Bi-1]+" "+us[Bi])-ki(us[Bi]))*Di+Ta;Bi==us.length-1?m.push([us[Bi],Oa,0]):m.push([us[Bi]+" ",Oa,0]),ls-=Oa}}else m.push([Re[Dr],ci,ui]);m.push(["",ls,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],bn=Re.length,Pt=Pt!==0?Pt:ho,Dr=0;Dr<bn;Dr++){ui=Dr===0?ws(V):-Zs,ci=Dr===0?oi(E):0;var Ia=Re[Dr].split(" ").length-1,po=Ia>0?(Pt-li[Dr])/Ia:0;Dr<bn-1?Ss.push(ae(te(po))):Ss.push(0),m.push([Re[Dr],ci,ui])}}}(typeof re.R2L=="boolean"?re.R2L:dt)===!0&&(m=co(m,function(Qt,ar,Pr){return[Qt.split("").reverse().join(""),ar,Pr]})),Te={text:m,x:E,y:V,options:re,mutex:{pdfEscape:ii,activeFontKey:rt,fonts:Mt,activeFontSize:Fe}},Xt.publish("postProcessText",Te),m=Te.text,Mr=Te.mutex.isHex||!1;var go=Mt[rt].encoding;go!=="WinAnsiEncoding"&&go!=="StandardEncoding"||(m=co(m,function(Qt,ar,Pr){return[xs(Qt),ar,Pr]})),Re=La(m),m=[];for(var As,ta,ra,Ra=Array.isArray(Re[0])?1:0,na="",Fa=function(Qt,ar,Pr){var Jr="";return Pr instanceof vt?(Pr=typeof re.angle=="number"?ri(Pr,new vt(1,0,0,1,Qt,ar)):ri(new vt(1,0,0,1,Qt,ar),Pr),H===G&&(Pr=ri(new vt(1,0,0,-1,0,0),Pr)),Jr=Pr.join(" ")+` Tm
`):Jr=ae(Qt)+" "+ae(ar)+` Td
`,Jr},Cr=0;Cr<Re.length;Cr++){switch(na="",Ra){case 1:ra=(Mr?"<":"(")+Re[Cr][0]+(Mr?">":")"),As=parseFloat(Re[Cr][1]),ta=parseFloat(Re[Cr][2]);break;case 0:ra=(Mr?"<":"(")+Re[Cr]+(Mr?">":")"),As=oi(E),ta=ws(V)}Ss!==void 0&&Ss[Cr]!==void 0&&(na=Ss[Cr]+` Tw
`),Cr===0?m.push(na+Fa(As,ta,Kr)+ra):Ra===0?m.push(na+ra):Ra===1&&m.push(na+Fa(As,ta,Kr)+ra)}m=Ra===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Wn=`BT
/`;return Wn+=rt+" "+Fe+` Tf
`,Wn+=ae(Fe*_s)+` TL
`,Wn+=Mi+`
`,Wn+=wn,Wn+=m,q(Wn+="ET"),k[rt]=!0,vr};var ba=w.__private__.clip=w.clip=function(m){return q(m==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return ba("evenodd")},w.__private__.discardPath=w.discardPath=function(){return q("n"),this};var rs=w.__private__.isValidStyle=function(m){var E=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(E=!0),E};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(m){return rs(m)&&(g=m),this};var no=w.__private__.getStyle=w.getStyle=function(m){var E=g;switch(m){case"D":case"S":E="S";break;case"F":E="f";break;case"FD":case"DF":E="B";break;case"f":case"f*":case"B":case"B*":E=m}return E},Jt=w.close=function(){return q("h"),this};w.stroke=function(){return q("S"),this},w.fill=function(m){return _a("f",m),this},w.fillEvenOdd=function(m){return _a("f*",m),this},w.fillStroke=function(m){return _a("B",m),this},w.fillStrokeEvenOdd=function(m){return _a("B*",m),this};var _a=function(m,E){pr(E)==="object"?Tl(E,m):q(m)},Ks=function(m){m===null||H===G&&m===void 0||(m=no(m),q(m))};function $o(m,E,V,re,ce){var Te=new wu(E||this.boundingBox,V||this.xStep,re||this.yStep,this.gState,ce||this.matrix);Te.stream=this.stream;var Re=m+"$$"+this.cloneIndex+++"$$";return Nn(Re,Te),Te}var Tl=function(m,E){var V=sr[m.key],re=ft[V];if(re instanceof _l)q("q"),q(Ol(E)),re.gState&&w.setGState(re.gState),q(m.matrix.toString()+" cm"),q("/"+V+" sh"),q("Q");else if(re instanceof wu){var ce=new vt(1,0,0,-1,0,Si());m.matrix&&(ce=ce.multiply(m.matrix||Oi),V=$o.call(re,m.key,m.boundingBox,m.xStep,m.yStep,ce).id),q("q"),q("/Pattern cs"),q("/"+V+" scn"),re.gState&&w.setGState(re.gState),q(E),q("Q")}},Ol=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},io=w.moveTo=function(m,E){return q(ae(te(m))+" "+ae(ee(E))+" m"),this},so=w.lineTo=function(m,E){return q(ae(te(m))+" "+ae(ee(E))+" l"),this},qn=w.curveTo=function(m,E,V,re,ce,Te){return q([ae(te(m)),ae(ee(E)),ae(te(V)),ae(ee(re)),ae(te(ce)),ae(ee(Te)),"c"].join(" ")),this};w.__private__.line=w.line=function(m,E,V,re,ce){if(isNaN(m)||isNaN(E)||isNaN(V)||isNaN(re)||!rs(ce))throw new Error("Invalid arguments passed to jsPDF.line");return H===z?this.lines([[V-m,re-E]],m,E,[1,1],ce||"S"):this.lines([[V-m,re-E]],m,E,[1,1]).stroke()},w.__private__.lines=w.lines=function(m,E,V,re,ce,Te){var Re,Xe,it,Nt,Pt,Gt,Ar,Kr,vr,sn,Mr,wn;if(typeof m=="number"&&(wn=V,V=E,E=m,m=wn),re=re||[1,1],Te=Te||!1,isNaN(E)||isNaN(V)||!Array.isArray(m)||!Array.isArray(re)||!rs(ce)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(io(E,V),Re=re[0],Xe=re[1],Nt=m.length,sn=E,Mr=V,it=0;it<Nt;it++)(Pt=m[it]).length===2?(sn=Pt[0]*Re+sn,Mr=Pt[1]*Xe+Mr,so(sn,Mr)):(Gt=Pt[0]*Re+sn,Ar=Pt[1]*Xe+Mr,Kr=Pt[2]*Re+sn,vr=Pt[3]*Xe+Mr,sn=Pt[4]*Re+sn,Mr=Pt[5]*Xe+Mr,qn(Gt,Ar,Kr,vr,sn,Mr));return Te&&Jt(),Ks(ce),this},w.path=function(m){for(var E=0;E<m.length;E++){var V=m[E],re=V.c;switch(V.op){case"m":io(re[0],re[1]);break;case"l":so(re[0],re[1]);break;case"c":qn.apply(this,re);break;case"h":Jt()}}return this},w.__private__.rect=w.rect=function(m,E,V,re,ce){if(isNaN(m)||isNaN(E)||isNaN(V)||isNaN(re)||!rs(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return H===z&&(re=-re),q([ae(te(m)),ae(ee(E)),ae(te(V)),ae(te(re)),"re"].join(" ")),Ks(ce),this},w.__private__.triangle=w.triangle=function(m,E,V,re,ce,Te,Re){if(isNaN(m)||isNaN(E)||isNaN(V)||isNaN(re)||isNaN(ce)||isNaN(Te)||!rs(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[V-m,re-E],[ce-V,Te-re],[m-ce,E-Te]],m,E,[1,1],Re,!0),this},w.__private__.roundedRect=w.roundedRect=function(m,E,V,re,ce,Te,Re){if(isNaN(m)||isNaN(E)||isNaN(V)||isNaN(re)||isNaN(ce)||isNaN(Te)||!rs(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*V),Te=Math.min(Te,.5*re),this.lines([[V-2*ce,0],[ce*Xe,0,ce,Te-Te*Xe,ce,Te],[0,re-2*Te],[0,Te*Xe,-ce*Xe,Te,-ce,Te],[2*ce-V,0],[-ce*Xe,0,-ce,-Te*Xe,-ce,-Te],[0,2*Te-re],[0,-Te*Xe,ce*Xe,-Te,ce,-Te]],m+ce,E,[1,1],Re,!0),this},w.__private__.ellipse=w.ellipse=function(m,E,V,re,ce){if(isNaN(m)||isNaN(E)||isNaN(V)||isNaN(re)||!rs(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*V,Re=4/3*(Math.SQRT2-1)*re;return io(m+V,E),qn(m+V,E-Re,m+Te,E-re,m,E-re),qn(m-Te,E-re,m-V,E-Re,m-V,E),qn(m-V,E+Re,m-Te,E+re,m,E+re),qn(m+Te,E+re,m+V,E+Re,m+V,E),Ks(ce),this},w.__private__.circle=w.circle=function(m,E,V,re){if(isNaN(m)||isNaN(E)||isNaN(V)||!rs(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,E,V,V,re)},w.setFont=function(m,E,V){return V&&(E=we(E,V)),rt=jl(m,E,{disableWarning:!1}),this};var ns=w.__private__.getFont=w.getFont=function(){return Mt[jl.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var m,E,V={};for(m in Ut)if(Ut.hasOwnProperty(m))for(E in V[m]=[],Ut[m])Ut[m].hasOwnProperty(E)&&V[m].push(E);return V},w.addFont=function(m,E,V,re,ce){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(V=we(V,re)),eo.call(this,m,E,V,ce=ce||"Identity-H")};var zn,wi=r.lineWidth||.200025,xa=w.__private__.getLineWidth=w.getLineWidth=function(){return wi},bt=w.__private__.setLineWidth=w.setLineWidth=function(m){return wi=m,q(ae(te(m))+" w"),this};w.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(m,E){if(m=m||[],E=E||0,isNaN(E)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(V){return ae(te(V))}).join(" "),E=ae(te(E)),q("["+m+"] "+E+" d"),this};var is=w.__private__.getLineHeight=w.getLineHeight=function(){return Fe*zn};w.__private__.getLineHeight=w.getLineHeight=function(){return Fe*zn};var Lu=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(zn=m),this},Il=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return zn};Lu(r.lineHeight);var oi=w.__private__.getHorizontalCoordinate=function(m){return te(m)},ws=w.__private__.getVerticalCoordinate=function(m){return H===G?m:mt[U].mediaBox.topRightY-mt[U].mediaBox.bottomLeftY-te(m)},Rl=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(m){return ae(oi(m))},ao=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(m){return ae(ws(m))},Sa=r.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return es(Sa)},w.__private__.setStrokeColor=w.setDrawColor=function(m,E,V,re){return Sa=yn({ch1:m,ch2:E,ch3:V,ch4:re,pdfColorType:"draw",precision:2}),q(Sa),this};var Wo=r.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return es(Wo)},w.__private__.setFillColor=w.setFillColor=function(m,E,V,re){return Wo=yn({ch1:m,ch2:E,ch3:V,ch4:re,pdfColorType:"fill",precision:2}),q(Wo),this};var Mi=r.textColor||"0 g",ka=w.__private__.getTextColor=w.getTextColor=function(){return es(Mi)};w.__private__.setTextColor=w.setTextColor=function(m,E,V,re){return Mi=yn({ch1:m,ch2:E,ch3:V,ch4:re,pdfColorType:"text",precision:3}),this};var $n=r.charSpace,oo=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat($n||0)};w.__private__.setCharSpace=w.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $n=m,this};var Ho=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(m){var E=w.CapJoinStyles[m];if(E===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ho=E,q(E+" J"),this};var Vo=0;w.__private__.setLineJoin=w.setLineJoin=function(m){var E=w.CapJoinStyles[m];if(E===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vo=E,q(E+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(ae(te(m))+" M"),this},w.GState=Sh,w.setGState=function(m){(m=typeof m=="string"?gt[At[m]]:lo(null,m)).equals(nr)||(q("/"+m.id+" gs"),nr=m)};var lo=function(m,E){if(!m||!At[m]){var V=!1;for(var re in gt)if(gt.hasOwnProperty(re)&&gt[re].equals(E)){V=!0;break}if(V)E=gt[re];else{var ce="GS"+(Object.keys(gt).length+1).toString(10);gt[ce]=E,E.id=ce}return m&&(At[m]=E.id),Xt.publish("addGState",E),E}};w.addGState=function(m,E){return lo(m,E),this},w.saveGraphicsState=function(){return q("q"),gr.push({key:rt,size:Fe,color:Mi}),this},w.restoreGraphicsState=function(){q("Q");var m=gr.pop();return rt=m.key,Fe=m.size,Mi=m.color,nr=null,this},w.setCurrentTransformationMatrix=function(m){return q(m.toString()+" cm"),this},w.comment=function(m){return q("#"+m),this};var bi=function(m,E){var V=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return V},set:function(Te){isNaN(Te)||(V=parseFloat(Te))}});var re=E||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(Te){isNaN(Te)||(re=parseFloat(Te))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(Te){ce=Te.toString()}}),this},Na=function(m,E,V,re){bi.call(this,m,E),this.type="rect";var ce=V||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Re){isNaN(Re)||(ce=parseFloat(Re))}});var Te=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Re){isNaN(Re)||(Te=parseFloat(Re))}}),this},Aa=function(){this.page=jt,this.currentPage=U,this.pages=Ue.slice(0),this.pagesContext=mt.slice(0),this.x=tt,this.y=Rr,this.matrix=Vt,this.width=Js(U),this.height=Ea(U),this.outputDestination=$e,this.id="",this.objectNumber=-1};Aa.prototype.restore=function(){jt=this.page,U=this.currentPage,mt=this.pagesContext,Ue=this.pages,tt=this.x,Rr=this.y,Vt=this.matrix,Go(U,this.width),xi(U,this.height),$e=this.outputDestination};var _i=function(m,E,V,re,ce){gi.push(new Aa),jt=U=0,Ue=[],tt=m,Rr=E,Vt=ce,Gs([V,re])};for(var bs in w.beginFormObject=function(m,E,V,re,ce){return _i(m,E,V,re,ce),this},w.endFormObject=function(m){return(function(E){if(Zi[E])gi.pop().restore();else{var V=new Aa,re="Xo"+(Object.keys(vn).length+1).toString(10);V.id=re,Zi[E]=re,vn[re]=V,Xt.publish("addFormObject",V),gi.pop().restore()}})(m),this},w.doFormObject=function(m,E){var V=vn[Zi[m]];return q("q"),q(E.toString()+" cm"),q("/"+V.id+" Do"),q("Q"),this},w.getFormObject=function(m){var E=vn[Zi[m]];return{x:E.x,y:E.y,width:E.width,height:E.height,matrix:E.matrix}},w.save=function(m,E){return m=m||"generated.pdf",(E=E||{}).returnPromise=E.returnPromise||!1,E.returnPromise===!1?(yl(ts(ai()),m),typeof yl.unload=="function"&&Lt.setTimeout&&setTimeout(yl.unload,911),this):new Promise(function(V,re){try{var ce=yl(ts(ai()),m);typeof yl.unload=="function"&&Lt.setTimeout&&setTimeout(yl.unload,911),V(ce)}catch(Te){re(Te.message)}})},ut.API)ut.API.hasOwnProperty(bs)&&(bs==="events"&&ut.API.events.length?(function(m,E){var V,re,ce;for(ce=E.length-1;ce!==-1;ce--)V=E[ce][0],re=E[ce][1],m.subscribe.apply(m,[V].concat(typeof re=="function"?[re]:re))})(Xt,ut.API.events):w[bs]=ut.API[bs]);function Js(m){return mt[m].mediaBox.topRightX-mt[m].mediaBox.bottomLeftX}function Go(m,E){mt[m].mediaBox.topRightX=E+mt[m].mediaBox.bottomLeftX}function Ea(m){return mt[m].mediaBox.topRightY-mt[m].mediaBox.bottomLeftY}function xi(m,E){mt[m].mediaBox.topRightY=E+mt[m].mediaBox.bottomLeftY}var ss=w.getPageWidth=function(m){return Js(m=m||U)/kt},An=w.setPageWidth=function(m,E){Go(m,E*kt)},Si=w.getPageHeight=function(m){return Ea(m=m||U)/kt},uo=w.setPageHeight=function(m,E){xi(m,E*kt)};return w.internal={pdfEscape:ii,getStyle:no,getFont:ns,getFontSize:Ve,getCharSpace:oo,getTextColor:ka,getLineHeight:is,getLineHeightFactor:Il,getLineWidth:xa,write:We,getHorizontalCoordinate:oi,getVerticalCoordinate:ws,getCoordinateString:Rl,getVerticalCoordinateString:ao,collections:{},newObject:mr,newAdditionalObject:ys,newObjectDeferred:Fr,newObjectDeferredBegin:Hr,getFilters:vi,putStream:ni,events:Xt,scaleFactor:kt,pageSize:{getWidth:function(){return ss(U)},setWidth:function(m){An(U,m)},getHeight:function(){return Si(U)},setHeight:function(m){uo(U,m)}},encryptionOptions:y,encryption:nn,getEncryptor:function(m){return y!==null?nn.encryptor(m,0):function(E){return E}},output:wa,getNumberOfPages:si,get pages(){return Ue},out:q,f2:M,f3:$,getPageInfo:Fi,getPageInfoByObjId:qo,getCurrentPageInfo:zo,getPDFVersion:L,Point:bi,Rectangle:Na,Matrix:vt,hasHotfix:yi},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return ss(U)},set:function(m){An(U,m)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Si(U)},set:function(m){uo(U,m)},enumerable:!0,configurable:!0}),(function(m){for(var E=0,V=pt.length;E<V;E++){var re=eo.call(this,m[E][0],m[E][1],m[E][2],pt[E][3],!0);S===!1&&(k[re]=!0);var ce=m[E][0].split("-");Cl({id:re,fontName:ce[0],fontStyle:ce[1]||""})}Xt.publish("addFonts",{fonts:Mt,dictionary:Ut})}).call(w,pt),rt="F1",Pl(a,t),Xt.publish("initialized"),w}mu.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},mu.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mu.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},mu.prototype.processOwnerPassword=function(r,e){return Sd(xd(e).substr(0,5),r)},mu.prototype.encryptor=function(r,e){var t=xd(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return Sd(t,s)}},Sh.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||pr(r)!==pr(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;s++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},ut.API={events:[]},ut.version="4.0.0";var en=ut.API,Ud=1,Ll=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(r){return r.toFixed(2)},Fo=function(r){return r.toFixed(5)};en.__acroform__={};var Ti=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},b1=function(r){return r*Ud},ha=function(r){var e=new z2,t=et.internal.getHeight(r)||0,s=et.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Rt(s)),Number(Rt(t))],e},Jb=en.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},Yb=en.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},Xb=en.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},un=en.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Xb(r,e-1)},cn=en.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Jb(r,e-1)},hn=en.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Yb(r,e-1)},Qb=en.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=r[0],o=r[1],h=r[2],u=r[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=s(o+u)||0,f.upperRight_X=t(a+h)||0,f.upperRight_Y=s(o)||0,[Number(Rt(f.lowerLeft_X)),Number(Rt(f.lowerLeft_Y)),Number(Rt(f.upperRight_X)),Number(Rt(f.upperRight_Y))]},Zb=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,s=kd(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+Rt(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=ha(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},kd=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(M){return M.split(`
`)}):a.map(function(M){return[M]});var o=t,h=et.internal.getHeight(r)||0;h=h<0?-h:h;var u=et.internal.getWidth(r)||0;u=u<0?-u:u;var f=function(M,$,te){if(M+1<a.length){var ee=$+" "+a[M+1][0];return lh(ee,r,te).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var g,y,S=lh("3",r,o).height,k=r.multiline?h-o:(h-S)/2,w=k+=2,C=0,L=0,T=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+lh(e,r,o=12).width+", FieldWidth:"+u+`
`;break}for(var P="",z=0,G=0;G<a.length;G++)if(a.hasOwnProperty(G)){var H=!1;if(a[G].length!==1&&T!==a[G].length-1){if((S+2)*(z+2)+2>h)continue e;P+=a[G][T],H=!0,L=G,G--}else{P=(P+=a[G][T]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var de=parseInt(G),be=f(de,P,o),we=G>=a.length-1;if(be&&!we){P+=" ",T=0;continue}if(be||we){if(we)L=de;else if(r.multiline&&(S+2)*(z+2)+2>h)continue e}else{if(!r.multiline||(S+2)*(z+2)+2>h)continue e;L=de}}for(var ae="",Y=C;Y<=L;Y++){var pe=a[Y];if(r.multiline){if(Y===L){ae+=pe[T]+" ",T=(T+1)%pe.length;continue}if(Y===C){ae+=pe[pe.length-1]+" ";continue}}ae+=pe[0]+" "}switch(ae=ae.substr(ae.length-1)==" "?ae.substr(0,ae.length-1):ae,y=lh(ae,r,o).width,r.textAlign){case"right":g=u-y-2;break;case"center":g=(u-y)/2;break;default:g=2}e+=Rt(g)+" "+Rt(w)+` Td
`,e+="("+Ll(ae)+`) Tj
`,e+=-Rt(g)+` 0 Td
`,w=-(o+2),y=0,C=H?L:L+1,z++,P=""}break}return s.text=e,s.fontSize=o,s},lh=function(r,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},e_={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},t_=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},r_=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(zs.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(e_)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ud=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new $2,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];o.objId=void 0,o.hasAnnotation&&t_(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(s,a){var o=!s;for(var h in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(h)){var u=s[h],f=[],g=u.Rect;if(u.Rect&&(u.Rect=Qb(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=et.createDefaultAppearanceStream(u),pr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(f=u.getKeyValueListForStream()),u.Rect=g,u.hasAppearanceStream&&!u.appearanceStreamContent){var y=Zb(u);f.push({key:"AP",value:"<</N "+y+">>"}),a.internal.acroformPlugin.xForms.push(y)}if(u.appearanceStreamContent){var S="";for(var k in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(k)){var w=u.appearanceStreamContent[k];if(S+="/"+k+" ",S+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var h in w)if(w.hasOwnProperty(h)){var C=w[h];typeof C=="function"&&(C=C.call(a,u)),S+="/"+h+" "+C+" ",a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C)}}else typeof(C=w)=="function"&&(C=C.call(a,u)),S+="/"+h+" "+C,a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C);S+=">>"}f.push({key:"AP",value:`<<
`+S+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:u.objId}),a.internal.out("endobj")}o&&(function(L,T){for(var P in L)if(L.hasOwnProperty(P)){var z=P,G=L[P];T.internal.newObjectDeferredBegin(G.objId,!0),pr(G)==="object"&&typeof G.putStream=="function"&&G.putStream(),delete L[z]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},q2=en.__acroform__.arrayToPdfArray=function(r,e,t){var s=function(h){return h};if(Array.isArray(r)){for(var a="[",o=0;o<r.length;o++)switch(o!==0&&(a+=" "),pr(r[o])){case"boolean":case"number":case"object":a+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+Ll(s(r[o].toString()))+")"):a+=r[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Yf=function(r,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Ll(s(r))+")"},fa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fa.prototype.toString=function(){return this.objId+" 0 R"},fa.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},fa.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?r.push({key:s,value:q2(a,this.objId,this.scope)}):a instanceof fa?(a.scope=this.scope,r.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:s,value:a}))}return r};var z2=function(){fa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ti(z2,fa);var $2=function(){fa.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Ll(t(r))+")"}},set:function(t){r=t}})};Ti($2,fa);var zs=function r(){fa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');e=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!un(e,3)},set:function(P){P?this.F=cn(e,3):this.F=hn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');t=P}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(P){s=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(P){s[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(P){s[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(P){s[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(P){s[3]=P}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof kh)return;o="FieldObject"+r.FieldNum++}var P=function(z){return z};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Ll(P(o))+")"},set:function(P){o=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(P){o=P}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(P){h=P}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(P){u=P}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(P){f=P}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/Ud:g},set:function(P){g=P}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(P){y=P}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof kh||this instanceof Sl))return Yf(S,this.objId,this.scope)},set:function(P){P=P.toString(),S=P}});var k=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof On==0?Yf(k,this.objId,this.scope):k},set:function(P){P=P.toString(),k=this instanceof On==0?P.substr(0,1)==="("?hu(P.substr(1,P.length-2)):hu(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?hu(k.substr(1,k.length-1)):k},set:function(P){P=P.toString(),k=this instanceof On==1?"/"+P:P}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof On==0?Yf(w,this.objId,this.scope):w},set:function(P){P=P.toString(),w=this instanceof On==0?P.substr(0,1)==="("?hu(P.substr(1,P.length-2)):hu(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?hu(w.substr(1,w.length-1)):w},set:function(P){P=P.toString(),w=this instanceof On==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(P){P=!!P,L=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(P){C=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,1)},set:function(P){P?this.Ff=cn(this.Ff,1):this.Ff=hn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,2)},set:function(P){P?this.Ff=cn(this.Ff,2):this.Ff=hn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,3)},set:function(P){P?this.Ff=cn(this.Ff,3):this.Ff=hn(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');T=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(T){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Ti(zs,fa);var _u=function(){zs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return q2(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(o,h,u){u||(u=1);for(var f,g=[];f=h.exec(o);)g.push(f[u]);return g})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,18)},set:function(t){t?this.Ff=cn(this.Ff,18):this.Ff=hn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=cn(this.Ff,19):this.Ff=hn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,20)},set:function(t){t?(this.Ff=cn(this.Ff,20),e.sort()):this.Ff=hn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,22)},set:function(t){t?this.Ff=cn(this.Ff,22):this.Ff=hn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,23)},set:function(t){t?this.Ff=cn(this.Ff,23):this.Ff=hn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,27)},set:function(t){t?this.Ff=cn(this.Ff,27):this.Ff=hn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ti(_u,zs);var xu=function(){_u.call(this),this.fontName="helvetica",this.combo=!1};Ti(xu,_u);var Su=function(){xu.call(this),this.combo=!0};Ti(Su,xu);var ph=function(){Su.call(this),this.edit=!0};Ti(ph,Su);var On=function(){zs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,15)},set:function(t){t?this.Ff=cn(this.Ff,15):this.Ff=hn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,16)},set:function(t){t?this.Ff=cn(this.Ff,16):this.Ff=hn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,17)},set:function(t){t?this.Ff=cn(this.Ff,17):this.Ff=hn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,26)},set:function(t){t?this.Ff=cn(this.Ff,26):this.Ff=hn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+Ll(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){pr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ti(On,zs);var gh=function(){On.call(this),this.pushButton=!0};Ti(gh,On);var ku=function(){On.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ti(ku,On);var kh=function(){var r,e;zs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),s)h.push("/"+o+" ("+Ll(a(s[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){pr(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ti(kh,zs),ku.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},ku.prototype.createOption=function(r){var e=new kh;return e.Parent=this,e.optionName=r,this.Kids.push(e),n_.call(this.scope,e),e};var mh=function(){On.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};Ti(mh,On);var Sl=function(){zs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,13)},set:function(e){e?this.Ff=cn(this.Ff,13):this.Ff=hn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,21)},set:function(e){e?this.Ff=cn(this.Ff,21):this.Ff=hn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,23)},set:function(e){e?this.Ff=cn(this.Ff,23):this.Ff=hn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,24)},set:function(e){e?this.Ff=cn(this.Ff,24):this.Ff=hn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,25)},set:function(e){e?this.Ff=cn(this.Ff,25):this.Ff=hn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,26)},set:function(e){e?this.Ff=cn(this.Ff,26):this.Ff=hn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ti(Sl,zs);var vh=function(){Sl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,14)},set:function(r){r?this.Ff=cn(this.Ff,14):this.Ff=hn(this.Ff,14)}}),this.password=!0};Ti(vh,Sl);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=ha(r);e.scope=r.scope;var t=[],s=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=kd(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Rt(et.internal.getWidth(r))+" "+Rt(et.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+Rt(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=ha(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),a=[],o=et.internal.getHeight(r),h=et.internal.getWidth(r),u=kd(r,r.caption);return a.push("1 g"),a.push("0 0 "+Rt(h)+" "+Rt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Rt(h-1)+" "+Rt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Rt(u.fontSize)+" Tf "+s),a.push(u.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=ha(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Rt(et.internal.getWidth(r))+" "+Rt(et.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=et.RadioButton.Circle.YesNormal,e.D[r]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=ha(r);e.scope=r.scope;var t=[],s=et.internal.getWidth(r)<=et.internal.getHeight(r)?et.internal.getWidth(r)/4:et.internal.getHeight(r)/4;s=Number((.9*s).toFixed(5));var a=et.internal.Bezier_C,o=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Fo(et.internal.getWidth(r)/2)+" "+Fo(et.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ha(r);e.scope=r.scope;var t=[],s=et.internal.getWidth(r)<=et.internal.getHeight(r)?et.internal.getWidth(r)/4:et.internal.getHeight(r)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*et.internal.Bezier_C).toFixed(5)),h=Number((s*et.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Fo(et.internal.getWidth(r)/2)+" "+Fo(et.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Fo(et.internal.getWidth(r)/2)+" "+Fo(et.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+h+" "+h+" "+s+" 0 "+s+" c"),t.push("-"+h+" "+s+" -"+s+" "+h+" -"+s+" 0 c"),t.push("-"+s+" -"+h+" -"+h+" -"+s+" 0 -"+s+" c"),t.push(h+" -"+s+" "+s+" -"+h+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=ha(r);e.scope=r.scope;var t=[],s=et.internal.getWidth(r)<=et.internal.getHeight(r)?et.internal.getWidth(r)/4:et.internal.getHeight(r)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*et.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Fo(et.internal.getWidth(r)/2)+" "+Fo(et.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=et.RadioButton.Cross.YesNormal,e.D[r]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=ha(r);e.scope=r.scope;var t=[],s=et.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Rt(et.internal.getWidth(r)-2)+" "+Rt(et.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Rt(s.x1.x)+" "+Rt(s.x1.y)+" m"),t.push(Rt(s.x2.x)+" "+Rt(s.x2.y)+" l"),t.push(Rt(s.x4.x)+" "+Rt(s.x4.y)+" m"),t.push(Rt(s.x3.x)+" "+Rt(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ha(r);e.scope=r.scope;var t=et.internal.calculateCross(r),s=[];return s.push("0.749023 g"),s.push("0 0 "+Rt(et.internal.getWidth(r))+" "+Rt(et.internal.getHeight(r))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Rt(et.internal.getWidth(r)-2)+" "+Rt(et.internal.getHeight(r)-2)+" re"),s.push("W"),s.push("n"),s.push(Rt(t.x1.x)+" "+Rt(t.x1.y)+" m"),s.push(Rt(t.x2.x)+" "+Rt(t.x2.y)+" l"),s.push(Rt(t.x4.x)+" "+Rt(t.x4.y)+" m"),s.push(Rt(t.x3.x)+" "+Rt(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=ha(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Rt(et.internal.getWidth(r))+" "+Rt(et.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};et.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=et.internal.getWidth(r),t=et.internal.getHeight(r),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},et.internal.getWidth=function(r){var e=0;return pr(r)==="object"&&(e=b1(r.Rect[2])),e},et.internal.getHeight=function(r){var e=0;return pr(r)==="object"&&(e=b1(r.Rect[3])),e};var n_=en.addField=function(r){if(r_(this,r),!(r instanceof zs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};en.AcroFormChoiceField=_u,en.AcroFormListBox=xu,en.AcroFormComboBox=Su,en.AcroFormEditBox=ph,en.AcroFormButton=On,en.AcroFormPushButton=gh,en.AcroFormRadioButton=ku,en.AcroFormCheckBox=mh,en.AcroFormTextField=Sl,en.AcroFormPasswordField=vh,en.AcroFormAppearance=et,en.AcroForm={ChoiceField:_u,ListBox:xu,ComboBox:Su,EditBox:ph,Button:On,PushButton:gh,RadioButton:ku,CheckBox:mh,TextField:Sl,PasswordField:vh,Appearance:et},ut.AcroForm={ChoiceField:_u,ListBox:xu,ComboBox:Su,EditBox:ph,Button:On,PushButton:gh,RadioButton:ku,CheckBox:mh,TextField:Sl,PasswordField:vh,Appearance:et};ut.AcroForm;function W2(r){return r.reduce(function(e,t,s){return e[t]=s,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(M,$){var te,ee,Se,Ee,Ne,Z=t;if(($=$||t)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(be(M))for(Ne in s)for(Se=s[Ne],te=0;te<Se.length;te+=1){for(Ee=!0,ee=0;ee<Se[te].length;ee+=1)if(Se[te][ee]!==void 0&&Se[te][ee]!==M[ee]){Ee=!1;break}if(Ee===!0){Z=Ne;break}}else for(Ne in s)for(Se=s[Ne],te=0;te<Se.length;te+=1){for(Ee=!0,ee=0;ee<Se[te].length;ee+=1)if(Se[te][ee]!==void 0&&Se[te][ee]!==M.charCodeAt(ee)){Ee=!1;break}if(Ee===!0){Z=Ne;break}}return Z===t&&$!==t&&(Z=$),Z},o=function M($){for(var te=this.internal.write,ee=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var Ee=[];if(Ee.push({key:"Type",value:"/XObject"}),Ee.push({key:"Subtype",value:"/Image"}),Ee.push({key:"Width",value:$.width}),Ee.push({key:"Height",value:$.height}),$.colorSpace===P.INDEXED?Ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(Ee.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===P.DEVICE_CMYK&&Ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ee.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&Ee.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var Ne="",Z=0,he=$.transparency.length;Z<he;Z++)Ne+=$.transparency[Z]+" "+$.transparency[Z]+" ";Ee.push({key:"Mask",value:"["+Ne+"]"})}$.sMask!==void 0&&Ee.push({key:"SMask",value:$.objectId+1+" 0 R"});var ke=$.filter!==void 0?["/"+$.filter]:void 0;if(ee({data:$.data,additionalKeyValues:Ee,alreadyAppliedFilters:ke,objectId:$.objectId}),te("endobj"),"sMask"in $&&$.sMask!==void 0){var K,N=(K=$.sMaskBitsPerComponent)!==null&&K!==void 0?K:$.bitsPerComponent,U={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:N,data:$.sMask};"filter"in $&&(U.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(N," /Columns ").concat($.width),U.filter=$.filter),M.call(this,U)}if($.colorSpace===P.INDEXED){var J=this.internal.newObject();ee({data:ae(new Uint8Array($.palette)),objectId:J}),te("endobj")}},h=function(){var M=this.internal.collections[e+"images"];for(var $ in M)o.call(this,M[$])},u=function(){var M,$=this.internal.collections[e+"images"],te=this.internal.write;for(var ee in $)te("/I"+(M=$[ee]).index,M.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",u))},g=function(){var M=this.internal.collections[e+"images"];return f.call(this),M},y=function(){return Object.keys(this.internal.collections[e+"images"]).length},S=function(M){return typeof r["process"+M.toUpperCase()]=="function"},k=function(M){return pr(M)==="object"&&M.nodeType===1},w=function(M,$){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var te=""+M.getAttribute("src");if(te.indexOf("data:image/")===0)return dh(unescape(te).split("base64,").pop());var ee=r.loadFile(te,!0);if(ee!==void 0)return ee}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var Se;switch($){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;default:Se="image/jpeg"}return dh(M.toDataURL(Se,1).split("base64,").pop())}},C=function(M){var $=this.internal.collections[e+"images"];if($){for(var te in $)if(M===$[te].alias)return $[te]}},L=function(M,$,te){return M||$||(M=-96,$=-96),M<0&&(M=-1*te.width*72/M/this.internal.scaleFactor),$<0&&($=-1*te.height*72/$/this.internal.scaleFactor),M===0&&(M=$*te.width/te.height),$===0&&($=M*te.height/te.width),[M,$]},T=function(M,$,te,ee,Se,Ee){var Ne=L.call(this,te,ee,Se),Z=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,ke=g.call(this);if(te=Ne[0],ee=Ne[1],ke[Se.index]=Se,Ee){Ee*=Math.PI/180;var K=Math.cos(Ee),N=Math.sin(Ee),U=function(Q){return Q.toFixed(4)},J=[U(K),U(N),U(-1*N),U(K),0,0,"cm"]}this.internal.write("q"),Ee?(this.internal.write([1,"0","0",1,Z(M),he($+ee),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Z(te),"0","0",Z(ee),"0","0","cm"].join(" "))):this.internal.write([Z(te),"0","0",Z(ee),Z(M),he($+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},P=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var z=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},G=r.__addimage__.sHashCode=function(M){var $,te,ee=0;if(typeof M=="string")for(te=M.length,$=0;$<te;$++)ee=(ee<<5)-ee+M.charCodeAt($),ee|=0;else if(be(M))for(te=M.byteLength/2,$=0;$<te;$++)ee=(ee<<5)-ee+M[$],ee|=0;return ee},H=r.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var $=!0;return M.length===0&&($=!1),M.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&($=!1),$},de=r.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var $=M.indexOf(",");return $<0?null:M.substring(0,$).trim().endsWith("base64")?M.substring($+1):null};r.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var be=r.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},we=r.__addimage__.binaryStringToUint8Array=function(M){for(var $=M.length,te=new Uint8Array($),ee=0;ee<$;ee++)te[ee]=M.charCodeAt(ee);return te},ae=r.__addimage__.arrayBufferToBinaryString=function(M){for(var $="",te=be(M)?M:new Uint8Array(M),ee=0;ee<te.length;ee+=8192)$+=String.fromCharCode.apply(null,te.subarray(ee,ee+8192));return $};r.addImage=function(){var M,$,te,ee,Se,Ee,Ne,Z,he;if(typeof arguments[1]=="number"?($=t,te=arguments[1],ee=arguments[2],Se=arguments[3],Ee=arguments[4],Ne=arguments[5],Z=arguments[6],he=arguments[7]):($=arguments[1],te=arguments[2],ee=arguments[3],Se=arguments[4],Ee=arguments[5],Ne=arguments[6],Z=arguments[7],he=arguments[8]),pr(M=arguments[0])==="object"&&!k(M)&&"imageData"in M){var ke=M;M=ke.imageData,$=ke.format||$||t,te=ke.x||te||0,ee=ke.y||ee||0,Se=ke.w||ke.width||Se,Ee=ke.h||ke.height||Ee,Ne=ke.alias||Ne,Z=ke.compression||Z,he=ke.rotation||ke.angle||he}var K=this.internal.getFilters();if(Z===void 0&&K.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(te)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var N=Y.call(this,M,$,Ne,Z);return T.call(this,te,ee,Se,Ee,N,he),this};var Y=function(M,$,te,ee){var Se,Ee,Ne;if(typeof M=="string"&&a(M)===t){M=unescape(M);var Z=pe(M,!1);(Z!==""||(Z=r.loadFile(M,!0))!==void 0)&&(M=Z)}if(k(M)&&(M=w(M,$)),$=a(M,$),!S($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((Ne=te)==null||Ne.length===0)&&(te=(function(he){return typeof he=="string"||be(he)?G(he):be(he.data)?G(he.data):null})(M)),(Se=C.call(this,te))||(M instanceof Uint8Array||$==="RGBA"||(Ee=M,M=we(M)),Se=this["process"+$.toUpperCase()](M,y.call(this),te,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in r.image_compression?he:z.NONE})(ee),Ee)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},pe=r.__addimage__.convertBase64ToBinaryString=function(M,$){$=typeof $!="boolean"||$;var te,ee="";if(typeof M=="string"){var Se;te=(Se=de(M))!==null&&Se!==void 0?Se:M;try{ee=dh(te)}catch(Ee){if($)throw H(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};r.getImageProperties=function(M){var $,te,ee="";if(k(M)&&(M=w(M)),typeof M=="string"&&a(M)===t&&((ee=pe(M,!1))===""&&(ee=r.loadFile(M)||""),M=ee),te=a(M),!S(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(M instanceof Uint8Array||(M=we(M)),!($=this["process"+te.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=te,$}})(ut.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};ut.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var s,a,o,h=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),g=t.pageContext.annotations,y=!1,S=0;S<g.length&&!y;S++)switch((s=g[S]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var k=0;k<g.length;k++){s=g[k];var w=this.internal.pdfEscape,C=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(L.objId),z=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(s.bounds.x)+" "+u(s.bounds.y+s.bounds.h)+" "+h(s.bounds.x+s.bounds.w)+" "+u(s.bounds.y)+"] ")+"/Contents ("+w(P(s.contents))+")",o+=" /Popup "+T.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+w(P(z))+") >>",L.content=o;var G=L.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(s.bounds.x+30)+" "+u(s.bounds.y+s.bounds.h)+" "+h(s.bounds.x+s.bounds.w+30)+" "+u(s.bounds.y)+"] ")+" /Parent "+G,s.open&&(o+=" /Open true"),o+=" >>",T.content=o,this.internal.write(L.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+h(s.bounds.x)+" "+u(s.bounds.y)+" "+h(s.bounds.x+s.bounds.w)+" "+u(s.bounds.y+s.bounds.h)+"] ";var H=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(C(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var de=this.annotations._nameMap[s.options.name];s.options.pageNumber=de.page,s.options.top=de.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(C(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var be=u(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+be+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},r.link=function(t,s,a,o,h){var u=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:f(t),y:g(s),w:f(t+a),h:g(s+o)},options:h,type:"link"})},r.textWithLink=function(t,s,a,o){var h,u,f=this.getTextWidth(t),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var y=this.splitTextToSize(t,u).length;h=Math.ceil(g*y)}else u=f,h=g;return this.text(t,s,a,o),a+=.2*g,o.align==="center"&&(s-=f/2),o.align==="right"&&(s-=f),this.link(s,a-g,u,h,o),f},r.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(ut.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},h=r.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},u=r.__arabicParser__.isArabicEndLetter=function(L){return h(L)&&o(L)&&e[L.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(L){return h(L)&&a.indexOf(L.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return h(L)&&o(L)&&e[L.charCodeAt(0)].length>=1};var g=r.__arabicParser__.arabicLetterHasFinalForm=function(L){return h(L)&&o(L)&&e[L.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(L){return h(L)&&o(L)&&e[L.charCodeAt(0)].length>=3};var y=r.__arabicParser__.arabicLetterHasMedialForm=function(L){return h(L)&&o(L)&&e[L.charCodeAt(0)].length==4},S=r.__arabicParser__.resolveLigatures=function(L){var T=0,P=t,z="",G=0;for(T=0;T<L.length;T+=1)P[L.charCodeAt(T)]!==void 0?(G++,typeof(P=P[L.charCodeAt(T)])=="number"&&(z+=String.fromCharCode(P),P=t,G=0),T===L.length-1&&(P=t,z+=L.charAt(T-(G-1)),T-=G-1,G=0)):(P=t,z+=L.charAt(T-G),T-=G,G=0);return z};r.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&s[L.charCodeAt(0)]!==void 0};var k=r.__arabicParser__.getCorrectForm=function(L,T,P){return h(L)?o(L)===!1?-1:!g(L)||!h(T)&&!h(P)||!h(P)&&u(T)||u(L)&&!h(T)||u(L)&&f(T)||u(L)&&u(T)?0:y(L)&&h(T)&&!u(T)&&h(P)&&g(P)?3:u(L)||!h(P)?1:2:-1},w=function(L){var T=0,P=0,z=0,G="",H="",de="",be=(L=L||"").split("\\s+"),we=[];for(T=0;T<be.length;T+=1){for(we.push(""),P=0;P<be[T].length;P+=1)G=be[T][P],H=be[T][P-1],de=be[T][P+1],h(G)?(z=k(G,H,de),we[T]+=z!==-1?String.fromCharCode(e[G.charCodeAt(0)][z]):G):we[T]+=G;we[T]=S(we[T])}return we.join(" ")},C=r.__arabicParser__.processArabic=r.processArabic=function(){var L,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(T)){var z=0;for(P=[],z=0;z<T.length;z+=1)Array.isArray(T[z])?P.push([w(T[z][0]),T[z][1],T[z][2]]):P.push([w(T[z])]);L=P}else L=w(T);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};r.events.push(["preProcessText",C])})(ut.API),ut.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(u){h=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ut.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(L){g=L}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(L){S=L}});var k=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return k},set:function(L){k=L}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(L){w=L}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(L){C=L}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return s.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,g){s.call(this);var y=(g=g||{}).fontSize||this.getFontSize(),S=g.font||this.getFont(),k=g.scaleFactor||this.internal.scaleFactor,w=0,C=0,L=0,T=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var P=g.maxWidth;P>0?typeof f=="string"?f=this.splitTextToSize(f,P):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(G,H){return G.concat(T.splitTextToSize(H,P))},[])):f=Array.isArray(f)?f:[f];for(var z=0;z<f.length;z++)w<(L=this.getStringUnitWidth(f[z],{font:S})*y)&&(w=L);return w!==0&&(C=f.length),{w:w/=k,h:Math.max((C*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/k,0)}},r.cellAddPage=function(){s.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=r.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var g=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,S=this.internal.__cell__.margins||e,k=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===f.lineNumber?(f.x=(g.x||0)+(g.width||0),f.y=g.y||0):g.y+g.height+f.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=S.top,w&&k&&(this.printHeaderRow(f.lineNumber,!0),f.y+=k[0].height)):f.y=g.y+g.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};r.table=function(f,g,y,S,k){if(s.call(this),!y)throw new Error("No data for PDF table.");var w,C,L,T,P=[],z=[],G=[],H={},de={},be=[],we=[],ae=(k=k||{}).autoSize||!1,Y=k.printHeaders!==!1,pe=k.css&&k.css["font-size"]!==void 0?16*k.css["font-size"]:k.fontSize||12,M=k.margins||Object.assign({width:this.getPageWidth()},e),$=typeof k.padding=="number"?k.padding:3,te=k.headerBackgroundColor||"#c8c8c8",ee=k.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=pe,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=ee,this.setFontSize(pe),S==null)z=P=Object.keys(y[0]),G=P.map(function(){return"left"});else if(Array.isArray(S)&&pr(S[0])==="object")for(P=S.map(function(ke){return ke.name}),z=S.map(function(ke){return ke.prompt||ke.name||""}),G=S.map(function(ke){return ke.align||"left"}),w=0;w<S.length;w+=1)de[S[w].name]=.7499990551181103*S[w].width;else Array.isArray(S)&&typeof S[0]=="string"&&(z=P=S,G=P.map(function(){return"left"}));if(ae||Array.isArray(S)&&typeof S[0]=="string")for(w=0;w<P.length;w+=1){for(H[T=P[w]]=y.map(function(ke){return ke[T]}),this.setFont(void 0,"bold"),be.push(this.getTextDimensions(z[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=H[T],this.setFont(void 0,"normal"),L=0;L<C.length;L+=1)be.push(this.getTextDimensions(C[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);de[T]=Math.max.apply(null,be)+$+$,be=[]}if(Y){var Se={};for(w=0;w<P.length;w+=1)Se[P[w]]={},Se[P[w]].text=z[w],Se[P[w]].align=G[w];var Ee=u.call(this,Se,de);we=P.map(function(ke){return new o(f,g,de[ke],Ee,Se[ke].text,void 0,Se[ke].align)}),this.setTableHeaderRow(we),this.printHeaderRow(1,!1)}var Ne=S.reduce(function(ke,K){return ke[K.name]=K.align,ke},{});for(w=0;w<y.length;w+=1){"rowStart"in k&&k.rowStart instanceof Function&&k.rowStart({row:w,data:y[w]},this);var Z=u.call(this,y[w],de);for(L=0;L<P.length;L+=1){var he=y[w][P[L]];"cellStart"in k&&k.cellStart instanceof Function&&k.cellStart({row:w,col:L,data:he},this),h.call(this,new o(f,g,de[P[L]],Z,he,w+2,Ne[P[L]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=g,this};var u=function(f,g){var y=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,k=this.internal.scaleFactor;return Object.keys(f).map(function(w){var C=f[w];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,g[w]-y-y)},this).map(function(w){return this.getLineHeightFactor()*w.length*S/k+y+y},this).reduce(function(w,C){return Math.max(w,C)},0)};r.setTableHeaderRow=function(f){s.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,g){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var k=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){y=this.internal.__cell__.tableHeaderRow[w].clone(),g&&(y.y=this.internal.__cell__.margins.top||0,k.push(y)),y.lineNumber=f;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,y),this.setTextColor(C)}k.length>0&&this.setTableHeaderRow(k),this.setFont(void 0,"normal"),t=!1}})(ut.API);var H2={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},V2=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Nd=W2(V2),G2=[100,200,300,400,500,600,700,800,900],i_=W2(G2);function Xf(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return H2[o=o||"normal"]?o:"normal"})(r.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),a=(function(o){return typeof Nd[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:s,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,s].join(" ")}}}function _1(r,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(r[e[a]])return r[e[a]]}var s_={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},x1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function S1(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function k1(r){return r.trimLeft()}function a_(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function o_(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var uh,N1,A1,fu,ch,E1,L1,C1,Qf=["times"];function P1(r,e,t,s,a){var o=4,h=T1;switch(a){case ut.API.image_compression.FAST:o=1,h=j1;break;case ut.API.image_compression.MEDIUM:o=6,h=O1;break;case ut.API.image_compression.SLOW:o=9,h=I1}r=(function(f,g,y,S){for(var k,w=f.length/g,C=new Uint8Array(f.length+w),L=[l_,j1,T1,O1,I1],T=0;T<w;T+=1){var P=T*g,z=f.subarray(P,P+g);if(S)C.set(S(z,y,k),P+T);else{for(var G=L.length,H=[],de=0;de<G;de+=1)H[de]=L[de](z,y,k);var be=c_(H.concat());C.set(H[be],P+T)}k=z}return C})(r,e,Math.ceil(t*s/8),h);var u=yd(r,{level:o});return ut.API.__addimage__.arrayBufferToBinaryString(u)}function l_(r){var e=Array.apply([],r);return e.unshift(0),e}function j1(r,e){var t=r.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var o=r[a-e]||0;s[a+1]=r[a]-o+256&255}return s}function T1(r,e,t){var s=r.length,a=[];a[0]=2;for(var o=0;o<s;o+=1){var h=t&&t[o]||0;a[o+1]=r[o]-h+256&255}return a}function O1(r,e,t){var s=r.length,a=[];a[0]=3;for(var o=0;o<s;o+=1){var h=r[o-e]||0,u=t&&t[o]||0;a[o+1]=r[o]+256-(h+u>>>1)&255}return a}function I1(r,e,t){var s=r.length,a=[];a[0]=4;for(var o=0;o<s;o+=1){var h=u_(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=r[o]-h+256&255}return a}function u_(r,e,t){if(r===e&&e===t)return r;var s=Math.abs(e-t),a=Math.abs(r-t),o=Math.abs(r+e-t-t);return s<=a&&s<=o?r:a<=o?e:t}function c_(r){var e=r.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Zf(r,e,t){var s=e*t,a=Math.floor(s/8),o=16-(s-8*a+t),h=(1<<t)-1;return K2(r,a)>>o&h}function R1(r,e,t,s){var a=t*s,o=Math.floor(a/8),h=16-(a-8*o+s),u=(1<<s)-1,f=(e&u)<<h;(function(g,y,S){if(y+1<g.byteLength)g.setUint16(y,S,!1);else{var k=S>>8&255;g.setUint8(y,k)}})(r,o,K2(r,o)&~(u<<h)&65535|f)}function K2(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function h_(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,s=r[e++]|r[e++]<<8,a=r[e++],o=a>>7,h=1<<1+(7&a);r[e++],r[e++];var u=null,f=null;o&&(u=e,f=h,e+=3*h);var g=!0,y=[],S=0,k=null,w=0,C=null;for(this.width=t,this.height=s;g&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,C=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((M=r[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=r[e++];S=r[e++]|r[e++]<<8,k=r[e++],1&L||(k=null),w=L>>2&7,e++;break;case 254:for(;;){if(!((M=r[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var T=r[e++]|r[e++]<<8,P=r[e++]|r[e++]<<8,z=r[e++]|r[e++]<<8,G=r[e++]|r[e++]<<8,H=r[e++],de=H>>6&1,be=1<<1+(7&H),we=u,ae=f,Y=!1;H>>7&&(Y=!0,we=e,ae=be,e+=3*be);var pe=e;for(e++;;){var M;if(!((M=r[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}y.push({x:T,y:P,width:z,height:G,has_local_palette:Y,palette_offset:we,palette_size:ae,data_offset:pe,data_length:e-pe,transparent_index:k,interlaced:!!de,delay:S,disposal:w});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return C},this.frameInfo=function($){if($<0||$>=y.length)throw new Error("Frame index out of range.");return y[$]},this.decodeAndBlitFrameBGRA=function($,te){var ee=this.frameInfo($),Se=ee.width*ee.height,Ee=new Uint8Array(Se);F1(r,ee.data_offset,Ee,Se);var Ne=ee.palette_offset,Z=ee.transparent_index;Z===null&&(Z=256);var he=ee.width,ke=t-he,K=he,N=4*(ee.y*t+ee.x),U=4*((ee.y+ee.height)*t+ee.x),J=N,Q=4*ke;ee.interlaced===!0&&(Q+=4*t*7);for(var ne=8,ue=0,me=Ee.length;ue<me;++ue){var _e=Ee[ue];if(K===0&&(K=he,(J+=Q)>=U&&(Q=4*ke+4*t*(ne-1),J=N+(he+ke)*(ne<<1),ne>>=1)),_e===Z)J+=4;else{var je=r[Ne+3*_e],Ue=r[Ne+3*_e+1],He=r[Ne+3*_e+2];te[J++]=He,te[J++]=Ue,te[J++]=je,te[J++]=255}--K}},this.decodeAndBlitFrameRGBA=function($,te){var ee=this.frameInfo($),Se=ee.width*ee.height,Ee=new Uint8Array(Se);F1(r,ee.data_offset,Ee,Se);var Ne=ee.palette_offset,Z=ee.transparent_index;Z===null&&(Z=256);var he=ee.width,ke=t-he,K=he,N=4*(ee.y*t+ee.x),U=4*((ee.y+ee.height)*t+ee.x),J=N,Q=4*ke;ee.interlaced===!0&&(Q+=4*t*7);for(var ne=8,ue=0,me=Ee.length;ue<me;++ue){var _e=Ee[ue];if(K===0&&(K=he,(J+=Q)>=U&&(Q=4*ke+4*t*(ne-1),J=N+(he+ke)*(ne<<1),ne>>=1)),_e===Z)J+=4;else{var je=r[Ne+3*_e],Ue=r[Ne+3*_e+1],He=r[Ne+3*_e+2];te[J++]=je,te[J++]=Ue,te[J++]=He,te[J++]=255}--K}}}function F1(r,e,t,s){for(var a=r[e++],o=1<<a,h=o+1,u=h+1,f=a+1,g=(1<<f)-1,y=0,S=0,k=0,w=r[e++],C=new Int32Array(4096),L=null;;){for(;y<16&&w!==0;)S|=r[e++]<<y,y+=8,w===1?w=r[e++]:--w;if(y<f)break;var T=S&g;if(S>>=f,y-=f,T!==o){if(T===h)break;for(var P=T<u?T:L,z=0,G=P;G>o;)G=C[G]>>8,++z;var H=G;if(k+z+(P!==T?1:0)>s)return void _r.log("Warning, gif stream longer than expected.");t[k++]=H;var de=k+=z;for(P!==T&&(t[k++]=H),G=P;z--;)G=C[G],t[--de]=255&G,G>>=8;L!==null&&u<4096&&(C[u++]=L<<8|H,u>=g+1&&f<12&&(++f,g=g<<1|1)),L=T}else u=h+1,g=(1<<(f=a+1))-1,L=null}return k!==s&&_r.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ed(r){var e,t,s,a,o,h=Math.floor,u=new Array(64),f=new Array(64),g=new Array(64),y=new Array(64),S=new Array(65535),k=new Array(65535),w=new Array(64),C=new Array(64),L=[],T=0,P=7,z=new Array(64),G=new Array(64),H=new Array(64),de=new Array(256),be=new Array(2048),we=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ae=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ee(N,U){for(var J=0,Q=0,ne=new Array,ue=1;ue<=16;ue++){for(var me=1;me<=N[ue];me++)ne[U[Q]]=[],ne[U[Q]][0]=J,ne[U[Q]][1]=ue,Q++,J++;J*=2}return ne}function Ne(N){for(var U=N[0],J=N[1]-1;J>=0;)U&1<<J&&(T|=1<<P),J--,--P<0&&(T==255?(Z(255),Z(0)):Z(T),P=7,T=0)}function Z(N){L.push(N)}function he(N){Z(N>>8&255),Z(255&N)}function ke(N,U,J,Q,ne){for(var ue,me=ne[0],_e=ne[240],je=(function(Fe,ct){var Ve,dt,ht,Yt,Bt,Ct,qt,Dt,rt,kt,tt=0;for(rt=0;rt<8;++rt){Ve=Fe[tt],dt=Fe[tt+1],ht=Fe[tt+2],Yt=Fe[tt+3],Bt=Fe[tt+4],Ct=Fe[tt+5],qt=Fe[tt+6];var Rr=Ve+(Dt=Fe[tt+7]),Vt=Ve-Dt,Mt=dt+qt,Ut=dt-qt,gr=ht+Ct,ft=ht-Ct,sr=Yt+Bt,gt=Yt-Bt,At=Rr+sr,nr=Rr-sr,jt=Mt+gr,mt=Mt-gr;Fe[tt]=At+jt,Fe[tt+4]=At-jt;var Xt=.707106781*(mt+nr);Fe[tt+2]=nr+Xt,Fe[tt+6]=nr-Xt;var Ws=.382683433*((At=gt+ft)-(mt=Ut+Vt)),vn=.5411961*At+Ws,Zi=1.306562965*mt+Ws,gi=.707106781*(jt=ft+Ut),vt=Vt+gi,ri=Vt-gi;Fe[tt+5]=ri+vn,Fe[tt+3]=ri-vn,Fe[tt+1]=vt+Zi,Fe[tt+7]=vt-Zi,tt+=8}for(tt=0,rt=0;rt<8;++rt){Ve=Fe[tt],dt=Fe[tt+8],ht=Fe[tt+16],Yt=Fe[tt+24],Bt=Fe[tt+32],Ct=Fe[tt+40],qt=Fe[tt+48];var Oi=Ve+(Dt=Fe[tt+56]),Nn=Ve-Dt,mi=dt+qt,mr=dt-qt,Fr=ht+Ct,Hr=ht-Ct,ys=Yt+Bt,Hs=Yt-Bt,Ii=Oi+ys,es=Oi-ys,yn=mi+Fr,vi=mi-Fr;Fe[tt]=Ii+yn,Fe[tt+32]=Ii-yn;var ni=.707106781*(vi+es);Fe[tt+16]=es+ni,Fe[tt+48]=es-ni;var pa=.382683433*((Ii=Hs+Hr)-(vi=mr+Nn)),Ri=.5411961*Ii+pa,Vs=1.306562965*vi+pa,ga=.707106781*(yn=Hr+mr),ma=Nn+ga,Za=Nn-ga;Fe[tt+40]=Za+Ri,Fe[tt+24]=Za-Ri,Fe[tt+8]=ma+Vs,Fe[tt+56]=ma-Vs,tt++}for(rt=0;rt<64;++rt)kt=Fe[rt]*ct[rt],w[rt]=kt>0?kt+.5|0:kt-.5|0;return w})(N,U),Ue=0;Ue<64;++Ue)C[we[Ue]]=je[Ue];var He=C[0]-J;J=C[0],He==0?Ne(Q[0]):(Ne(Q[k[ue=32767+He]]),Ne(S[ue]));for(var $e=63;$e>0&&C[$e]==0;)$e--;if($e==0)return Ne(me),J;for(var ot,q=1;q<=$e;){for(var We=q;C[q]==0&&q<=$e;)++q;var Ot=q-We;if(Ot>=16){ot=Ot>>4;for(var pt=1;pt<=ot;++pt)Ne(_e);Ot&=15}ue=32767+C[q],Ne(ne[(Ot<<4)+k[ue]]),Ne(S[ue]),q++}return $e!=63&&Ne(me),J}function K(N){N=Math.min(Math.max(N,1),100),o!=N&&((function(U){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ne=h((J[Q]*U+50)/100);ne=Math.min(Math.max(ne,1),255),u[we[Q]]=ne}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var _e=h((ue[me]*U+50)/100);_e=Math.min(Math.max(_e,1),255),f[we[me]]=_e}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,He=0;He<8;He++)for(var $e=0;$e<8;$e++)g[Ue]=1/(u[we[Ue]]*je[He]*je[$e]*8),y[Ue]=1/(f[we[Ue]]*je[He]*je[$e]*8),Ue++})(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),o=N)}this.encode=function(N,U){U&&K(U),L=new Array,T=0,P=7,he(65496),he(65504),he(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),he(1),he(1),Z(0),Z(0),(function(){he(65499),he(132),Z(0);for(var dt=0;dt<64;dt++)Z(u[dt]);Z(1);for(var ht=0;ht<64;ht++)Z(f[ht])})(),(function(dt,ht){he(65472),he(17),Z(8),he(ht),he(dt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(N.width,N.height),(function(){he(65476),he(418),Z(0);for(var dt=0;dt<16;dt++)Z(ae[dt+1]);for(var ht=0;ht<=11;ht++)Z(Y[ht]);Z(16);for(var Yt=0;Yt<16;Yt++)Z(pe[Yt+1]);for(var Bt=0;Bt<=161;Bt++)Z(M[Bt]);Z(1);for(var Ct=0;Ct<16;Ct++)Z($[Ct+1]);for(var qt=0;qt<=11;qt++)Z(te[qt]);Z(17);for(var Dt=0;Dt<16;Dt++)Z(ee[Dt+1]);for(var rt=0;rt<=161;rt++)Z(Se[rt])})(),he(65498),he(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var J=0,Q=0,ne=0;T=0,P=7,this.encode.displayName="_encode_";for(var ue,me,_e,je,Ue,He,$e,ot,q,We=N.data,Ot=N.width,pt=N.height,Fe=4*Ot,ct=0;ct<pt;){for(ue=0;ue<Fe;){for(Ue=Fe*ct+ue,$e=-1,ot=0,q=0;q<64;q++)He=Ue+(ot=q>>3)*Fe+($e=4*(7&q)),ct+ot>=pt&&(He-=Fe*(ct+1+ot-pt)),ue+$e>=Fe&&(He-=ue+$e-Fe+4),me=We[He++],_e=We[He++],je=We[He++],z[q]=(be[me]+be[_e+256|0]+be[je+512|0]>>16)-128,G[q]=(be[me+768|0]+be[_e+1024|0]+be[je+1280|0]>>16)-128,H[q]=(be[me+1280|0]+be[_e+1536|0]+be[je+1792|0]>>16)-128;J=ke(z,g,J,e,s),Q=ke(G,y,Q,t,a),ne=ke(H,y,ne,t,a),ue+=32}ct+=8}if(P>=0){var Ve=[];Ve[1]=P+1,Ve[0]=(1<<P+1)-1,Ne(Ve)}return he(65497),new Uint8Array(L)},r=r||50,(function(){for(var N=String.fromCharCode,U=0;U<256;U++)de[U]=N(U)})(),e=Ee(ae,Y),t=Ee($,te),s=Ee(pe,M),a=Ee(ee,Se),(function(){for(var N=1,U=2,J=1;J<=15;J++){for(var Q=N;Q<U;Q++)k[32767+Q]=J,S[32767+Q]=[],S[32767+Q][1]=J,S[32767+Q][0]=Q;for(var ne=-(U-1);ne<=-N;ne++)k[32767+ne]=J,S[32767+ne]=[],S[32767+ne][1]=J,S[32767+ne][0]=U-1+ne;N<<=1,U<<=1}})(),(function(){for(var N=0;N<256;N++)be[N]=19595*N,be[N+256|0]=38470*N,be[N+512|0]=7471*N+32768,be[N+768|0]=-11059*N,be[N+1024|0]=-21709*N,be[N+1280|0]=32768*N+8421375,be[N+1536|0]=-27439*N,be[N+1792|0]=-5329*N})(),K(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ms(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function M1(r){function e(Y){if(!Y)throw Error("assert :P")}function t(Y,pe,M){for(var $=0;4>$;$++)if(Y[pe+$]!=M.charCodeAt($))return!0;return!1}function s(Y,pe,M,$,te){for(var ee=0;ee<te;ee++)Y[pe+ee]=M[$+ee]}function a(Y,pe,M,$){for(var te=0;te<$;te++)Y[pe+te]=M}function o(Y){return new Int32Array(Y)}function h(Y,pe){for(var M=[],$=0;$<Y;$++)M.push(new pe);return M}function u(Y,pe){var M=[];return(function $(te,ee,Se){for(var Ee=Se[ee],Ne=0;Ne<Ee&&(te.push(Se.length>ee+1?[]:new pe),!(Se.length<ee+1));Ne++)$(te[Ne],ee+1,Se)})(M,0,Y),M}var f=function(){var Y=this;function pe(c,p){for(var b=1<<p-1>>>0;c&b;)b>>>=1;return b?(c&b-1)+b:c}function M(c,p,b,x,A){e(!(x%b));do c[p+(x-=b)]=A;while(0<x)}function $(c,p,b,x,A){if(e(2328>=A),512>=A)var O=o(512);else if((O=o(A))==null)return 0;return(function(I,F,D,B,ie,ge){var W,oe,fe=F,Pe=1<<D,ye=o(16),Le=o(16);for(e(ie!=0),e(B!=null),e(I!=null),e(0<D),oe=0;oe<ie;++oe){if(15<B[oe])return 0;++ye[B[oe]]}if(ye[0]==ie)return 0;for(Le[1]=0,W=1;15>W;++W){if(ye[W]>1<<W)return 0;Le[W+1]=Le[W]+ye[W]}for(oe=0;oe<ie;++oe)W=B[oe],0<B[oe]&&(ge[Le[W]++]=oe);if(Le[15]==1)return(B=new te).g=0,B.value=ge[0],M(I,fe,1,Pe,B),Pe;var Ce,Oe=-1,Ie=Pe-1,st=0,Ke=1,Tt=1,Qe=1<<D;for(oe=0,W=1,ie=2;W<=D;++W,ie<<=1){if(Ke+=Tt<<=1,0>(Tt-=ye[W]))return 0;for(;0<ye[W];--ye[W])(B=new te).g=W,B.value=ge[oe++],M(I,fe+st,ie,Qe,B),st=pe(st,W)}for(W=D+1,ie=2;15>=W;++W,ie<<=1){if(Ke+=Tt<<=1,0>(Tt-=ye[W]))return 0;for(;0<ye[W];--ye[W]){if(B=new te,(st&Ie)!=Oe){for(fe+=Qe,Ce=1<<(Oe=W)-D;15>Oe&&!(0>=(Ce-=ye[Oe]));)++Oe,Ce<<=1;Pe+=Qe=1<<(Ce=Oe-D),I[F+(Oe=st&Ie)].g=Ce+D,I[F+Oe].value=fe-F-Oe}B.g=W-D,B.value=ge[oe++],M(I,fe+(st>>D),ie,Qe,B),st=pe(st,W)}}return Ke!=2*Le[15]-1?0:Pe})(c,p,b,x,A,O)}function te(){this.value=this.g=0}function ee(){this.value=this.g=0}function Se(){this.G=h(5,te),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(ki,ee)}function Ee(c,p,b,x){e(c!=null),e(p!=null),e(2147483648>x),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=p,c.pa=b,c.Jd=p,c.Yc=b+x,c.Zc=4<=x?b+x-4+1:b,me(c)}function Ne(c,p){for(var b=0;0<p--;)b|=je(c,128)<<p;return b}function Z(c,p){var b=Ne(c,p);return _e(c)?-b:b}function he(c,p,b,x){var A,O=0;for(e(c!=null),e(p!=null),e(4294967288>x),c.Sb=x,c.Ra=0,c.u=0,c.h=0,4<x&&(x=4),A=0;A<x;++A)O+=p[b+A]<<8*A;c.Ra=O,c.bb=x,c.oa=p,c.pa=b}function ke(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<ea-8>>>0,++c.bb,c.u-=8;Q(c)&&(c.h=1,c.u=0)}function K(c,p){if(e(0<=p),!c.h&&p<=ci){var b=J(c)&ui[p];return c.u+=p,ke(c),b}return c.h=1,c.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(c){return c.Ra>>>(c.u&ea-1)>>>0}function Q(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>ea}function ne(c,p){c.u=p,c.h=Q(c)}function ue(c){c.u>=os&&(e(c.u>=os),ke(c))}function me(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function _e(c){return Ne(c,1)}function je(c,p){var b=c.Ca;0>c.b&&me(c);var x=c.b,A=b*p>>>8,O=(c.I>>>x>A)+0;for(O?(b-=A,c.I-=A+1<<x>>>0):b=A+1,x=b,A=0;256<=x;)A+=8,x>>=8;return x=7^A+ks[x],c.b-=x,c.Ca=(b<<x)-1,O}function Ue(c,p,b){c[p+0]=b>>24&255,c[p+1]=b>>16&255,c[p+2]=b>>8&255,c[p+3]=255&b}function He(c,p){return c[p+0]|c[p+1]<<8}function $e(c,p){return He(c,p)|c[p+2]<<16}function ot(c,p){return He(c,p)|He(c,p+2)<<16}function q(c,p){var b=1<<p;return e(c!=null),e(0<p),c.X=o(b),c.X==null?0:(c.Mb=32-p,c.Xa=p,1)}function We(c,p){e(c!=null),e(p!=null),e(c.Xa==p.Xa),s(p.X,0,c.X,0,1<<p.Xa)}function Ot(){this.X=[],this.Xa=this.Mb=0}function pt(c,p,b,x){e(b!=null),e(x!=null);var A=b[0],O=x[0];return A==0&&(A=(c*O+p/2)/p),O==0&&(O=(p*A+c/2)/c),0>=A||0>=O?0:(b[0]=A,x[0]=O,1)}function Fe(c,p){return c+(1<<p)-1>>>p}function ct(c,p){return((4278255360&c)+(4278255360&p)>>>0&4278255360)+((16711935&c)+(16711935&p)>>>0&16711935)>>>0}function Ve(c,p){Y[p]=function(b,x,A,O,I,F,D){var B;for(B=0;B<I;++B){var ie=Y[c](F[D+B-1],A,O+B);F[D+B]=ct(b[x+B],ie)}}}function dt(){this.ud=this.hd=this.jd=0}function ht(c,p){return((4278124286&(c^p))>>>1)+(c&p)>>>0}function Yt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Bt(c,p){return Yt(c+(c-p+.5>>1))}function Ct(c,p,b){return Math.abs(p-b)-Math.abs(c-b)}function qt(c,p,b,x,A,O,I){for(x=O[I-1],b=0;b<A;++b)O[I+b]=x=ct(c[p+b],x)}function Dt(c,p,b,x,A){var O;for(O=0;O<b;++O){var I=c[p+O],F=I>>8&255,D=16711935&(D=(D=16711935&I)+((F<<16)+F));x[A+O]=(4278255360&I)+D>>>0}}function rt(c,p){p.jd=255&c,p.hd=c>>8&255,p.ud=c>>16&255}function kt(c,p,b,x,A,O){var I;for(I=0;I<x;++I){var F=p[b+I],D=F>>>8,B=F,ie=255&(ie=(ie=F>>>16)+((c.jd<<24>>24)*(D<<24>>24)>>>5));B=255&(B=(B+=(c.hd<<24>>24)*(D<<24>>24)>>>5)+((c.ud<<24>>24)*(ie<<24>>24)>>>5)),A[O+I]=(4278255360&F)+(ie<<16)+B}}function tt(c,p,b,x,A){Y[p]=function(O,I,F,D,B,ie,ge,W,oe){for(D=ge;D<W;++D)for(ge=0;ge<oe;++ge)B[ie++]=A(F[x(O[I++])])},Y[c]=function(O,I,F,D,B,ie,ge){var W=8>>O.b,oe=O.Ea,fe=O.K[0],Pe=O.w;if(8>W)for(O=(1<<O.b)-1,Pe=(1<<W)-1;I<F;++I){var ye,Le=0;for(ye=0;ye<oe;++ye)ye&O||(Le=x(D[B++])),ie[ge++]=A(fe[Le&Pe]),Le>>=W}else Y["VP8LMapColor"+b](D,B,fe,Pe,ie,ge,I,F,oe)}}function Rr(c,p,b,x,A){for(b=p+b;p<b;){var O=c[p++];x[A++]=O>>16&255,x[A++]=O>>8&255,x[A++]=255&O}}function Vt(c,p,b,x,A){for(b=p+b;p<b;){var O=c[p++];x[A++]=O>>16&255,x[A++]=O>>8&255,x[A++]=255&O,x[A++]=O>>24&255}}function Mt(c,p,b,x,A){for(b=p+b;p<b;){var O=(I=c[p++])>>16&240|I>>12&15,I=240&I|I>>28&15;x[A++]=O,x[A++]=I}}function Ut(c,p,b,x,A){for(b=p+b;p<b;){var O=(I=c[p++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;x[A++]=O,x[A++]=I}}function gr(c,p,b,x,A){for(b=p+b;p<b;){var O=c[p++];x[A++]=255&O,x[A++]=O>>8&255,x[A++]=O>>16&255}}function ft(c,p,b,x,A,O){if(O==0)for(b=p+b;p<b;)Ue(x,((O=c[p++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),A+=32;else s(x,A,c,p,b)}function sr(c,p){Y[p][0]=Y[c+"0"],Y[p][1]=Y[c+"1"],Y[p][2]=Y[c+"2"],Y[p][3]=Y[c+"3"],Y[p][4]=Y[c+"4"],Y[p][5]=Y[c+"5"],Y[p][6]=Y[c+"6"],Y[p][7]=Y[c+"7"],Y[p][8]=Y[c+"8"],Y[p][9]=Y[c+"9"],Y[p][10]=Y[c+"10"],Y[p][11]=Y[c+"11"],Y[p][12]=Y[c+"12"],Y[p][13]=Y[c+"13"],Y[p][14]=Y[c+"0"],Y[p][15]=Y[c+"0"]}function gt(c){return c==wo||c==Ua||c==tl||c==rl}function At(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new At,this.f.kb=new nr,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ws(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function vn(c,p){var b=c.T,x=p.ba.f.RGBA,A=x.eb,O=x.fb+c.ka*x.A,I=Vn[p.ba.S],F=c.y,D=c.O,B=c.f,ie=c.N,ge=c.ea,W=c.W,oe=p.cc,fe=p.dc,Pe=p.Mc,ye=p.Nc,Le=c.ka,Ce=c.ka+c.T,Oe=c.U,Ie=Oe+1>>1;for(Le==0?I(F,D,null,null,B,ie,ge,W,B,ie,ge,W,A,O,null,null,Oe):(I(p.ec,p.fc,F,D,oe,fe,Pe,ye,B,ie,ge,W,A,O-x.A,A,O,Oe),++b);Le+2<Ce;Le+=2)oe=B,fe=ie,Pe=ge,ye=W,ie+=c.Rc,W+=c.Rc,O+=2*x.A,I(F,(D+=2*c.fa)-c.fa,F,D,oe,fe,Pe,ye,B,ie,ge,W,A,O-x.A,A,O,Oe);return D+=c.fa,c.j+Ce<c.o?(s(p.ec,p.fc,F,D,Oe),s(p.cc,p.dc,B,ie,Ie),s(p.Mc,p.Nc,ge,W,Ie),b--):1&Ce||I(F,D,null,null,B,ie,ge,W,B,ie,ge,W,A,O+x.A,null,null,Oe),b}function Zi(c,p,b){var x=c.F,A=[c.J];if(x!=null){var O=c.U,I=p.ba.S,F=I==el||I==tl;p=p.ba.f.RGBA;var D=[0],B=c.ka;D[0]=c.T,c.Kb&&(B==0?--D[0]:(--B,A[0]-=c.width),c.j+c.ka+c.T==c.o&&(D[0]=c.o-c.j-B));var ie=p.eb;B=p.fb+B*p.A,c=Qo(x,A[0],c.width,O,D,ie,B+(F?0:3),p.A),e(b==D),c&&gt(I)&&Da(ie,B,F,O,D,p.A)}return 0}function gi(c){var p=c.ma,b=p.ba.S,x=11>b,A=b==ia||b==Zo||b==el||b==ur||b==12||gt(b);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!ho(p.Oa,c,A?11:12))return 0;if(A&&gt(b)&&La(),c.da)alert("todo:use_scaling");else{if(x){if(p.Ib=Ws,c.Kb){if(b=c.U+1>>1,p.memory=o(c.U+2*b),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+c.U,p.Mc=p.cc,p.Nc=p.dc+b,p.Ib=vn,La()}}else alert("todo:EmitYUV");A&&(p.Jb=Zi,x&&Di())}if(x&&!_n){for(c=0;256>c;++c)Gn[c]=89858*(c-128)+zi>>Ls,Kn[c]=-22014*(c-128)+zi,So[c]=-45773*(c-128),$a[c]=113618*(c-128)+zi>>Ls;for(c=ir;c<or;++c)p=76283*(c-16)+zi>>Ls,$l[c-ir]=Vr(p,255),xc[c-ir]=Vr(p+8>>4,15);_n=1}return 1}function vt(c){var p=c.ma,b=c.U,x=c.T;return e(!(1&c.ka)),0>=b||0>=x?0:(b=p.Ib(c,p),p.Jb!=null&&p.Jb(c,p,b),p.Dc+=b,1)}function ri(c){c.ma.memory=null}function Oi(c,p,b,x){return K(c,8)!=47?0:(p[0]=K(c,14)+1,b[0]=K(c,14)+1,x[0]=K(c,1),K(c,3)!=0?0:!c.h)}function Nn(c,p){if(4>c)return c+1;var b=c-2>>1;return(2+(1&c)<<b)+K(p,b)+1}function mi(c,p){return 120<p?p-120:1<=(b=((b=Ih[p-1])>>4)*c+(8-(15&b)))?b:1;var b}function mr(c,p,b){var x=J(b),A=c[p+=255&x].g-8;return 0<A&&(ne(b,b.u+8),x=J(b),p+=c[p].value,p+=x&(1<<A)-1),ne(b,b.u+c[p].g),c[p].value}function Fr(c,p,b){return b.g+=c.g,b.value+=c.value<<p>>>0,e(8>=b.g),c.g}function Hr(c,p,b){var x=c.xc;return e((p=x==0?0:c.vc[c.md*(b>>x)+(p>>x)])<c.Wb),c.Ya[p]}function ys(c,p,b,x){var A=c.ab,O=c.c*p,I=c.C;p=I+p;var F=b,D=x;for(x=c.Ta,b=c.Ua;0<A--;){var B=c.gc[A],ie=I,ge=p,W=F,oe=D,fe=(D=x,F=b,B.Ea);switch(e(ie<ge),e(ge<=B.nc),B.hc){case 2:Dr(W,oe,(ge-ie)*fe,D,F);break;case 0:var Pe=ie,ye=ge,Le=D,Ce=F,Oe=(Qe=B).Ea;Pe==0&&(Ns(W,oe,null,null,1,Le,Ce),qt(W,oe+1,0,0,Oe-1,Le,Ce+1),oe+=Oe,Ce+=Oe,++Pe);for(var Ie=1<<Qe.b,st=Ie-1,Ke=Fe(Oe,Qe.b),Tt=Qe.K,Qe=Qe.w+(Pe>>Qe.b)*Ke;Pe<ye;){var $t=Tt,jr=Qe,It=1;for(ls(W,oe,Le,Ce-Oe,1,Le,Ce);It<Oe;){var Je=(It&~st)+Ie;Je>Oe&&(Je=Oe),(0,Ia[$t[jr++]>>8&15])(W,oe+ +It,Le,Ce+It-Oe,Je-It,Le,Ce+It),It=Je}oe+=Oe,Ce+=Oe,++Pe&st||(Qe+=Ke)}ge!=B.nc&&s(D,F-fe,D,F+(ge-ie-1)*fe,fe);break;case 1:for(fe=W,ye=oe,Oe=(W=B.Ea)-(Ce=W&~(Le=(oe=1<<B.b)-1)),Pe=Fe(W,B.b),Ie=B.K,B=B.w+(ie>>B.b)*Pe;ie<ge;){for(st=Ie,Ke=B,Tt=new dt,Qe=ye+Ce,$t=ye+W;ye<Qe;)rt(st[Ke++],Tt),po(Tt,fe,ye,oe,D,F),ye+=oe,F+=oe;ye<$t&&(rt(st[Ke++],Tt),po(Tt,fe,ye,Oe,D,F),ye+=Oe,F+=Oe),++ie&Le||(B+=Pe)}break;case 3:if(W==D&&oe==F&&0<B.b){for(ye=D,W=fe=F+(ge-ie)*fe-(Ce=(ge-ie)*Fe(B.Ea,B.b)),oe=D,Le=F,Pe=[],Ce=(Oe=Ce)-1;0<=Ce;--Ce)Pe[Ce]=oe[Le+Ce];for(Ce=Oe-1;0<=Ce;--Ce)ye[W+Ce]=Pe[Ce];Ta(B,ie,ge,D,fe,D,F)}else Ta(B,ie,ge,W,oe,D,F)}F=x,D=b}D!=b&&s(x,b,F,D,O)}function Hs(c,p){var b=c.V,x=c.Ba+c.c*c.C,A=p-c.C;if(e(p<=c.l.o),e(16>=A),0<A){var O=c.l,I=c.Ta,F=c.Ua,D=O.width;if(ys(c,A,b,x),A=F=[F],e((b=c.C)<(x=p)),e(O.v<O.va),x>O.o&&(x=O.o),b<O.j){var B=O.j-b;b=O.j,A[0]+=B*D}if(b>=x?b=0:(A[0]+=4*O.v,O.ka=b-O.j,O.U=O.va-O.v,O.T=x-b,b=1),b){if(F=F[0],11>(b=c.ca).S){var ie=b.f.RGBA,ge=(x=b.S,A=O.U,O=O.T,B=ie.eb,ie.A),W=O;for(ie=ie.fb+c.Ma*ie.A;0<W--;){var oe=I,fe=F,Pe=A,ye=B,Le=ie;switch(x){case Ul:go(oe,fe,Pe,ye,Le);break;case ia:As(oe,fe,Pe,ye,Le);break;case wo:As(oe,fe,Pe,ye,Le),Da(ye,Le,0,Pe,1,0);break;case vc:Ra(oe,fe,Pe,ye,Le);break;case Zo:ft(oe,fe,Pe,ye,Le,1);break;case Ua:ft(oe,fe,Pe,ye,Le,1),Da(ye,Le,0,Pe,1,0);break;case el:ft(oe,fe,Pe,ye,Le,0);break;case tl:ft(oe,fe,Pe,ye,Le,0),Da(ye,Le,1,Pe,1,0);break;case ur:ta(oe,fe,Pe,ye,Le);break;case rl:ta(oe,fe,Pe,ye,Le),Pu(ye,Le,Pe,1,0);break;case Bl:ra(oe,fe,Pe,ye,Le);break;default:e(0)}F+=D,ie+=ge}c.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=b.height)}}c.C=p,e(c.C<=c.i)}function Ii(c){var p;if(0<c.ua)return 0;for(p=0;p<c.Wb;++p){var b=c.Ya[p].G,x=c.Ya[p].H;if(0<b[1][x[1]+0].g||0<b[2][x[2]+0].g||0<b[3][x[3]+0].g)return 0}return 1}function es(c,p,b,x,A,O){if(c.Z!=0){var I=c.qd,F=c.rd;for(e(En[c.Z]!=null);p<b;++p)En[c.Z](I,F,x,A,x,A,O),I=x,F=A,A+=O;c.qd=I,c.rd=F}}function yn(c,p){var b=c.l.ma,x=b.Z==0||b.Z==1?c.l.j:c.C;if(x=c.C<x?x:c.C,e(p<=c.l.o),p>x){var A=c.l.width,O=b.ca,I=b.tb+A*x,F=c.V,D=c.Ba+c.c*x,B=c.gc;e(c.ab==1),e(B[0].hc==3),Bi(B[0],x,p,F,D,O,I),es(b,x,p,O,I,A)}c.C=c.Ma=p}function vi(c,p,b,x,A,O,I){var F=c.$/x,D=c.$%x,B=c.m,ie=c.s,ge=b+c.$,W=ge;A=b+x*A;var oe=b+x*O,fe=280+ie.ua,Pe=c.Pb?F:16777216,ye=0<ie.ua?ie.Wa:null,Le=ie.wc,Ce=ge<oe?Hr(ie,D,F):null;e(c.C<O),e(oe<=A);var Oe=!1;e:for(;;){for(;Oe||ge<oe;){var Ie=0;if(F>=Pe){var st=ge-b;e((Pe=c).Pb),Pe.wd=Pe.m,Pe.xd=st,0<Pe.s.ua&&We(Pe.s.Wa,Pe.s.vb),Pe=F+zl}if(D&Le||(Ce=Hr(ie,D,F)),e(Ce!=null),Ce.Qb&&(p[ge]=Ce.qb,Oe=!0),!Oe)if(ue(B),Ce.jc){Ie=B,st=p;var Ke=ge,Tt=Ce.pd[J(Ie)&ki-1];e(Ce.jc),256>Tt.g?(ne(Ie,Ie.u+Tt.g),st[Ke]=Tt.value,Ie=0):(ne(Ie,Ie.u+Tt.g-256),e(256<=Tt.value),Ie=Tt.value),Ie==0&&(Oe=!0)}else Ie=mr(Ce.G[0],Ce.H[0],B);if(B.h)break;if(Oe||256>Ie){if(!Oe)if(Ce.nd)p[ge]=(Ce.qb|Ie<<8)>>>0;else{if(ue(B),Oe=mr(Ce.G[1],Ce.H[1],B),ue(B),st=mr(Ce.G[2],Ce.H[2],B),Ke=mr(Ce.G[3],Ce.H[3],B),B.h)break;p[ge]=(Ke<<24|Oe<<16|Ie<<8|st)>>>0}if(Oe=!1,++ge,++D>=x&&(D=0,++F,I!=null&&F<=O&&!(F%16)&&I(c,F),ye!=null))for(;W<ge;)Ie=p[W++],ye.X[(506832829*Ie&4294967295)>>>ye.Mb]=Ie}else if(280>Ie){if(Ie=Nn(Ie-256,B),st=mr(Ce.G[4],Ce.H[4],B),ue(B),st=mi(x,st=Nn(st,B)),B.h)break;if(ge-b<st||A-ge<Ie)break e;for(Ke=0;Ke<Ie;++Ke)p[ge+Ke]=p[ge+Ke-st];for(ge+=Ie,D+=Ie;D>=x;)D-=x,++F,I!=null&&F<=O&&!(F%16)&&I(c,F);if(e(ge<=A),D&Le&&(Ce=Hr(ie,D,F)),ye!=null)for(;W<ge;)Ie=p[W++],ye.X[(506832829*Ie&4294967295)>>>ye.Mb]=Ie}else{if(!(Ie<fe))break e;for(Oe=Ie-280,e(ye!=null);W<ge;)Ie=p[W++],ye.X[(506832829*Ie&4294967295)>>>ye.Mb]=Ie;Ie=ge,e(!(Oe>>>(st=ye).Xa)),p[Ie]=st.X[Oe],Oe=!0}Oe||e(B.h==Q(B))}if(c.Pb&&B.h&&ge<A)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&We(c.s.vb,c.s.Wa);else{if(B.h)break e;I!=null&&I(c,F>O?O:F),c.a=0,c.$=ge-b}return 1}return c.a=3,0}function ni(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var p=c.Wa;p!=null&&(p.X=null),c.vb=null,e(c!=null)}function pa(){var c=new Nt;return c==null?null:(c.a=0,c.xb=_o,sr("Predictor","VP8LPredictors"),sr("Predictor","VP8LPredictors_C"),sr("PredictorAdd","VP8LPredictorsAdd"),sr("PredictorAdd","VP8LPredictorsAdd_C"),Dr=Dt,po=kt,go=Rr,As=Vt,ta=Mt,ra=Ut,Ra=gr,Y.VP8LMapColor32b=us,Y.VP8LMapColor8b=Oa,c)}function Ri(c,p,b,x,A){var O=1,I=[c],F=[p],D=x.m,B=x.s,ie=null,ge=0;e:for(;;){if(b)for(;O&&K(D,1);){var W=I,oe=F,fe=x,Pe=1,ye=fe.m,Le=fe.gc[fe.ab],Ce=K(ye,2);if(fe.Oc&1<<Ce)O=0;else{switch(fe.Oc|=1<<Ce,Le.hc=Ce,Le.Ea=W[0],Le.nc=oe[0],Le.K=[null],++fe.ab,e(4>=fe.ab),Ce){case 0:case 1:Le.b=K(ye,3)+2,Pe=Ri(Fe(Le.Ea,Le.b),Fe(Le.nc,Le.b),0,fe,Le.K),Le.K=Le.K[0];break;case 3:var Oe,Ie=K(ye,8)+1,st=16<Ie?0:4<Ie?1:2<Ie?2:3;if(W[0]=Fe(Le.Ea,st),Le.b=st,Oe=Pe=Ri(Ie,1,0,fe,Le.K)){var Ke,Tt=Ie,Qe=Le,$t=1<<(8>>Qe.b),jr=o($t);if(jr==null)Oe=0;else{var It=Qe.K[0],Je=Qe.w;for(jr[0]=Qe.K[0][0],Ke=1;Ke<1*Tt;++Ke)jr[Ke]=ct(It[Je+Ke],jr[Ke-1]);for(;Ke<4*$t;++Ke)jr[Ke]=0;Qe.K[0]=null,Qe.K[0]=jr,Oe=1}}Pe=Oe;break;case 2:break;default:e(0)}O=Pe}}if(I=I[0],F=F[0],O&&K(D,1)&&!(O=1<=(ge=K(D,4))&&11>=ge)){x.a=3;break e}var ze;if(ze=O)t:{var Ur,St,zt,yr=x,fn=I,Yr=F,Er=ge,an=b,dn=yr.m,xr=yr.s,Ht=[null],Zt=1,Sr=0,er=wc[Er];r:for(;;){if(an&&K(dn,1)){var Tr=K(dn,3)+2,Or=Fe(fn,Tr),cr=Fe(Yr,Tr),Ln=Or*cr;if(!Ri(Or,cr,0,yr,Ht))break r;for(Ht=Ht[0],xr.xc=Tr,Ur=0;Ur<Ln;++Ur){var lr=Ht[Ur]>>8&65535;Ht[Ur]=lr,lr>=Zt&&(Zt=lr+1)}}if(dn.h)break r;for(St=0;5>St;++St){var hr=Ba[St];!St&&0<Er&&(hr+=1<<Er),Sr<hr&&(Sr=hr)}var Xr=h(Zt*er,te),xn=Zt,Jn=h(xn,Se);if(Jn==null)var Br=null;else e(65536>=xn),Br=Jn;var qr=o(Sr);if(Br==null||qr==null||Xr==null){yr.a=1;break r}var Cn=Xr;for(Ur=zt=0;Ur<Zt;++Ur){var fr=Br[Ur],Pn=fr.G,Ei=fr.H,$i=0,pn=1,zr=0;for(St=0;5>St;++St){hr=Ba[St],Pn[St]=Cn,Ei[St]=zt,!St&&0<Er&&(hr+=1<<Er);i:{var oa,Ps=hr,ko=yr,fs=qr,kc=Cn,zu=zt,br=0,Wi=ko.m,$u=K(Wi,1);if(a(fs,0,0,Ps),$u){var Wu=K(Wi,1)+1,Wl=K(Wi,1),Hl=K(Wi,Wl==0?1:8);fs[Hl]=1,Wu==2&&(fs[Hl=K(Wi,8)]=1);var ds=1}else{var kr=o(19),Qr=K(Wi,4)+4;if(19<Qr){ko.a=3;var $r=0;break i}for(oa=0;oa<Qr;++oa)kr[Oh[oa]]=K(Wi,3);var No=void 0,js=void 0,Ao=ko,Uh=kr,on=Ps,Vl=fs,ol=0,ps=Ao.m,Hi=8,hi=h(128,te);n:for(;$(hi,0,7,Uh,19);){if(K(ps,1)){var ll=2+2*K(ps,3);if((No=2+K(ps,ll))>on)break n}else No=on;for(js=0;js<on&&No--;){ue(ps);var Gl=hi[0+(127&J(ps))];ne(ps,ps.u+Gl.g);var la=Gl.value;if(16>la)Vl[js++]=la,la!=0&&(Hi=la);else{var Nc=la==16,Hu=la-16,Ac=ql[Hu],Vu=K(ps,nl[Hu])+Ac;if(js+Vu>on)break n;for(var Ec=Nc?Hi:0;0<Vu--;)Vl[js++]=Ec}}ol=1;break n}ol||(Ao.a=3),ds=ol}(ds=ds&&!Wi.h)&&(br=$(kc,zu,8,fs,Ps)),ds&&br!=0?$r=br:(ko.a=3,$r=0)}if($r==0)break r;if(pn&&yc[St]==1&&(pn=Cn[zt].g==0),$i+=Cn[zt].g,zt+=$r,3>=St){var Eo,Kl=qr[0];for(Eo=1;Eo<hr;++Eo)qr[Eo]>Kl&&(Kl=qr[Eo]);zr+=Kl}}if(fr.nd=pn,fr.Qb=0,pn&&(fr.qb=(Pn[3][Ei[3]+0].value<<24|Pn[1][Ei[1]+0].value<<16|Pn[2][Ei[2]+0].value)>>>0,$i==0&&256>Pn[0][Ei[0]+0].value&&(fr.Qb=1,fr.qb+=Pn[0][Ei[0]+0].value<<8)),fr.jc=!fr.Qb&&6>zr,fr.jc){var ul,fi=fr;for(ul=0;ul<ki;++ul){var Ts=ul,Vi=fi.pd[Ts],Ha=fi.G[0][fi.H[0]+Ts];256<=Ha.value?(Vi.g=Ha.g+256,Vi.value=Ha.value):(Vi.g=0,Vi.value=0,Ts>>=Fr(Ha,8,Vi),Ts>>=Fr(fi.G[1][fi.H[1]+Ts],16,Vi),Ts>>=Fr(fi.G[2][fi.H[2]+Ts],0,Vi),Fr(fi.G[3][fi.H[3]+Ts],24,Vi))}}}xr.vc=Ht,xr.Wb=Zt,xr.Ya=Br,xr.yc=Xr,ze=1;break t}ze=0}if(!(O=ze)){x.a=3;break e}if(0<ge){if(B.ua=1<<ge,!q(B.Wa,ge)){x.a=1,O=0;break e}}else B.ua=0;var Jl=x,Yl=I,Lc=F,Xl=Jl.s,Ql=Xl.xc;if(Jl.c=Yl,Jl.i=Lc,Xl.md=Fe(Yl,Ql),Xl.wc=Ql==0?-1:(1<<Ql)-1,b){x.xb=hs;break e}if((ie=o(I*F))==null){x.a=1,O=0;break e}O=(O=vi(x,ie,0,I,F,F,null))&&!D.h;break e}return O?(A!=null?A[0]=ie:(e(ie==null),e(b)),x.$=0,b||ni(B)):ni(B),O}function Vs(c,p){var b=c.c*c.i,x=b+p+16*p;return e(c.c<=p),c.V=o(x),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+b+p,1)}function ga(c,p){var b=c.C,x=p-b,A=c.V,O=c.Ba+c.c*b;for(e(p<=c.l.o);0<x;){var I=16<x?16:x,F=c.l.ma,D=c.l.width,B=D*I,ie=F.ca,ge=F.tb+D*b,W=c.Ta,oe=c.Ua;ys(c,I,A,O),ju(W,oe,ie,ge,B),es(F,b,b+I,ie,ge,D),x-=I,A+=I*c.c,b+=I}e(b==p),c.C=c.Ma=p}function ma(){this.ub=this.yd=this.td=this.Rb=0}function Za(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Au(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function wr(){this.Yb=(function(){var c=[];return(function p(b,x,A){for(var O=A[x],I=0;I<O&&(b.push(A.length>x+1?[]:0),!(A.length<x+1));I++)p(b[I],x+1,A)})(c,0,[3,11]),c})()}function Cl(){this.jb=o(3),this.Wc=u([4,8],wr),this.Xc=u([4,17],wr)}function eo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ii(){this.ld=this.La=this.dd=this.tc=0}function Gs(){this.Na=this.la=0}function Pl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function to(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function va(){this.uc=this.M=this.Nb=0,this.wa=Array(new ii),this.Y=0,this.ya=Array(new to),this.aa=0,this.l=new ro}function si(){this.y=o(16),this.f=o(8),this.ea=o(8)}function jl(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new ma,this.Kc=new Za,this.ed=new eo,this.Qa=new Au,this.Ic=this.$c=this.Aa=0,this.D=new va,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,N),this.ia=0,this.pb=h(4,Pl),this.Pa=new Cl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new si),this.Hd=0,this.rb=Array(new Gs),this.sb=0,this.wa=Array(new ii),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new to),this.L=this.aa=0,this.gd=u([4,2],ii),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vr(c,p){return 0>c?0:c>p?p:c}function ro(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Eu(){var c=new jl;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,qa||(qa=ts)),c}function Gr(c,p,b){return c.a==0&&(c.a=p,c.sc=b,c.cb=0),0}function ya(c,p,b){return 3<=b&&c[p+0]==157&&c[p+1]==1&&c[p+2]==42}function ai(c,p){if(c==null)return 0;if(c.a=0,c.sc="OK",p==null)return Gr(c,2,"null VP8Io passed to VP8GetHeaders()");var b=p.data,x=p.w,A=p.ha;if(4>A)return Gr(c,7,"Truncated header.");var O=b[x+0]|b[x+1]<<8|b[x+2]<<16,I=c.Od;if(I.Rb=!(1&O),I.td=O>>1&7,I.yd=O>>4&1,I.ub=O>>5,3<I.td)return Gr(c,3,"Incorrect keyframe parameters.");if(!I.yd)return Gr(c,4,"Frame not displayable.");x+=3,A-=3;var F=c.Kc;if(I.Rb){if(7>A)return Gr(c,7,"cannot parse picture header");if(!ya(b,x,A))return Gr(c,3,"Bad code word");F.c=16383&(b[x+4]<<8|b[x+3]),F.Td=b[x+4]>>6,F.i=16383&(b[x+6]<<8|b[x+5]),F.Ud=b[x+6]>>6,x+=7,A-=7,c.za=F.c+15>>4,c.Ub=F.i+15>>4,p.width=F.c,p.height=F.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,a((O=c.Pa).jb,0,255,O.jb.length),e((O=c.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,a(O.Zb,0,0,O.Zb.length),a(O.Lb,0,0,O.Lb)}if(I.ub>A)return Gr(c,7,"bad partition length");Ee(O=c.m,b,x,I.ub),x+=I.ub,A-=I.ub,I.Rb&&(F.Ld=_e(O),F.Kd=_e(O)),F=c.Qa;var D,B=c.Pa;if(e(O!=null),e(F!=null),F.Cb=_e(O),F.Cb){if(F.Bb=_e(O),_e(O)){for(F.Fb=_e(O),D=0;4>D;++D)F.Zb[D]=_e(O)?Z(O,7):0;for(D=0;4>D;++D)F.Lb[D]=_e(O)?Z(O,6):0}if(F.Bb)for(D=0;3>D;++D)B.jb[D]=_e(O)?Ne(O,8):255}else F.Bb=0;if(O.Ka)return Gr(c,3,"cannot parse segment header");if((F=c.ed).zd=_e(O),F.Tb=Ne(O,6),F.wb=Ne(O,3),F.Pc=_e(O),F.Pc&&_e(O)){for(B=0;4>B;++B)_e(O)&&(F.vd[B]=Z(O,6));for(B=0;4>B;++B)_e(O)&&(F.od[B]=Z(O,6))}if(c.L=F.Tb==0?0:F.zd?1:2,O.Ka)return Gr(c,3,"cannot parse filter header");var ie=A;if(A=D=x,x=D+ie,F=ie,c.Xb=(1<<Ne(c.m,2))-1,ie<3*(B=c.Xb))b=7;else{for(D+=3*B,F-=3*B,ie=0;ie<B;++ie){var ge=b[A+0]|b[A+1]<<8|b[A+2]<<16;ge>F&&(ge=F),Ee(c.Jc[+ie],b,D,ge),D+=ge,F-=ge,A+=3}Ee(c.Jc[+B],b,D,F),b=D<x?0:5}if(b!=0)return Gr(c,b,"cannot parse partitions");for(b=Ne(D=c.m,7),A=_e(D)?Z(D,4):0,x=_e(D)?Z(D,4):0,F=_e(D)?Z(D,4):0,B=_e(D)?Z(D,4):0,D=_e(D)?Z(D,4):0,ie=c.Qa,ge=0;4>ge;++ge){if(ie.Cb){var W=ie.Zb[ge];ie.Fb||(W+=b)}else{if(0<ge){c.pb[ge]=c.pb[0];continue}W=b}var oe=c.pb[ge];oe.Sc[0]=bo[Vr(W+A,127)],oe.Sc[1]=il[Vr(W+0,127)],oe.Eb[0]=2*bo[Vr(W+x,127)],oe.Eb[1]=101581*il[Vr(W+F,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=bo[Vr(W+B,117)],oe.Qc[1]=il[Vr(W+D,127)],oe.lc=W+D}if(!I.Rb)return Gr(c,4,"Not a key frame.");for(_e(O),I=c.Pa,b=0;4>b;++b){for(A=0;8>A;++A)for(x=0;3>x;++x)for(F=0;11>F;++F)B=je(O,Fh[b][A][x][F])?Ne(O,8):_c[b][A][x][F],I.Wc[b][A].Yb[x][F]=B;for(A=0;17>A;++A)I.Xc[b][A]=I.Wc[b][Uu[A]]}return c.kc=_e(O),c.kc&&(c.Bd=Ne(O,8)),c.cb=1}function ts(c,p,b,x,A,O,I){var F=p[A].Yb[b];for(b=0;16>A;++A){if(!je(c,F[b+0]))return A;for(;!je(c,F[b+1]);)if(F=p[++A].Yb[0],b=0,A==16)return 16;var D=p[A+1].Yb;if(je(c,F[b+2])){var B=c,ie=0;if(je(B,(W=F)[(ge=b)+3]))if(je(B,W[ge+6])){for(F=0,ge=2*(ie=je(B,W[ge+8]))+(W=je(B,W[ge+9+ie])),ie=0,W=Mu[ge];W[F];++F)ie+=ie+je(B,W[F]);ie+=3+(8<<ge)}else je(B,W[ge+7])?(ie=7+2*je(B,165),ie+=je(B,145)):ie=5+je(B,159);else ie=je(B,W[ge+4])?3+je(B,W[ge+5]):2;F=D[2]}else ie=1,F=D[1];D=I+Du[A],0>(B=c).b&&me(B);var ge,W=B.b,oe=(ge=B.Ca>>1)-(B.I>>W)>>31;--B.b,B.Ca+=oe,B.Ca|=1,B.I-=(ge+1&oe)<<W,O[D]=((ie^oe)-oe)*x[(0<A)+0]}return 16}function wa(c){var p=c.rb[c.sb-1];p.la=0,p.Na=0,a(c.zc,0,0,c.zc.length),c.ja=0}function yi(c,p,b,x,A){A=c[p+b+32*x]+(A>>3),c[p+b+32*x]=-256&A?0>A?0:255:A}function nn(c,p,b,x,A,O){yi(c,p,0,b,x+A),yi(c,p,1,b,x+O),yi(c,p,2,b,x-O),yi(c,p,3,b,x-A)}function Fi(c){return(20091*c>>16)+c}function qo(c,p,b,x){var A,O=0,I=o(16);for(A=0;4>A;++A){var F=c[p+0]+c[p+8],D=c[p+0]-c[p+8],B=(35468*c[p+4]>>16)-Fi(c[p+12]),ie=Fi(c[p+4])+(35468*c[p+12]>>16);I[O+0]=F+ie,I[O+1]=D+B,I[O+2]=D-B,I[O+3]=F-ie,O+=4,p++}for(A=O=0;4>A;++A)F=(c=I[O+0]+4)+I[O+8],D=c-I[O+8],B=(35468*I[O+4]>>16)-Fi(I[O+12]),yi(b,x,0,0,F+(ie=Fi(I[O+4])+(35468*I[O+12]>>16))),yi(b,x,1,0,D+B),yi(b,x,2,0,D-B),yi(b,x,3,0,F-ie),O++,x+=32}function zo(c,p,b,x){var A=c[p+0]+4,O=35468*c[p+4]>>16,I=Fi(c[p+4]),F=35468*c[p+1]>>16;nn(b,x,0,A+I,c=Fi(c[p+1]),F),nn(b,x,1,A+O,c,F),nn(b,x,2,A-O,c,F),nn(b,x,3,A-I,c,F)}function ba(c,p,b,x,A){qo(c,p,b,x),A&&qo(c,p+16,b,x+4)}function rs(c,p,b,x){Fa(c,p+0,b,x,1),Fa(c,p+32,b,x+128,1)}function no(c,p,b,x){var A;for(c=c[p+0]+4,A=0;4>A;++A)for(p=0;4>p;++p)yi(b,x,p,A,c)}function Jt(c,p,b,x){c[p+0]&&Qt(c,p+0,b,x),c[p+16]&&Qt(c,p+16,b,x+4),c[p+32]&&Qt(c,p+32,b,x+128),c[p+48]&&Qt(c,p+48,b,x+128+4)}function _a(c,p,b,x){var A,O=o(16);for(A=0;4>A;++A){var I=c[p+0+A]+c[p+12+A],F=c[p+4+A]+c[p+8+A],D=c[p+4+A]-c[p+8+A],B=c[p+0+A]-c[p+12+A];O[0+A]=I+F,O[8+A]=I-F,O[4+A]=B+D,O[12+A]=B-D}for(A=0;4>A;++A)I=(c=O[0+4*A]+3)+O[3+4*A],F=O[1+4*A]+O[2+4*A],D=O[1+4*A]-O[2+4*A],B=c-O[3+4*A],b[x+0]=I+F>>3,b[x+16]=B+D>>3,b[x+32]=I-F>>3,b[x+48]=B-D>>3,x+=64}function Ks(c,p,b){var x,A=p-32,O=Rn,I=255-c[A-1];for(x=0;x<b;++x){var F,D=O,B=I+c[p-1];for(F=0;F<b;++F)c[p+F]=D[B+c[A+F]];p+=32}}function $o(c,p){Ks(c,p,4)}function Tl(c,p){Ks(c,p,8)}function Ol(c,p){Ks(c,p,16)}function io(c,p){var b;for(b=0;16>b;++b)s(c,p+32*b,c,p-32,16)}function so(c,p){var b;for(b=16;0<b;--b)a(c,p,c[p-1],16),p+=32}function qn(c,p,b){var x;for(x=0;16>x;++x)a(p,b+32*x,c,16)}function ns(c,p){var b,x=16;for(b=0;16>b;++b)x+=c[p-1+32*b]+c[p+b-32];qn(x>>5,c,p)}function zn(c,p){var b,x=8;for(b=0;16>b;++b)x+=c[p-1+32*b];qn(x>>4,c,p)}function wi(c,p){var b,x=8;for(b=0;16>b;++b)x+=c[p+b-32];qn(x>>4,c,p)}function xa(c,p){qn(128,c,p)}function bt(c,p,b){return c+2*p+b+2>>2}function is(c,p){var b,x=p-32;for(x=new Uint8Array([bt(c[x-1],c[x+0],c[x+1]),bt(c[x+0],c[x+1],c[x+2]),bt(c[x+1],c[x+2],c[x+3]),bt(c[x+2],c[x+3],c[x+4])]),b=0;4>b;++b)s(c,p+32*b,x,0,x.length)}function Lu(c,p){var b=c[p-1],x=c[p-1+32],A=c[p-1+64],O=c[p-1+96];Ue(c,p+0,16843009*bt(c[p-1-32],b,x)),Ue(c,p+32,16843009*bt(b,x,A)),Ue(c,p+64,16843009*bt(x,A,O)),Ue(c,p+96,16843009*bt(A,O,O))}function Il(c,p){var b,x=4;for(b=0;4>b;++b)x+=c[p+b-32]+c[p-1+32*b];for(x>>=3,b=0;4>b;++b)a(c,p+32*b,x,4)}function oi(c,p){var b=c[p-1+0],x=c[p-1+32],A=c[p-1+64],O=c[p-1-32],I=c[p+0-32],F=c[p+1-32],D=c[p+2-32],B=c[p+3-32];c[p+0+96]=bt(x,A,c[p-1+96]),c[p+1+96]=c[p+0+64]=bt(b,x,A),c[p+2+96]=c[p+1+64]=c[p+0+32]=bt(O,b,x),c[p+3+96]=c[p+2+64]=c[p+1+32]=c[p+0+0]=bt(I,O,b),c[p+3+64]=c[p+2+32]=c[p+1+0]=bt(F,I,O),c[p+3+32]=c[p+2+0]=bt(D,F,I),c[p+3+0]=bt(B,D,F)}function ws(c,p){var b=c[p+1-32],x=c[p+2-32],A=c[p+3-32],O=c[p+4-32],I=c[p+5-32],F=c[p+6-32],D=c[p+7-32];c[p+0+0]=bt(c[p+0-32],b,x),c[p+1+0]=c[p+0+32]=bt(b,x,A),c[p+2+0]=c[p+1+32]=c[p+0+64]=bt(x,A,O),c[p+3+0]=c[p+2+32]=c[p+1+64]=c[p+0+96]=bt(A,O,I),c[p+3+32]=c[p+2+64]=c[p+1+96]=bt(O,I,F),c[p+3+64]=c[p+2+96]=bt(I,F,D),c[p+3+96]=bt(F,D,D)}function Rl(c,p){var b=c[p-1+0],x=c[p-1+32],A=c[p-1+64],O=c[p-1-32],I=c[p+0-32],F=c[p+1-32],D=c[p+2-32],B=c[p+3-32];c[p+0+0]=c[p+1+64]=O+I+1>>1,c[p+1+0]=c[p+2+64]=I+F+1>>1,c[p+2+0]=c[p+3+64]=F+D+1>>1,c[p+3+0]=D+B+1>>1,c[p+0+96]=bt(A,x,b),c[p+0+64]=bt(x,b,O),c[p+0+32]=c[p+1+96]=bt(b,O,I),c[p+1+32]=c[p+2+96]=bt(O,I,F),c[p+2+32]=c[p+3+96]=bt(I,F,D),c[p+3+32]=bt(F,D,B)}function ao(c,p){var b=c[p+0-32],x=c[p+1-32],A=c[p+2-32],O=c[p+3-32],I=c[p+4-32],F=c[p+5-32],D=c[p+6-32],B=c[p+7-32];c[p+0+0]=b+x+1>>1,c[p+1+0]=c[p+0+64]=x+A+1>>1,c[p+2+0]=c[p+1+64]=A+O+1>>1,c[p+3+0]=c[p+2+64]=O+I+1>>1,c[p+0+32]=bt(b,x,A),c[p+1+32]=c[p+0+96]=bt(x,A,O),c[p+2+32]=c[p+1+96]=bt(A,O,I),c[p+3+32]=c[p+2+96]=bt(O,I,F),c[p+3+64]=bt(I,F,D),c[p+3+96]=bt(F,D,B)}function Sa(c,p){var b=c[p-1+0],x=c[p-1+32],A=c[p-1+64],O=c[p-1+96];c[p+0+0]=b+x+1>>1,c[p+2+0]=c[p+0+32]=x+A+1>>1,c[p+2+32]=c[p+0+64]=A+O+1>>1,c[p+1+0]=bt(b,x,A),c[p+3+0]=c[p+1+32]=bt(x,A,O),c[p+3+32]=c[p+1+64]=bt(A,O,O),c[p+3+64]=c[p+2+64]=c[p+0+96]=c[p+1+96]=c[p+2+96]=c[p+3+96]=O}function Wo(c,p){var b=c[p-1+0],x=c[p-1+32],A=c[p-1+64],O=c[p-1+96],I=c[p-1-32],F=c[p+0-32],D=c[p+1-32],B=c[p+2-32];c[p+0+0]=c[p+2+32]=b+I+1>>1,c[p+0+32]=c[p+2+64]=x+b+1>>1,c[p+0+64]=c[p+2+96]=A+x+1>>1,c[p+0+96]=O+A+1>>1,c[p+3+0]=bt(F,D,B),c[p+2+0]=bt(I,F,D),c[p+1+0]=c[p+3+32]=bt(b,I,F),c[p+1+32]=c[p+3+64]=bt(x,b,I),c[p+1+64]=c[p+3+96]=bt(A,x,b),c[p+1+96]=bt(O,A,x)}function Mi(c,p){var b;for(b=0;8>b;++b)s(c,p+32*b,c,p-32,8)}function ka(c,p){var b;for(b=0;8>b;++b)a(c,p,c[p-1],8),p+=32}function $n(c,p,b){var x;for(x=0;8>x;++x)a(p,b+32*x,c,8)}function oo(c,p){var b,x=8;for(b=0;8>b;++b)x+=c[p+b-32]+c[p-1+32*b];$n(x>>4,c,p)}function Ho(c,p){var b,x=4;for(b=0;8>b;++b)x+=c[p+b-32];$n(x>>3,c,p)}function Vo(c,p){var b,x=4;for(b=0;8>b;++b)x+=c[p-1+32*b];$n(x>>3,c,p)}function lo(c,p){$n(128,c,p)}function bi(c,p,b){var x=c[p-b],A=c[p+0],O=3*(A-x)+cs[1020+c[p-2*b]-c[p+b]],I=yo[112+(O+4>>3)];c[p-b]=Rn[255+x+yo[112+(O+3>>3)]],c[p+0]=Rn[255+A-I]}function Na(c,p,b,x){var A=c[p+0],O=c[p+b];return Ni[255+c[p-2*b]-c[p-b]]>x||Ni[255+O-A]>x}function Aa(c,p,b,x){return 4*Ni[255+c[p-b]-c[p+0]]+Ni[255+c[p-2*b]-c[p+b]]<=x}function _i(c,p,b,x,A){var O=c[p-3*b],I=c[p-2*b],F=c[p-b],D=c[p+0],B=c[p+b],ie=c[p+2*b],ge=c[p+3*b];return 4*Ni[255+F-D]+Ni[255+I-B]>x?0:Ni[255+c[p-4*b]-O]<=A&&Ni[255+O-I]<=A&&Ni[255+I-F]<=A&&Ni[255+ge-ie]<=A&&Ni[255+ie-B]<=A&&Ni[255+B-D]<=A}function bs(c,p,b,x){var A=2*x+1;for(x=0;16>x;++x)Aa(c,p+x,b,A)&&bi(c,p+x,b)}function Js(c,p,b,x){var A=2*x+1;for(x=0;16>x;++x)Aa(c,p+x*b,1,A)&&bi(c,p+x*b,1)}function Go(c,p,b,x){var A;for(A=3;0<A;--A)bs(c,p+=4*b,b,x)}function Ea(c,p,b,x){var A;for(A=3;0<A;--A)Js(c,p+=4,b,x)}function xi(c,p,b,x,A,O,I,F){for(O=2*O+1;0<A--;){if(_i(c,p,b,O,I))if(Na(c,p,b,F))bi(c,p,b);else{var D=c,B=p,ie=b,ge=D[B-2*ie],W=D[B-ie],oe=D[B+0],fe=D[B+ie],Pe=D[B+2*ie],ye=27*(Ce=cs[1020+3*(oe-W)+cs[1020+ge-fe]])+63>>7,Le=18*Ce+63>>7,Ce=9*Ce+63>>7;D[B-3*ie]=Rn[255+D[B-3*ie]+Ce],D[B-2*ie]=Rn[255+ge+Le],D[B-ie]=Rn[255+W+ye],D[B+0]=Rn[255+oe-ye],D[B+ie]=Rn[255+fe-Le],D[B+2*ie]=Rn[255+Pe-Ce]}p+=x}}function ss(c,p,b,x,A,O,I,F){for(O=2*O+1;0<A--;){if(_i(c,p,b,O,I))if(Na(c,p,b,F))bi(c,p,b);else{var D=c,B=p,ie=b,ge=D[B-ie],W=D[B+0],oe=D[B+ie],fe=yo[112+(4+(Pe=3*(W-ge))>>3)],Pe=yo[112+(Pe+3>>3)],ye=fe+1>>1;D[B-2*ie]=Rn[255+D[B-2*ie]+ye],D[B-ie]=Rn[255+ge+Pe],D[B+0]=Rn[255+W-fe],D[B+ie]=Rn[255+oe-ye]}p+=x}}function An(c,p,b,x,A,O){xi(c,p,b,1,16,x,A,O)}function Si(c,p,b,x,A,O){xi(c,p,1,b,16,x,A,O)}function uo(c,p,b,x,A,O){var I;for(I=3;0<I;--I)ss(c,p+=4*b,b,1,16,x,A,O)}function m(c,p,b,x,A,O){var I;for(I=3;0<I;--I)ss(c,p+=4,1,b,16,x,A,O)}function E(c,p,b,x,A,O,I,F){xi(c,p,A,1,8,O,I,F),xi(b,x,A,1,8,O,I,F)}function V(c,p,b,x,A,O,I,F){xi(c,p,1,A,8,O,I,F),xi(b,x,1,A,8,O,I,F)}function re(c,p,b,x,A,O,I,F){ss(c,p+4*A,A,1,8,O,I,F),ss(b,x+4*A,A,1,8,O,I,F)}function ce(c,p,b,x,A,O,I,F){ss(c,p+4,1,A,8,O,I,F),ss(b,x+4,1,A,8,O,I,F)}function Te(){this.ba=new jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Re(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function it(){this.ua=0,this.Wa=new Ot,this.vb=new Ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Se,this.yc=new te}function Nt(){this.xb=this.a=0,this.l=new ro,this.ca=new jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new it,this.ab=0,this.gc=h(4,Xe),this.Oc=0}function Pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ro,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gt(c,p,b,x,A,O,I){for(c=c==null?0:c[p+0],p=0;p<I;++p)A[O+p]=c+b[x+p]&255,c=A[O+p]}function Ar(c,p,b,x,A,O,I){var F;if(c==null)Gt(null,null,b,x,A,O,I);else for(F=0;F<I;++F)A[O+F]=c[p+F]+b[x+F]&255}function Kr(c,p,b,x,A,O,I){if(c==null)Gt(null,null,b,x,A,O,I);else{var F,D=c[p+0],B=D,ie=D;for(F=0;F<I;++F)B=ie+(D=c[p+F])-B,ie=b[x+F]+(-256&B?0>B?0:255:B)&255,B=D,A[O+F]=ie}}function vr(c,p,b,x){var A=p.width,O=p.o;if(e(c!=null&&p!=null),0>b||0>=x||b+x>O)return null;if(!c.Cc){if(c.ga==null){var I;if(c.ga=new Pt,(I=c.ga==null)||(I=p.width*p.o,e(c.Gb.length==0),c.Gb=o(I),c.Uc=0,c.Gb==null?I=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,I=1),I=!I),!I){I=c.ga;var F=c.Fa,D=c.P,B=c.qc,ie=c.mb,ge=c.nb,W=D+1,oe=B-1,fe=I.l;if(e(F!=null&&ie!=null&&p!=null),En[0]=null,En[1]=Gt,En[2]=Ar,En[3]=Kr,I.ca=ie,I.tb=ge,I.c=p.width,I.i=p.height,e(0<I.c&&0<I.i),1>=B)p=0;else if(I.$a=3&F[D+0],I.Z=F[D+0]>>2&3,I.Lc=F[D+0]>>4&3,D=F[D+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||D)p=0;else if(fe.put=vt,fe.ac=gi,fe.bc=ri,fe.ma=I,fe.width=p.width,fe.height=p.height,fe.Da=p.Da,fe.v=p.v,fe.va=p.va,fe.j=p.j,fe.o=p.o,I.$a)e:{e(I.$a==1),p=pa();t:for(;;){if(p==null){p=0;break e}if(e(I!=null),I.mc=p,p.c=I.c,p.i=I.i,p.l=I.l,p.l.ma=I,p.l.width=I.c,p.l.height=I.i,p.a=0,he(p.m,F,W,oe),!Ri(I.c,I.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Ii(p.s)?(I.ic=1,F=p.c*p.i,p.Ta=null,p.Ua=0,p.V=o(F),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(I.ic=0,p=Vs(p,I.c)),!p))break t;p=1;break e}I.mc=null,p=0}else p=oe>=I.c*I.i;I=!p}if(I)return null;c.ga.Lc!=1?c.Ga=0:x=O-b}e(c.ga!=null),e(b+x<=O);e:{if(p=(F=c.ga).c,O=F.l.o,F.$a==0){if(W=c.rc,oe=c.Vc,fe=c.Fa,D=c.P+1+b*p,B=c.mb,ie=c.nb+b*p,e(D<=c.P+c.qc),F.Z!=0)for(e(En[F.Z]!=null),I=0;I<x;++I)En[F.Z](W,oe,fe,D,B,ie,p),W=B,oe=ie,ie+=p,D+=p;else for(I=0;I<x;++I)s(B,ie,fe,D,p),W=B,oe=ie,ie+=p,D+=p;c.rc=W,c.Vc=oe}else{if(e(F.mc!=null),p=b+x,e((I=F.mc)!=null),e(p<=I.i),I.C>=p)p=1;else if(F.ic||Di(),F.ic){F=I.V,W=I.Ba,oe=I.c;var Pe=I.i,ye=(fe=1,D=I.$/oe,B=I.$%oe,ie=I.m,ge=I.s,I.$),Le=oe*Pe,Ce=oe*p,Oe=ge.wc,Ie=ye<Ce?Hr(ge,B,D):null;e(ye<=Le),e(p<=Pe),e(Ii(ge));t:for(;;){for(;!ie.h&&ye<Ce;){if(B&Oe||(Ie=Hr(ge,B,D)),e(Ie!=null),ue(ie),256>(Pe=mr(Ie.G[0],Ie.H[0],ie)))F[W+ye]=Pe,++ye,++B>=oe&&(B=0,++D<=p&&!(D%16)&&yn(I,D));else{if(!(280>Pe)){fe=0;break t}Pe=Nn(Pe-256,ie);var st,Ke=mr(Ie.G[4],Ie.H[4],ie);if(ue(ie),!(ye>=(Ke=mi(oe,Ke=Nn(Ke,ie)))&&Le-ye>=Pe)){fe=0;break t}for(st=0;st<Pe;++st)F[W+ye+st]=F[W+ye+st-Ke];for(ye+=Pe,B+=Pe;B>=oe;)B-=oe,++D<=p&&!(D%16)&&yn(I,D);ye<Ce&&B&Oe&&(Ie=Hr(ge,B,D))}e(ie.h==Q(ie))}yn(I,D>p?p:D);break t}!fe||ie.h&&ye<Le?(fe=0,I.a=ie.h?5:3):I.$=ye,p=fe}else p=vi(I,I.V,I.Ba,I.c,I.i,p,ga);if(!p){x=0;break e}}b+x>=O&&(c.Cc=1),x=1}if(!x)return null;if(c.Cc&&((x=c.ga)!=null&&(x.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+b*A}function sn(c,p,b,x,A,O){for(;0<A--;){var I,F=c,D=p+(b?1:0),B=c,ie=p+(b?0:3);for(I=0;I<x;++I){var ge=B[ie+4*I];ge!=255&&(ge*=32897,F[D+4*I+0]=F[D+4*I+0]*ge>>23,F[D+4*I+1]=F[D+4*I+1]*ge>>23,F[D+4*I+2]=F[D+4*I+2]*ge>>23)}p+=O}}function Mr(c,p,b,x,A){for(;0<x--;){var O;for(O=0;O<b;++O){var I=c[p+2*O+0],F=15&(B=c[p+2*O+1]),D=4369*F,B=(240&B|B>>4)*D>>16;c[p+2*O+0]=(240&I|I>>4)*D>>16&240|(15&I|I<<4)*D>>16>>4&15,c[p+2*O+1]=240&B|F}p+=A}}function wn(c,p,b,x,A,O,I,F){var D,B,ie=255;for(B=0;B<A;++B){for(D=0;D<x;++D){var ge=c[p+D];O[I+4*D]=ge,ie&=ge}p+=b,I+=F}return ie!=255}function _s(c,p,b,x,A){var O;for(O=0;O<A;++O)b[x+O]=c[p+O]>>8}function Di(){Da=sn,Pu=Mr,Qo=wn,ju=_s}function xs(c,p,b){Y[c]=function(x,A,O,I,F,D,B,ie,ge,W,oe,fe,Pe,ye,Le,Ce,Oe){var Ie,st=Oe-1>>1,Ke=F[D+0]|B[ie+0]<<16,Tt=ge[W+0]|oe[fe+0]<<16;e(x!=null);var Qe=3*Ke+Tt+131074>>2;for(p(x[A+0],255&Qe,Qe>>16,Pe,ye),O!=null&&(Qe=3*Tt+Ke+131074>>2,p(O[I+0],255&Qe,Qe>>16,Le,Ce)),Ie=1;Ie<=st;++Ie){var $t=F[D+Ie]|B[ie+Ie]<<16,jr=ge[W+Ie]|oe[fe+Ie]<<16,It=Ke+$t+Tt+jr+524296,Je=It+2*($t+Tt)>>3;Qe=Je+Ke>>1,Ke=(It=It+2*(Ke+jr)>>3)+$t>>1,p(x[A+2*Ie-1],255&Qe,Qe>>16,Pe,ye+(2*Ie-1)*b),p(x[A+2*Ie-0],255&Ke,Ke>>16,Pe,ye+(2*Ie-0)*b),O!=null&&(Qe=It+Tt>>1,Ke=Je+jr>>1,p(O[I+2*Ie-1],255&Qe,Qe>>16,Le,Ce+(2*Ie-1)*b),p(O[I+2*Ie+0],255&Ke,Ke>>16,Le,Ce+(2*Ie+0)*b)),Ke=$t,Tt=jr}1&Oe||(Qe=3*Ke+Tt+131074>>2,p(x[A+Oe-1],255&Qe,Qe>>16,Pe,ye+(Oe-1)*b),O!=null&&(Qe=3*Tt+Ke+131074>>2,p(O[I+Oe-1],255&Qe,Qe>>16,Le,Ce+(Oe-1)*b)))}}function La(){Vn[Ul]=Mh,Vn[ia]=sa,Vn[vc]=Dh,Vn[Zo]=xo,Vn[el]=za,Vn[ur]=sl,Vn[Bl]=Bu,Vn[wo]=sa,Vn[Ua]=xo,Vn[tl]=za,Vn[rl]=sl}function co(c){return c&-16384?0>c?0:255:c>>aa}function Ys(c,p){return co((19077*c>>8)+(26149*p>>8)-14234)}function Ca(c,p,b){return co((19077*c>>8)-(6419*p>>8)-(13320*b>>8)+8708)}function Xs(c,p){return co((19077*c>>8)+(33050*p>>8)-17685)}function Qs(c,p,b,x,A){x[A+0]=Ys(c,b),x[A+1]=Ca(c,p,b),x[A+2]=Xs(c,p)}function bn(c,p,b,x,A){x[A+0]=Xs(c,p),x[A+1]=Ca(c,p,b),x[A+2]=Ys(c,b)}function Pa(c,p,b,x,A){var O=Ca(c,p,b);p=O<<3&224|Xs(c,p)>>3,x[A+0]=248&Ys(c,b)|O>>5,x[A+1]=p}function ja(c,p,b,x,A){var O=240&Xs(c,p)|15;x[A+0]=240&Ys(c,b)|Ca(c,p,b)>>4,x[A+1]=O}function Ko(c,p,b,x,A){x[A+0]=255,Qs(c,p,b,x,A+1)}function Jo(c,p,b,x,A){bn(c,p,b,x,A),x[A+3]=255}function In(c,p,b,x,A){Qs(c,p,b,x,A),x[A+3]=255}function Ui(c,p,b){Y[c]=function(x,A,O,I,F,D,B,ie,ge){for(var W=ie+(-2&ge)*b;ie!=W;)p(x[A+0],O[I+0],F[D+0],B,ie),p(x[A+1],O[I+0],F[D+0],B,ie+b),A+=2,++I,++D,ie+=2*b;1&ge&&p(x[A+0],O[I+0],F[D+0],B,ie)}}function as(c,p,b){return b==0?c==0?p==0?6:5:p==0?4:0:b}function Fl(c,p,b,x,A){switch(c>>>30){case 3:Fa(p,b,x,A,0);break;case 2:Cr(p,b,x,A);break;case 1:Qt(p,b,x,A)}}function li(c,p){var b,x,A=p.M,O=p.Nb,I=c.oc,F=c.pc+40,D=c.oc,B=c.pc+584,ie=c.oc,ge=c.pc+600;for(b=0;16>b;++b)I[F+32*b-1]=129;for(b=0;8>b;++b)D[B+32*b-1]=129,ie[ge+32*b-1]=129;for(0<A?I[F-1-32]=D[B-1-32]=ie[ge-1-32]=129:(a(I,F-32-1,127,21),a(D,B-32-1,127,9),a(ie,ge-32-1,127,9)),x=0;x<c.za;++x){var W=p.ya[p.aa+x];if(0<x){for(b=-1;16>b;++b)s(I,F+32*b-4,I,F+32*b+12,4);for(b=-1;8>b;++b)s(D,B+32*b-4,D,B+32*b+4,4),s(ie,ge+32*b-4,ie,ge+32*b+4,4)}var oe=c.Gd,fe=c.Hd+x,Pe=W.ad,ye=W.Hc;if(0<A&&(s(I,F-32,oe[fe].y,0,16),s(D,B-32,oe[fe].f,0,8),s(ie,ge-32,oe[fe].ea,0,8)),W.Za){var Le=I,Ce=F-32+16;for(0<A&&(x>=c.za-1?a(Le,Ce,oe[fe].y[15],4):s(Le,Ce,oe[fe+1].y,0,4)),b=0;4>b;b++)Le[Ce+128+b]=Le[Ce+256+b]=Le[Ce+384+b]=Le[Ce+0+b];for(b=0;16>b;++b,ye<<=2)Le=I,Ce=F+qu[b],Ai[W.Ob[b]](Le,Ce),Fl(ye,Pe,16*+b,Le,Ce)}else if(Le=as(x,A,W.Ob[0]),Fn[Le](I,F),ye!=0)for(b=0;16>b;++b,ye<<=2)Fl(ye,Pe,16*+b,I,F+qu[b]);for(b=W.Gc,Le=as(x,A,W.Dd),Hn[Le](D,B),Hn[Le](ie,ge),ye=Pe,Le=D,Ce=B,255&(W=0|b)&&(170&W?Wn(ye,256,Le,Ce):ar(ye,256,Le,Ce)),W=ie,ye=ge,255&(b>>=8)&&(170&b?Wn(Pe,320,W,ye):ar(Pe,320,W,ye)),A<c.Ub-1&&(s(oe[fe].y,0,I,F+480,16),s(oe[fe].f,0,D,B+224,8),s(oe[fe].ea,0,ie,ge+224,8)),b=8*O*c.B,oe=c.sa,fe=c.ta+16*x+16*O*c.R,Pe=c.qa,W=c.ra+8*x+b,ye=c.Ha,Le=c.Ia+8*x+b,b=0;16>b;++b)s(oe,fe+b*c.R,I,F+32*b,16);for(b=0;8>b;++b)s(Pe,W+b*c.B,D,B+32*b,8),s(ye,Le+b*c.B,ie,ge+32*b,8)}}function Zs(c,p,b,x,A,O,I,F,D){var B=[0],ie=[0],ge=0,W=D!=null?D.kd:0,oe=D??new Re;if(c==null||12>b)return 7;oe.data=c,oe.w=p,oe.ha=b,p=[p],b=[b],oe.gb=[oe.gb];e:{var fe=p,Pe=b,ye=oe.gb;if(e(c!=null),e(Pe!=null),e(ye!=null),ye[0]=0,12<=Pe[0]&&!t(c,fe[0],"RIFF")){if(t(c,fe[0]+8,"WEBP")){ye=3;break e}var Le=ot(c,fe[0]+4);if(12>Le||4294967286<Le){ye=3;break e}if(W&&Le>Pe[0]-8){ye=7;break e}ye[0]=Le,fe[0]+=12,Pe[0]-=12}ye=0}if(ye!=0)return ye;for(Le=0<oe.gb[0],b=b[0];;){e:{var Ce=c;Pe=p,ye=b;var Oe=B,Ie=ie,st=fe=[0];if((Qe=ge=[ge])[0]=0,8>ye[0])ye=7;else{if(!t(Ce,Pe[0],"VP8X")){if(ot(Ce,Pe[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var Ke=ot(Ce,Pe[0]+8),Tt=1+$e(Ce,Pe[0]+12);if(2147483648<=Tt*(Ce=1+$e(Ce,Pe[0]+15))){ye=3;break e}st!=null&&(st[0]=Ke),Oe!=null&&(Oe[0]=Tt),Ie!=null&&(Ie[0]=Ce),Pe[0]+=18,ye[0]-=18,Qe[0]=1}ye=0}}if(ge=ge[0],fe=fe[0],ye!=0)return ye;if(Pe=!!(2&fe),!Le&&ge)return 3;if(O!=null&&(O[0]=!!(16&fe)),I!=null&&(I[0]=Pe),F!=null&&(F[0]=0),I=B[0],fe=ie[0],ge&&Pe&&D==null){ye=0;break}if(4>b){ye=7;break}if(Le&&ge||!Le&&!ge&&!t(c,p[0],"ALPH")){b=[b],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Ke=c,ye=p,Le=b;var Qe=oe.gb;Oe=oe.na,Ie=oe.P,st=oe.Sa,Tt=22,e(Ke!=null),e(Le!=null),Ce=ye[0];var $t=Le[0];for(e(Oe!=null),e(st!=null),Oe[0]=null,Ie[0]=null,st[0]=0;;){if(ye[0]=Ce,Le[0]=$t,8>$t){ye=7;break e}var jr=ot(Ke,Ce+4);if(4294967286<jr){ye=3;break e}var It=8+jr+1&-2;if(Tt+=It,0<Qe&&Tt>Qe){ye=3;break e}if(!t(Ke,Ce,"VP8 ")||!t(Ke,Ce,"VP8L")){ye=0;break e}if($t[0]<It){ye=7;break e}t(Ke,Ce,"ALPH")||(Oe[0]=Ke,Ie[0]=Ce+8,st[0]=jr),Ce+=It,$t-=It}}if(b=b[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],ye!=0)break}b=[b],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(Qe=c,ye=p,Le=b,Oe=oe.gb[0],Ie=oe.Ja,st=oe.xa,Ke=ye[0],Ce=!t(Qe,Ke,"VP8 "),Tt=!t(Qe,Ke,"VP8L"),e(Qe!=null),e(Le!=null),e(Ie!=null),e(st!=null),8>Le[0])ye=7;else{if(Ce||Tt){if(Qe=ot(Qe,Ke+4),12<=Oe&&Qe>Oe-12){ye=3;break e}if(W&&Qe>Le[0]-8){ye=7;break e}Ie[0]=Qe,ye[0]+=8,Le[0]-=8,st[0]=Tt}else st[0]=5<=Le[0]&&Qe[Ke+0]==47&&!(Qe[Ke+4]>>5),Ie[0]=Le[0];ye=0}if(b=b[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],p=p[0],ye!=0)break;if(4294967286<oe.Ja)return 3;if(F==null||Pe||(F[0]=oe.xa?2:1),I=[I],fe=[fe],oe.xa){if(5>b){ye=7;break}F=I,W=fe,Pe=O,c==null||5>b?c=0:5<=b&&c[p+0]==47&&!(c[p+4]>>5)?(Le=[0],Qe=[0],Oe=[0],he(Ie=new U,c,p,b),Oi(Ie,Le,Qe,Oe)?(F!=null&&(F[0]=Le[0]),W!=null&&(W[0]=Qe[0]),Pe!=null&&(Pe[0]=Oe[0]),c=1):c=0):c=0}else{if(10>b){ye=7;break}F=fe,c==null||10>b||!ya(c,p+3,b-3)?c=0:(W=c[p+0]|c[p+1]<<8|c[p+2]<<16,Pe=16383&(c[p+7]<<8|c[p+6]),c=16383&(c[p+9]<<8|c[p+8]),1&W||3<(W>>1&7)||!(W>>4&1)||W>>5>=oe.Ja||!Pe||!c?c=0:(I&&(I[0]=Pe),F&&(F[0]=c),c=1))}if(!c||(I=I[0],fe=fe[0],ge&&(B[0]!=I||ie[0]!=fe)))return 3;D!=null&&(D[0]=oe,D.offset=p-D.w,e(4294967286>p-D.w),e(D.offset==D.ha-b));break}return ye==0||ye==7&&ge&&D==null?(O!=null&&(O[0]|=oe.na!=null&&0<oe.na.length),x!=null&&(x[0]=I),A!=null&&(A[0]=fe),0):ye}function ho(c,p,b){var x=p.width,A=p.height,O=0,I=0,F=x,D=A;if(p.Da=c!=null&&0<c.Da,p.Da&&(F=c.cd,D=c.bd,O=c.v,I=c.j,11>b||(O&=-2,I&=-2),0>O||0>I||0>=F||0>=D||O+F>x||I+D>A))return 0;if(p.v=O,p.j=I,p.va=O+F,p.o=I+D,p.U=F,p.T=D,p.da=c!=null&&0<c.da,p.da){if(!pt(F,D,b=[c.ib],O=[c.hb]))return 0;p.ib=b[0],p.hb=O[0]}return p.ob=c!=null&&c.ob,p.Kb=c==null||!c.Sd,p.da&&(p.ob=p.ib<3*x/4&&p.hb<3*A/4,p.Kb=0),1}function fo(c){if(c==null)return 2;if(11>c.S){var p=c.f.RGBA;p.fb+=(c.height-1)*p.A,p.A=-p.A}else p=c.f.kb,c=c.height,p.O+=(c-1)*p.fa,p.fa=-p.fa,p.N+=(c-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(c-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(c-1)*p.lb,p.lb=-p.lb);return 0}function Ss(c,p,b,x){if(x==null||0>=c||0>=p)return 2;if(b!=null){if(b.Da){var A=b.cd,O=b.bd,I=-2&b.v,F=-2&b.j;if(0>I||0>F||0>=A||0>=O||I+A>c||F+O>p)return 2;c=A,p=O}if(b.da){if(!pt(c,p,A=[b.ib],O=[b.hb]))return 2;c=A[0],p=O[0]}}x.width=c,x.height=p;e:{var D=x.width,B=x.height;if(c=x.S,0>=D||0>=B||!(c>=Ul&&13>c))c=2;else{if(0>=x.Rd&&x.sd==null){I=O=A=p=0;var ie=(F=D*al[c])*B;if(11>c||(O=(B+1)/2*(p=(D+1)/2),c==12&&(I=(A=D)*B)),(B=o(ie+2*O+I))==null){c=1;break e}x.sd=B,11>c?((D=x.f.RGBA).eb=B,D.fb=0,D.A=F,D.size=ie):((D=x.f.kb).y=B,D.O=0,D.fa=F,D.Fd=ie,D.f=B,D.N=0+ie,D.Ab=p,D.Cd=O,D.ea=B,D.W=0+ie+O,D.Db=p,D.Ed=O,c==12&&(D.F=B,D.J=0+ie+2*O),D.Tc=I,D.lb=A)}if(p=1,A=x.S,O=x.width,I=x.height,A>=Ul&&13>A)if(11>A)c=x.f.RGBA,p&=(F=Math.abs(c.A))*(I-1)+O<=c.size,p&=F>=O*al[A],p&=c.eb!=null;else{c=x.f.kb,F=(O+1)/2,ie=(I+1)/2,D=Math.abs(c.fa),B=Math.abs(c.Ab);var ge=Math.abs(c.Db),W=Math.abs(c.lb),oe=W*(I-1)+O;p&=D*(I-1)+O<=c.Fd,p&=B*(ie-1)+F<=c.Cd,p=(p&=ge*(ie-1)+F<=c.Ed)&D>=O&B>=F&ge>=F,p&=c.y!=null,p&=c.f!=null,p&=c.ea!=null,A==12&&(p&=W>=O,p&=oe<=c.Tc,p&=c.F!=null)}else p=0;c=p?0:2}}return c!=0||b!=null&&b.fd&&(c=fo(x)),c}var ki=64,ui=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ci=24,ea=32,os=8,ks=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(c){return c},Y.Predictor2=function(c,p,b){return p[b+0]},Y.Predictor3=function(c,p,b){return p[b+1]},Y.Predictor4=function(c,p,b){return p[b-1]},Y.Predictor5=function(c,p,b){return ht(ht(c,p[b+1]),p[b+0])},Y.Predictor6=function(c,p,b){return ht(c,p[b-1])},Y.Predictor7=function(c,p,b){return ht(c,p[b+0])},Y.Predictor8=function(c,p,b){return ht(p[b-1],p[b+0])},Y.Predictor9=function(c,p,b){return ht(p[b+0],p[b+1])},Y.Predictor10=function(c,p,b){return ht(ht(c,p[b-1]),ht(p[b+0],p[b+1]))},Y.Predictor11=function(c,p,b){var x=p[b+0];return 0>=Ct(x>>24&255,c>>24&255,(p=p[b-1])>>24&255)+Ct(x>>16&255,c>>16&255,p>>16&255)+Ct(x>>8&255,c>>8&255,p>>8&255)+Ct(255&x,255&c,255&p)?x:c},Y.Predictor12=function(c,p,b){var x=p[b+0];return(Yt((c>>24&255)+(x>>24&255)-((p=p[b-1])>>24&255))<<24|Yt((c>>16&255)+(x>>16&255)-(p>>16&255))<<16|Yt((c>>8&255)+(x>>8&255)-(p>>8&255))<<8|Yt((255&c)+(255&x)-(255&p)))>>>0},Y.Predictor13=function(c,p,b){var x=p[b-1];return(Bt((c=ht(c,p[b+0]))>>24&255,x>>24&255)<<24|Bt(c>>16&255,x>>16&255)<<16|Bt(c>>8&255,x>>8&255)<<8|Bt(255&c,255&x))>>>0};var Ns=Y.PredictorAdd0;Y.PredictorAdd1=qt,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var ls=Y.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Dr,Ta=Y.ColorIndexInverseTransform,us=Y.MapARGB,Bi=Y.VP8LColorIndexInverseTransformAlpha,Oa=Y.MapAlpha,Ia=Y.VP8LPredictorsAdd=[];Ia.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var po,go,As,ta,ra,Ra,na,Fa,Cr,Wn,Qt,ar,Pr,Jr,qi,Yo,mo,Es,Ml,vo,Dl,Cu,Xo,Ma,Da,Pu,Qo,ju,Tu=o(511),Ou=o(2041),Iu=o(225),Ru=o(767),Fu=0,cs=Ou,yo=Iu,Rn=Ru,Ni=Tu,Ul=0,ia=1,vc=2,Zo=3,el=4,ur=5,Bl=6,wo=7,Ua=8,tl=9,rl=10,nl=[2,3,7],ql=[3,3,11],Ba=[280,256,256,256,40],yc=[0,1,1,1,0],Oh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ih=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zl=8,bo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],il=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qa=null,Mu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Du=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_c=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Rh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Fh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Uu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fn=[],Ai=[],Hn=[],hs=1,_o=2,En=[],Vn=[];xs("UpsampleRgbLinePair",Qs,3),xs("UpsampleBgrLinePair",bn,3),xs("UpsampleRgbaLinePair",In,4),xs("UpsampleBgraLinePair",Jo,4),xs("UpsampleArgbLinePair",Ko,4),xs("UpsampleRgba4444LinePair",ja,2),xs("UpsampleRgb565LinePair",Pa,2);var Mh=Y.UpsampleRgbLinePair,Dh=Y.UpsampleBgrLinePair,sa=Y.UpsampleRgbaLinePair,xo=Y.UpsampleBgraLinePair,za=Y.UpsampleArgbLinePair,sl=Y.UpsampleRgba4444LinePair,Bu=Y.UpsampleRgb565LinePair,Ls=16,zi=1<<Ls-1,ir=-227,or=482,aa=6,_n=0,Gn=o(256),$a=o(256),So=o(256),Kn=o(256),$l=o(or-ir),xc=o(or-ir);Ui("YuvToRgbRow",Qs,3),Ui("YuvToBgrRow",bn,3),Ui("YuvToRgbaRow",In,4),Ui("YuvToBgraRow",Jo,4),Ui("YuvToArgbRow",Ko,4),Ui("YuvToRgba4444Row",ja,2),Ui("YuvToRgb565Row",Pa,2);var qu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wa=[0,2,8],Sc=[8,7,6,4,4,2,2,2,1,1,1,1],Cs=1;this.WebPDecodeRGBA=function(c,p,b,x,A){var O=ia,I=new Te,F=new jt;I.ba=F,F.S=O,F.width=[F.width],F.height=[F.height];var D=F.width,B=F.height,ie=new mt;if(ie==null||c==null)var ge=2;else e(ie!=null),ge=Zs(c,p,b,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(ge!=0?D=0:(D!=null&&(D[0]=ie.width[0]),B!=null&&(B[0]=ie.height[0]),D=1),D){F.width=F.width[0],F.height=F.height[0],x!=null&&(x[0]=F.width),A!=null&&(A[0]=F.height);e:{if(x=new ro,(A=new Re).data=c,A.w=p,A.ha=b,A.kd=1,p=[0],e(A!=null),((c=Zs(A.data,A.w,A.ha,null,null,null,p,null,A))==0||c==7)&&p[0]&&(c=4),(p=c)==0){if(e(I!=null),x.data=A.data,x.w=A.w+A.offset,x.ha=A.ha-A.offset,x.put=vt,x.ac=gi,x.bc=ri,x.ma=I,A.xa){if((c=pa())==null){I=1;break e}if((function(W,oe){var fe=[0],Pe=[0],ye=[0];t:for(;;){if(W==null)return 0;if(oe==null)return W.a=2,0;if(W.l=oe,W.a=0,he(W.m,oe.data,oe.w,oe.ha),!Oi(W.m,fe,Pe,ye)){W.a=3;break t}if(W.xb=_o,oe.width=fe[0],oe.height=Pe[0],!Ri(fe[0],Pe[0],1,W,null))break t;return 1}return e(W.a!=0),0})(c,x)){if(x=(p=Ss(x.width,x.height,I.Oa,I.ba))==0){t:{x=c;r:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((b=x.l)!=null),e((A=b.ma)!=null),x.xb!=0){if(x.ca=A.ba,x.tb=A.tb,e(x.ca!=null),!ho(A.Oa,b,Zo)){x.a=2;break r}if(!Vs(x,b.width)||b.da)break r;if((b.da||gt(x.ca.S))&&Di(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&Di()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!q(x.s.vb,x.s.Wa.Xa)){x.a=1;break r}x.xb=0}if(!vi(x,x.V,x.Ba,x.c,x.i,b.o,Hs))break r;A.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(p=c.a)}else p=c.a}else{if((c=new Eu)==null){I=1;break e}if(c.Fa=A.na,c.P=A.P,c.qc=A.Sa,ai(c,x)){if((p=Ss(x.width,x.height,I.Oa,I.ba))==0){if(c.Aa=0,b=I.Oa,e((A=c)!=null),b!=null){if(0<(D=0>(D=b.Md)?0:100<D?255:255*D/100)){for(B=ie=0;4>B;++B)12>(ge=A.pb[B]).lc&&(ge.ia=D*Sc[0>ge.lc?0:ge.lc]>>3),ie|=ge.ia;ie&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=b.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}(function(W,oe){if(W==null)return 0;if(oe==null)return Gr(W,2,"NULL VP8Io parameter in VP8Decode().");if(!W.cb&&!ai(W,oe))return 0;if(e(W.cb),oe.ac==null||oe.ac(oe)){oe.ob&&(W.L=0);var fe=Wa[W.L];if(W.L==2?(W.yb=0,W.zb=0):(W.yb=oe.v-fe>>4,W.zb=oe.j-fe>>4,0>W.yb&&(W.yb=0),0>W.zb&&(W.zb=0)),W.Va=oe.o+15+fe>>4,W.Hb=oe.va+15+fe>>4,W.Hb>W.za&&(W.Hb=W.za),W.Va>W.Ub&&(W.Va=W.Ub),0<W.L){var Pe=W.ed;for(fe=0;4>fe;++fe){var ye;if(W.Qa.Cb){var Le=W.Qa.Lb[fe];W.Qa.Fb||(Le+=Pe.Tb)}else Le=Pe.Tb;for(ye=0;1>=ye;++ye){var Ce=W.gd[fe][ye],Oe=Le;if(Pe.Pc&&(Oe+=Pe.vd[0],ye&&(Oe+=Pe.od[0])),0<(Oe=0>Oe?0:63<Oe?63:Oe)){var Ie=Oe;0<Pe.wb&&(Ie=4<Pe.wb?Ie>>2:Ie>>1)>9-Pe.wb&&(Ie=9-Pe.wb),1>Ie&&(Ie=1),Ce.dd=Ie,Ce.tc=2*Oe+Ie,Ce.ld=40<=Oe?2:15<=Oe?1:0}else Ce.tc=0;Ce.La=ye}}}fe=0}else Gr(W,6,"Frame setup failed"),fe=W.a;if(fe=fe==0){if(fe){W.$c=0,0<W.Aa||(W.Ic=Cs);t:{fe=W.Ic,Pe=4*(Ie=W.za);var st=32*Ie,Ke=Ie+1,Tt=0<W.L?Ie*(0<W.Aa?2:1):0,Qe=(W.Aa==2?2:1)*Ie;if((Ce=Pe+832+(ye=3*(16*fe+Wa[W.L])/2*st)+(Le=W.Fa!=null&&0<W.Fa.length?W.Kc.c*W.Kc.i:0))!=Ce)fe=0;else{if(Ce>W.Vb){if(W.Vb=0,W.Ec=o(Ce),W.Fc=0,W.Ec==null){fe=Gr(W,1,"no memory during frame initialization.");break t}W.Vb=Ce}Ce=W.Ec,Oe=W.Fc,W.Ac=Ce,W.Bc=Oe,Oe+=Pe,W.Gd=h(st,si),W.Hd=0,W.rb=h(Ke+1,Gs),W.sb=1,W.wa=Tt?h(Tt,ii):null,W.Y=0,W.D.Nb=0,W.D.wa=W.wa,W.D.Y=W.Y,0<W.Aa&&(W.D.Y+=Ie),e(!0),W.oc=Ce,W.pc=Oe,Oe+=832,W.ya=h(Qe,to),W.aa=0,W.D.ya=W.ya,W.D.aa=W.aa,W.Aa==2&&(W.D.aa+=Ie),W.R=16*Ie,W.B=8*Ie,Ie=(st=Wa[W.L])*W.R,st=st/2*W.B,W.sa=Ce,W.ta=Oe+Ie,W.qa=W.sa,W.ra=W.ta+16*fe*W.R+st,W.Ha=W.qa,W.Ia=W.ra+8*fe*W.B+st,W.$c=0,Oe+=ye,W.mb=Le?Ce:null,W.nb=Le?Oe:null,e(Oe+Le<=W.Fc+W.Vb),wa(W),a(W.Ac,W.Bc,0,Pe),fe=1}}if(fe){if(oe.ka=0,oe.y=W.sa,oe.O=W.ta,oe.f=W.qa,oe.N=W.ra,oe.ea=W.Ha,oe.Vd=W.Ia,oe.fa=W.R,oe.Rc=W.B,oe.F=null,oe.J=0,!Fu){for(fe=-255;255>=fe;++fe)Tu[255+fe]=0>fe?-fe:fe;for(fe=-1020;1020>=fe;++fe)Ou[1020+fe]=-128>fe?-128:127<fe?127:fe;for(fe=-112;112>=fe;++fe)Iu[112+fe]=-16>fe?-16:15<fe?15:fe;for(fe=-255;510>=fe;++fe)Ru[255+fe]=0>fe?0:255<fe?255:fe;Fu=1}na=_a,Fa=ba,Wn=rs,Qt=no,ar=Jt,Cr=zo,Pr=An,Jr=Si,qi=E,Yo=V,mo=uo,Es=m,Ml=re,vo=ce,Dl=bs,Cu=Js,Xo=Go,Ma=Ea,Ai[0]=Il,Ai[1]=$o,Ai[2]=is,Ai[3]=Lu,Ai[4]=oi,Ai[5]=Rl,Ai[6]=ws,Ai[7]=ao,Ai[8]=Wo,Ai[9]=Sa,Fn[0]=ns,Fn[1]=Ol,Fn[2]=io,Fn[3]=so,Fn[4]=zn,Fn[5]=wi,Fn[6]=xa,Hn[0]=oo,Hn[1]=Tl,Hn[2]=Mi,Hn[3]=ka,Hn[4]=Vo,Hn[5]=Ho,Hn[6]=lo,fe=1}else fe=0}fe&&(fe=(function($t,jr){for($t.M=0;$t.M<$t.Va;++$t.M){var It,Je=$t.Jc[$t.M&$t.Xb],ze=$t.m,Ur=$t;for(It=0;It<Ur.za;++It){var St=ze,zt=Ur,yr=zt.Ac,fn=zt.Bc+4*It,Yr=zt.zc,Er=zt.ya[zt.aa+It];if(zt.Qa.Bb?Er.$b=je(St,zt.Pa.jb[0])?2+je(St,zt.Pa.jb[2]):je(St,zt.Pa.jb[1]):Er.$b=0,zt.kc&&(Er.Ad=je(St,zt.Bd)),Er.Za=!je(St,145)+0,Er.Za){var an=Er.Ob,dn=0;for(zt=0;4>zt;++zt){var xr,Ht=Yr[0+zt];for(xr=0;4>xr;++xr){Ht=Rh[yr[fn+xr]][Ht];for(var Zt=bc[je(St,Ht[0])];0<Zt;)Zt=bc[2*Zt+je(St,Ht[Zt])];Ht=-Zt,yr[fn+xr]=Ht}s(an,dn,yr,fn,4),dn+=4,Yr[0+zt]=Ht}}else Ht=je(St,156)?je(St,128)?1:3:je(St,163)?2:0,Er.Ob[0]=Ht,a(yr,fn,Ht,4),a(Yr,0,Ht,4);Er.Dd=je(St,142)?je(St,114)?je(St,183)?1:3:2:0}if(Ur.m.Ka)return Gr($t,7,"Premature end-of-partition0 encountered.");for(;$t.ja<$t.za;++$t.ja){if(Ur=Je,St=(ze=$t).rb[ze.sb-1],yr=ze.rb[ze.sb+ze.ja],It=ze.ya[ze.aa+ze.ja],fn=ze.kc?It.Ad:0)St.la=yr.la=0,It.Za||(St.Na=yr.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var Sr,er;if(St=yr,yr=Ur,fn=ze.Pa.Xc,Yr=ze.ya[ze.aa+ze.ja],Er=ze.pb[Yr.$b],zt=Yr.ad,an=0,dn=ze.rb[ze.sb-1],Ht=xr=0,a(zt,an,0,384),Yr.Za)var Tr=0,Or=fn[3];else{Zt=o(16);var cr=St.Na+dn.Na;if(cr=qa(yr,fn[1],cr,Er.Eb,0,Zt,0),St.Na=dn.Na=(0<cr)+0,1<cr)na(Zt,0,zt,an);else{var Ln=Zt[0]+3>>3;for(Zt=0;256>Zt;Zt+=16)zt[an+Zt]=Ln}Tr=1,Or=fn[0]}var lr=15&St.la,hr=15&dn.la;for(Zt=0;4>Zt;++Zt){var Xr=1&hr;for(Ln=er=0;4>Ln;++Ln)lr=lr>>1|(Xr=(cr=qa(yr,Or,cr=Xr+(1&lr),Er.Sc,Tr,zt,an))>Tr)<<7,er=er<<2|(3<cr?3:1<cr?2:zt[an+0]!=0),an+=16;lr>>=4,hr=hr>>1|Xr<<7,xr=(xr<<8|er)>>>0}for(Or=lr,Tr=hr>>4,Sr=0;4>Sr;Sr+=2){for(er=0,lr=St.la>>4+Sr,hr=dn.la>>4+Sr,Zt=0;2>Zt;++Zt){for(Xr=1&hr,Ln=0;2>Ln;++Ln)cr=Xr+(1&lr),lr=lr>>1|(Xr=0<(cr=qa(yr,fn[2],cr,Er.Qc,0,zt,an)))<<3,er=er<<2|(3<cr?3:1<cr?2:zt[an+0]!=0),an+=16;lr>>=2,hr=hr>>1|Xr<<5}Ht|=er<<4*Sr,Or|=lr<<4<<Sr,Tr|=(240&hr)<<Sr}St.la=Or,dn.la=Tr,Yr.Hc=xr,Yr.Gc=Ht,Yr.ia=43690&Ht?0:Er.ia,fn=!(xr|Ht)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[It.$b][It.Za],ze.wa[ze.Y+ze.ja].La|=!fn),Ur.Ka)return Gr($t,7,"Premature end-of-file encountered.")}if(wa($t),ze=jr,Ur=1,It=(Je=$t).D,St=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,Je.Aa==0)t:{if(It.M=Je.M,It.uc=St,li(Je,It),Ur=1,It=(er=Je.D).Nb,St=(Ht=Wa[Je.L])*Je.R,yr=Ht/2*Je.B,Zt=16*It*Je.R,Ln=8*It*Je.B,fn=Je.sa,Yr=Je.ta-St+Zt,Er=Je.qa,zt=Je.ra-yr+Ln,an=Je.Ha,dn=Je.Ia-yr+Ln,hr=(lr=er.M)==0,xr=lr>=Je.Va-1,Je.Aa==2&&li(Je,er),er.uc)for(Xr=(cr=Je).D.M,e(cr.D.uc),er=cr.yb;er<cr.Hb;++er){Tr=er,Or=Xr;var xn=(Jn=(zr=cr).D).Nb;Sr=zr.R;var Jn=Jn.wa[Jn.Y+Tr],Br=zr.sa,qr=zr.ta+16*xn*Sr+16*Tr,Cn=Jn.dd,fr=Jn.tc;if(fr!=0)if(e(3<=fr),zr.L==1)0<Tr&&Cu(Br,qr,Sr,fr+4),Jn.La&&Ma(Br,qr,Sr,fr),0<Or&&Dl(Br,qr,Sr,fr+4),Jn.La&&Xo(Br,qr,Sr,fr);else{var Pn=zr.B,Ei=zr.qa,$i=zr.ra+8*xn*Pn+8*Tr,pn=zr.Ha,zr=zr.Ia+8*xn*Pn+8*Tr;xn=Jn.ld,0<Tr&&(Jr(Br,qr,Sr,fr+4,Cn,xn),Yo(Ei,$i,pn,zr,Pn,fr+4,Cn,xn)),Jn.La&&(Es(Br,qr,Sr,fr,Cn,xn),vo(Ei,$i,pn,zr,Pn,fr,Cn,xn)),0<Or&&(Pr(Br,qr,Sr,fr+4,Cn,xn),qi(Ei,$i,pn,zr,Pn,fr+4,Cn,xn)),Jn.La&&(mo(Br,qr,Sr,fr,Cn,xn),Ml(Ei,$i,pn,zr,Pn,fr,Cn,xn))}}if(Je.ia&&alert("todo:DitherRow"),ze.put!=null){if(er=16*lr,lr=16*(lr+1),hr?(ze.y=Je.sa,ze.O=Je.ta+Zt,ze.f=Je.qa,ze.N=Je.ra+Ln,ze.ea=Je.Ha,ze.W=Je.Ia+Ln):(er-=Ht,ze.y=fn,ze.O=Yr,ze.f=Er,ze.N=zt,ze.ea=an,ze.W=dn),xr||(lr-=Ht),lr>ze.o&&(lr=ze.o),ze.F=null,ze.J=null,Je.Fa!=null&&0<Je.Fa.length&&er<lr&&(ze.J=vr(Je,ze,er,lr-er),ze.F=Je.mb,ze.F==null&&ze.F.length==0)){Ur=Gr(Je,3,"Could not decode alpha data.");break t}er<ze.j&&(Ht=ze.j-er,er=ze.j,e(!(1&Ht)),ze.O+=Je.R*Ht,ze.N+=Je.B*(Ht>>1),ze.W+=Je.B*(Ht>>1),ze.F!=null&&(ze.J+=ze.width*Ht)),er<lr&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=er-ze.j,ze.U=ze.va-ze.v,ze.T=lr-er,Ur=ze.put(ze))}It+1!=Je.Ic||xr||(s(Je.sa,Je.ta-St,fn,Yr+16*Je.R,St),s(Je.qa,Je.ra-yr,Er,zt+8*Je.B,yr),s(Je.Ha,Je.Ia-yr,an,dn+8*Je.B,yr))}if(!Ur)return Gr($t,6,"Output aborted.")}return 1})(W,oe)),oe.bc!=null&&oe.bc(oe),fe&=1}return fe?(W.cb=0,fe):0})(c,x)||(p=c.a)}}else p=c.a}p==0&&I.Oa!=null&&I.Oa.fd&&(p=fo(I.ba))}I=p}O=I!=0?null:11>O?F.f.RGBA.eb:F.f.kb.y}else O=null;return O};var al=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(Y,pe){for(var M="",$=0;$<4;$++)M+=String.fromCharCode(Y[pe++]);return M}function y(Y,pe){return Y[pe+0]|Y[pe+1]<<8}function S(Y,pe){return(Y[pe+0]|Y[pe+1]<<8|Y[pe+2]<<16)>>>0}function k(Y,pe){return(Y[pe+0]|Y[pe+1]<<8|Y[pe+2]<<16|Y[pe+3]<<24)>>>0}new f;var w=[0],C=[0],L=[],T=new f,P=r,z=(function(Y,pe){var M={},$=0,te=!1,ee=0,Se=0;if(M.frames=[],!(function(N,U){for(var J=0;J<4;J++)if(N[U+J]!="RIFF".charCodeAt(J))return!0;return!1})(Y,pe)){for(k(Y,pe+=4),pe+=8;pe<Y.length;){var Ee=g(Y,pe),Ne=k(Y,pe+=4);pe+=4;var Z=Ne+(1&Ne);switch(Ee){case"VP8 ":case"VP8L":M.frames[$]===void 0&&(M.frames[$]={}),(K=M.frames[$]).src_off=te?Se:pe-8,K.src_size=ee+Ne+8,$++,te&&(te=!1,ee=0,Se=0);break;case"VP8X":(K=M.header={}).feature_flags=Y[pe];var he=pe+4;K.canvas_width=1+S(Y,he),he+=3,K.canvas_height=1+S(Y,he),he+=3;break;case"ALPH":te=!0,ee=Z+8,Se=pe-8;break;case"ANIM":(K=M.header).bgcolor=k(Y,pe),he=pe+4,K.loop_count=y(Y,he),he+=2;break;case"ANMF":var ke,K;(K=M.frames[$]={}).offset_x=2*S(Y,pe),pe+=3,K.offset_y=2*S(Y,pe),pe+=3,K.width=1+S(Y,pe),pe+=3,K.height=1+S(Y,pe),pe+=3,K.duration=S(Y,pe),pe+=3,ke=Y[pe++],K.dispose=1&ke,K.blend=ke>>1&1}Ee!="ANMF"&&(pe+=Z)}return M}})(P,0);z.response=P,z.rgbaoutput=!0,z.dataurl=!1;var G=z.header?z.header:null,H=z.frames?z.frames:null;if(G){G.loop_counter=G.loop_count,w=[G.canvas_height],C=[G.canvas_width];for(var de=0;de<H.length&&H[de].blend!=0;de++);}var be=H[0],we=T.WebPDecodeRGBA(P,be.src_off,be.src_size,C,w);be.rgba=we,be.imgwidth=C[0],be.imgheight=w[0];for(var ae=0;ae<C[0]*w[0]*4;ae++)L[ae]=we[ae];return this.width=C,this.height=w,this.data=L,this}(function(r){var e,t,s,a,o,h,u,f,g,y=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new f,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new h,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new h,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new S(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,u=this.internal.Rectangle,f=this.internal.Matrix,g=new y}]);var S=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=N;Object.defineProperty(this,"pdf",{get:function(){return U}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(q){J=!!q}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(q){Q=!!q}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(q){isNaN(q)||(ne=q)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(q){isNaN(q)||(ue=q)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(q){var We;typeof q=="number"?We=[q,q,q,q]:((We=new Array(4))[0]=q[0],We[1]=q.length>=2?q[1]:We[0],We[2]=q.length>=3?q[2]:We[0],We[3]=q.length>=4?q[3]:We[1]),g.margin=We}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(q){me=q}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(q){_e=q}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(q){je=q}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(q){q instanceof y&&(g=q)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(q){g.path=q}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(q){Ue=q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(q){var We;We=k(q),this.ctx.fillStyle=We.style,this.ctx.isFillTransparent=We.a===0,this.ctx.fillOpacity=We.a,this.pdf.setFillColor(We.r,We.g,We.b,{a:We.a}),this.pdf.setTextColor(We.r,We.g,We.b,{a:We.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(q){var We=k(q);this.ctx.strokeStyle=We.style,this.ctx.isStrokeTransparent=We.a===0,this.ctx.strokeOpacity=We.a,We.a===0?this.pdf.setDrawColor(255,255,255):(We.a,this.pdf.setDrawColor(We.r,We.g,We.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(q){["butt","round","square"].indexOf(q)!==-1&&(this.ctx.lineCap=q,this.pdf.setLineCap(q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(q){isNaN(q)||(this.ctx.lineWidth=q,this.pdf.setLineWidth(q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(q){["bevel","round","miter"].indexOf(q)!==-1&&(this.ctx.lineJoin=q,this.pdf.setLineJoin(q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(q){isNaN(q)||(this.ctx.miterLimit=q,this.pdf.setMiterLimit(q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(q){this.ctx.textBaseline=q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(q){["right","end","center","left","start"].indexOf(q)!==-1&&(this.ctx.textAlign=q)}});var He=null,$e=null,ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(q){He=null,$e=null,ot=q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(q){var We;if(this.ctx.font=q,(We=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(q))!==null){var Ot=We[1];We[2];var pt=We[3],Fe=We[4];We[5];var ct=We[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(Ve==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var dt=(function(tt){var Rr,Vt,Mt=[],Ut=tt.trim();if(Ut==="")return Qf;if(Ut in x1)return[x1[Ut]];for(;Ut!=="";){switch(Vt=null,Rr=(Ut=k1(Ut)).charAt(0)){case'"':case"'":Vt=a_(Ut.substring(1),Rr);break;default:Vt=o_(Ut)}if(Vt===null||(Mt.push(Vt[0]),(Ut=k1(Vt[1]))!==""&&Ut.charAt(0)!==","))return Qf;Ut=Ut.replace(/^,/,"")}return Mt})(ct);if(this.fontFaces){var ht=(function(tt,Rr){var Vt=tt.getFontList(),Mt=JSON.stringify(Vt);if(He===null||$e!==Mt){var Ut=(function(gr){var ft=[];return Object.keys(gr).forEach(function(sr){gr[sr].forEach(function(gt){var At=null;switch(gt){case"bold":At={family:sr,weight:"bold"};break;case"italic":At={family:sr,style:"italic"};break;case"bolditalic":At={family:sr,weight:"bold",style:"italic"};break;case"":case"normal":At={family:sr}}At!==null&&(At.ref={name:sr,style:gt},ft.push(At))})}),ft})(Vt);He=(function(gr){for(var ft={},sr=0;sr<gr.length;++sr){var gt=Xf(gr[sr]),At=gt.family,nr=gt.stretch,jt=gt.style,mt=gt.weight;ft[At]=ft[At]||{},ft[At][nr]=ft[At][nr]||{},ft[At][nr][jt]=ft[At][nr][jt]||{},ft[At][nr][jt][mt]=gt}return ft})(Ut.concat(Rr)),$e=Mt}return He})(this.pdf,this.fontFaces),Yt=dt.map(function(tt){return{family:tt,stretch:"normal",weight:pt,style:Ot}}),Bt=(function(tt,Rr,Vt){for(var Mt=(Vt=Vt||{}).defaultFontFamily||"times",Ut=Object.assign({},s_,Vt.genericFontFamilies||{}),gr=null,ft=null,sr=0;sr<Rr.length;++sr)if(Ut[(gr=Xf(Rr[sr])).family]&&(gr.family=Ut[gr.family]),tt.hasOwnProperty(gr.family)){ft=tt[gr.family];break}if(!(ft=ft||tt[Mt]))throw new Error("Could not find a font-family for the rule '"+S1(gr)+"' and default family '"+Mt+"'.");if(ft=(function(gt,At){if(At[gt])return At[gt];var nr=Nd[gt],jt=nr<=Nd.normal?-1:1,mt=_1(At,V2,nr,jt);if(!mt)throw new Error("Could not find a matching font-stretch value for "+gt);return mt})(gr.stretch,ft),ft=(function(gt,At){if(At[gt])return At[gt];for(var nr=H2[gt],jt=0;jt<nr.length;++jt)if(At[nr[jt]])return At[nr[jt]];throw new Error("Could not find a matching font-style for "+gt)})(gr.style,ft),!(ft=(function(gt,At){if(At[gt])return At[gt];if(gt===400&&At[500])return At[500];if(gt===500&&At[400])return At[400];var nr=i_[gt],jt=_1(At,G2,nr,gt<400?-1:1);if(!jt)throw new Error("Could not find a matching font-weight for value "+gt);return jt})(gr.weight,ft)))throw new Error("Failed to resolve a font for the rule '"+S1(gr)+"'.");return ft})(ht,Yt);this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var Ct="";(pt==="bold"||parseInt(pt,10)>=700||Ot==="bold")&&(Ct="bold"),Ot==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var qt="",Dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<dt.length;rt++){if(this.pdf.internal.getFont(dt[rt],Ct,{noFallback:!0,disableWarning:!0})!==void 0){qt=dt[rt];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(dt[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qt=dt[rt],Ct="bold";else if(this.pdf.internal.getFont(dt[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qt=dt[rt],Ct="normal";break}}if(qt===""){for(var kt=0;kt<dt.length;kt++)if(Dt[dt[kt]]){qt=Dt[dt[kt]];break}}qt=qt===""?"Times":qt,this.pdf.setFont(qt,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(q){this.ctx.globalCompositeOperation=q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(q){this.ctx.globalAlpha=q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(q){this.ctx.lineDashOffset=q,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(q){this.ctx.lineDash=q,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(q){this.ctx.ignoreClearRect=!!q}})};S.prototype.setLineDash=function(N){this.lineDash=N},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){H.call(this,"fill",!1)},S.prototype.stroke=function(){H.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(N,U){if(isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new h(N,U));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new h(N,U)},S.prototype.closePath=function(){var N=new h(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&pr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){N=new h(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(N.x,N.y)},S.prototype.lineTo=function(N,U){if(isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new h(N,U));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new h(J.x,J.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},S.prototype.quadraticCurveTo=function(N,U,J,Q){if(isNaN(J)||isNaN(Q)||isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new h(J,Q)),ue=this.ctx.transform.applyToPoint(new h(N,U));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new h(ne.x,ne.y)},S.prototype.bezierCurveTo=function(N,U,J,Q,ne,ue){if(isNaN(ne)||isNaN(ue)||isNaN(N)||isNaN(U)||isNaN(J)||isNaN(Q))throw _r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new h(ne,ue)),_e=this.ctx.transform.applyToPoint(new h(N,U)),je=this.ctx.transform.applyToPoint(new h(J,Q));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:je.x,y2:je.y,x:me.x,y:me.y}),this.ctx.lastPoint=new h(me.x,me.y)},S.prototype.arc=function(N,U,J,Q,ne,ue){if(isNaN(N)||isNaN(U)||isNaN(J)||isNaN(Q)||isNaN(ne))throw _r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new h(N,U));N=me.x,U=me.y;var _e=this.ctx.transform.applyToPoint(new h(0,J)),je=this.ctx.transform.applyToPoint(new h(0,0));J=Math.sqrt(Math.pow(_e.x-je.x,2)+Math.pow(_e.y-je.y,2))}Math.abs(ne-Q)>=2*Math.PI&&(Q=0,ne=2*Math.PI),this.path.push({type:"arc",x:N,y:U,radius:J,startAngle:Q,endAngle:ne,counterclockwise:ue})},S.prototype.arcTo=function(N,U,J,Q,ne){throw new Error("arcTo not implemented.")},S.prototype.rect=function(N,U,J,Q){if(isNaN(N)||isNaN(U)||isNaN(J)||isNaN(Q))throw _r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,U),this.lineTo(N+J,U),this.lineTo(N+J,U+Q),this.lineTo(N,U+Q),this.lineTo(N,U),this.lineTo(N+J,U),this.lineTo(N,U)},S.prototype.fillRect=function(N,U,J,Q){if(isNaN(N)||isNaN(U)||isNaN(J)||isNaN(Q))throw _r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,U,J,Q),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},S.prototype.strokeRect=function(N,U,J,Q){if(isNaN(N)||isNaN(U)||isNaN(J)||isNaN(Q))throw _r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(N,U,J,Q),this.stroke())},S.prototype.clearRect=function(N,U,J,Q){if(isNaN(N)||isNaN(U)||isNaN(J)||isNaN(Q))throw _r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,U,J,Q))},S.prototype.save=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},S.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(U),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var k=function(N){var U,J,Q,ne;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))U=0,J=0,Q=0,ne=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(ue!==null)U=parseInt(ue[1]),J=parseInt(ue[2]),Q=parseInt(ue[3]),ne=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)U=parseInt(ue[1]),J=parseInt(ue[2]),Q=parseInt(ue[3]),ne=parseFloat(ue[4]);else{if(ne=1,typeof N=="string"&&N.charAt(0)!=="#"){var me=new D2(N);N=me.ok?me.toHex():"#000000"}N.length===4?(U=N.substring(1,2),U+=U,J=N.substring(2,3),J+=J,Q=N.substring(3,4),Q+=Q):(U=N.substring(1,3),J=N.substring(3,5),Q=N.substring(5,7)),U=parseInt(U,16),J=parseInt(J,16),Q=parseInt(Q,16)}}return{r:U,g:J,b:Q,a:ne,style:N}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(N,U,J,Q){if(isNaN(U)||isNaN(J)||typeof N!="string")throw _r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!w.call(this)){var ne=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;$.call(this,{text:N,x:U,y:J,scale:ue,angle:ne,align:this.textAlign,maxWidth:Q})}},S.prototype.strokeText=function(N,U,J,Q){if(isNaN(U)||isNaN(J)||typeof N!="string")throw _r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){Q=isNaN(Q)?void 0:Q;var ne=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;$.call(this,{text:N,x:U,y:J,scale:ue,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Q})}},S.prototype.measureText=function(N){if(typeof N!="string")throw _r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,J=this.pdf.internal.scaleFactor,Q=U.internal.getFontSize(),ne=U.getStringUnitWidth(N)*Q/U.internal.scaleFactor;return new function(ue){var me=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:ne*=Math.round(96*J/72*1e4)/1e4})},S.prototype.scale=function(N,U){if(isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(N,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},S.prototype.rotate=function(N){if(isNaN(N))throw _r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new f(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},S.prototype.translate=function(N,U){if(isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,N,U);this.ctx.transform=this.ctx.transform.multiply(J)},S.prototype.transform=function(N,U,J,Q,ne,ue){if(isNaN(N)||isNaN(U)||isNaN(J)||isNaN(Q)||isNaN(ne)||isNaN(ue))throw _r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new f(N,U,J,Q,ne,ue);this.ctx.transform=this.ctx.transform.multiply(me)},S.prototype.setTransform=function(N,U,J,Q,ne,ue){N=isNaN(N)?1:N,U=isNaN(U)?0:U,J=isNaN(J)?0:J,Q=isNaN(Q)?1:Q,ne=isNaN(ne)?0:ne,ue=isNaN(ue)?0:ue,this.ctx.transform=new f(N,U,J,Q,ne,ue)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(N,U,J,Q,ne,ue,me,_e,je){var Ue=this.pdf.getImageProperties(N),He=1,$e=1,ot=1,q=1;Q!==void 0&&_e!==void 0&&(ot=_e/Q,q=je/ne,He=Ue.width/Q*_e/Q,$e=Ue.height/ne*je/ne),ue===void 0&&(ue=U,me=J,U=0,J=0),Q!==void 0&&_e===void 0&&(_e=Q,je=ne),Q===void 0&&_e===void 0&&(_e=Ue.width,je=Ue.height);var We=this.ctx.transform.decompose(),Ot=Z(We.rotate.shx),pt=new f,Fe=(pt=(pt=(pt=pt.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new u(ue-U*ot,me-J*q,Q*He,ne*$e));if(this.autoPaging){for(var ct,Ve=T.call(this,Fe),dt=[],ht=0;ht<Ve.length;ht+=1)dt.indexOf(Ve[ht])===-1&&dt.push(Ve[ht]);G(dt);for(var Yt=dt[0],Bt=dt[dt.length-1],Ct=Yt;Ct<Bt+1;Ct++){this.pdf.setPage(Ct);var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=Ct===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ct===1?0:rt+(Ct-2)*kt;if(this.ctx.clip_path.length!==0){var Rr=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(ct,this.posX+this.margin[3],-tt+Dt+this.ctx.prevPageLastElemOffset),de.call(this,"fill",!0),this.path=Rr}var Vt=JSON.parse(JSON.stringify(Fe));Vt=z([Vt],this.posX+this.margin[3],-tt+Dt+this.ctx.prevPageLastElemOffset)[0];var Mt=(Ct>Yt||Ct<Bt)&&L.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,kt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Ot),Mt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(N,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ot)};var T=function(N,U,J){var Q=[];U=U||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":Q.push(Math.floor((N.y+ne)/J)+1);break;case"arc":Q.push(Math.floor((N.y+ne-N.radius)/J)+1),Q.push(Math.floor((N.y+ne+N.radius)/J)+1);break;case"qct":var ue=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);Q.push(Math.floor((ue.y+ne)/J)+1),Q.push(Math.floor((ue.y+ue.h+ne)/J)+1);break;case"bct":var me=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);Q.push(Math.floor((me.y+ne)/J)+1),Q.push(Math.floor((me.y+me.h+ne)/J)+1);break;case"rect":Q.push(Math.floor((N.y+ne)/J)+1),Q.push(Math.floor((N.y+N.h+ne)/J)+1)}for(var _e=0;_e<Q.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<Q[_e];)P.call(this);return Q},P=function(){var N=this.fillStyle,U=this.strokeStyle,J=this.font,Q=this.lineCap,ne=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=U,this.font=J,this.lineCap=Q,this.lineWidth=ne,this.lineJoin=ue},z=function(N,U,J){for(var Q=0;Q<N.length;Q++)switch(N[Q].type){case"bct":N[Q].x2+=U,N[Q].y2+=J;case"qct":N[Q].x1+=U,N[Q].y1+=J;default:N[Q].x+=U,N[Q].y+=J}return N},G=function(N){return N.sort(function(U,J){return U-J})},H=function(N,U){var J=this.fillStyle,Q=this.strokeStyle,ne=this.lineCap,ue=this.lineWidth,me=Math.abs(ue*this.ctx.transform.scaleX),_e=this.lineJoin;if(this.autoPaging){for(var je,Ue,He=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),ot=[],q=0;q<$e.length;q++)if($e[q].x!==void 0)for(var We=T.call(this,$e[q]),Ot=0;Ot<We.length;Ot+=1)ot.indexOf(We[Ot])===-1&&ot.push(We[Ot]);for(var pt=0;pt<ot.length;pt++)for(;this.pdf.internal.getNumberOfPages()<ot[pt];)P.call(this);G(ot);for(var Fe=ot[0],ct=ot[ot.length-1],Ve=Fe;Ve<ct+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=J,this.strokeStyle=Q,this.lineCap=ne,this.lineWidth=me,this.lineJoin=_e;var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=Ve===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=Ve===1?0:Yt+(Ve-2)*Bt;if(this.ctx.clip_path.length!==0){var qt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(je,this.posX+this.margin[3],-Ct+ht+this.ctx.prevPageLastElemOffset),de.call(this,N,!0),this.path=qt}if(Ue=JSON.parse(JSON.stringify(He)),this.path=z(Ue,this.posX+this.margin[3],-Ct+ht+this.ctx.prevPageLastElemOffset),U===!1||Ve===0){var Dt=(Ve>Fe||Ve<ct)&&L.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Bt,null).clip().discardPath()),de.call(this,N,U),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=He}else this.lineWidth=me,de.call(this,N,U),this.lineWidth=ue},de=function(N,U){if((N!=="stroke"||U||!C.call(this))&&(N==="stroke"||U||!w.call(this))){for(var J,Q,ne=[],ue=this.path,me=0;me<ue.length;me++){var _e=ue[me];switch(_e.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:_e,deltas:[],abs:[]});break;case"lt":var je=ne.length;if(ue[me-1]&&!isNaN(ue[me-1].x)&&(J=[_e.x-ue[me-1].x,_e.y-ue[me-1].y],je>0)){for(;je>=0;je--)if(ne[je-1].close!==!0&&ne[je-1].begin!==!0){ne[je-1].deltas.push(J),ne[je-1].abs.push(_e);break}}break;case"bct":J=[_e.x1-ue[me-1].x,_e.y1-ue[me-1].y,_e.x2-ue[me-1].x,_e.y2-ue[me-1].y,_e.x-ue[me-1].x,_e.y-ue[me-1].y],ne[ne.length-1].deltas.push(J);break;case"qct":var Ue=ue[me-1].x+2/3*(_e.x1-ue[me-1].x),He=ue[me-1].y+2/3*(_e.y1-ue[me-1].y),$e=_e.x+2/3*(_e.x1-_e.x),ot=_e.y+2/3*(_e.y1-_e.y),q=_e.x,We=_e.y;J=[Ue-ue[me-1].x,He-ue[me-1].y,$e-ue[me-1].x,ot-ue[me-1].y,q-ue[me-1].x,We-ue[me-1].y],ne[ne.length-1].deltas.push(J);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(_e)}}Q=U?null:N==="stroke"?"stroke":"fill";for(var Ot=!1,pt=0;pt<ne.length;pt++)if(ne[pt].arc)for(var Fe=ne[pt].abs,ct=0;ct<Fe.length;ct++){var Ve=Fe[ct];Ve.type==="arc"?ae.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,U,!Ot):te.call(this,Ve.x,Ve.y),Ot=!0}else if(ne[pt].close===!0)this.pdf.internal.out("h"),Ot=!1;else if(ne[pt].begin!==!0){var dt=ne[pt].start.x,ht=ne[pt].start.y;ee.call(this,ne[pt].deltas,dt,ht),Ot=!0}Q&&Y.call(this,Q),U&&pe.call(this)}},be=function(N){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-J;case"top":return N+U-J;case"hanging":return N+U-2*J;case"middle":return N+U/2-J;default:return N}},we=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(U,J){this.colorStops.push([U,J])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ae=function(N,U,J,Q,ne,ue,me,_e,je){for(var Ue=Ee.call(this,J,Q,ne,ue),He=0;He<Ue.length;He++){var $e=Ue[He];He===0&&(je?M.call(this,$e.x1+N,$e.y1+U):te.call(this,$e.x1+N,$e.y1+U)),Se.call(this,N,U,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}_e?pe.call(this):Y.call(this,me)},Y=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},pe=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(N,U){this.pdf.internal.out(t(N)+" "+s(U)+" m")},$=function(N){var U;switch(N.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var J,Q,ne,ue=this.pdf.getTextDimensions(N.text),me=be.call(this,N.y),_e=we.call(this,me)-ue.h,je=this.ctx.transform.applyToPoint(new h(N.x,me));if(this.autoPaging){var Ue=this.ctx.transform.decompose(),He=new f;He=(He=(He=He.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale);for(var $e=this.ctx.transform.applyToRectangle(new u(N.x,me,ue.w,ue.h)),ot=He.applyToRectangle(new u(N.x,_e,ue.w,ue.h)),q=T.call(this,ot),We=[],Ot=0;Ot<q.length;Ot+=1)We.indexOf(q[Ot])===-1&&We.push(q[Ot]);G(We);for(var pt=We[0],Fe=We[We.length-1],ct=pt;ct<Fe+1;ct++){this.pdf.setPage(ct);var Ve=ct===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[2],Yt=ht-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],Ct=Bt-this.margin[3],qt=ct===1?0:dt+(ct-2)*Yt;if(this.ctx.clip_path.length!==0){var Dt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(J,this.posX+this.margin[3],-1*qt+Ve),de.call(this,"fill",!0),this.path=Dt}var rt=z([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-qt+Ve+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*N.scale),ne=this.lineWidth,this.lineWidth=ne*N.scale);var kt=this.autoPaging!=="text";if(kt||rt.y+rt.h<=ht){if(kt||rt.y>=Ve&&rt.x<=Bt){var tt=kt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Bt-rt.x)[0],Rr=z([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-qt+Ve+this.ctx.prevPageLastElemOffset)[0],Vt=kt&&(ct>pt||ct<Fe)&&L.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,Yt,null).clip().discardPath()),this.pdf.text(tt,Rr.x,Rr.y,{angle:N.angle,align:U,renderingMode:N.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else rt.y<ht&&(this.ctx.prevPageLastElemOffset+=ht-rt.y);N.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ne)}}else N.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*N.scale),ne=this.lineWidth,this.lineWidth=ne*N.scale),this.pdf.text(N.text,je.x+this.posX,je.y+this.posY,{angle:N.angle,align:U,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ne)},te=function(N,U,J,Q){J=J||0,Q=Q||0,this.pdf.internal.out(t(N+J)+" "+s(U+Q)+" l")},ee=function(N,U,J){return this.pdf.lines(N,U,J,null,null)},Se=function(N,U,J,Q,ne,ue,me,_e){this.pdf.internal.out([e(a(J+N)),e(o(Q+U)),e(a(ne+N)),e(o(ue+U)),e(a(me+N)),e(o(_e+U)),"c"].join(" "))},Ee=function(N,U,J,Q){for(var ne=2*Math.PI,ue=Math.PI/2;U>J;)U-=ne;var me=Math.abs(J-U);me<ne&&Q&&(me=ne-me);for(var _e=[],je=Q?-1:1,Ue=U;me>1e-5;){var He=Ue+je*Math.min(me,ue);_e.push(Ne.call(this,N,Ue,He)),me-=Math.abs(He-Ue),Ue=He}return _e},Ne=function(N,U,J){var Q=(J-U)/2,ne=N*Math.cos(Q),ue=N*Math.sin(Q),me=ne,_e=-ue,je=me*me+_e*_e,Ue=je+me*ne+_e*ue,He=4/3*(Math.sqrt(2*je*Ue)-Ue)/(me*ue-_e*ne),$e=me-He*_e,ot=_e+He*me,q=$e,We=-ot,Ot=Q+U,pt=Math.cos(Ot),Fe=Math.sin(Ot);return{x1:N*Math.cos(U),y1:N*Math.sin(U),x2:$e*pt-ot*Fe,y2:$e*Fe+ot*pt,x3:q*pt-We*Fe,y3:q*Fe+We*pt,x4:N*Math.cos(J),y4:N*Math.sin(J)}},Z=function(N){return 180*N/Math.PI},he=function(N,U,J,Q,ne,ue){var me=N+.5*(J-N),_e=U+.5*(Q-U),je=ne+.5*(J-ne),Ue=ue+.5*(Q-ue),He=Math.min(N,ne,me,je),$e=Math.max(N,ne,me,je),ot=Math.min(U,ue,_e,Ue),q=Math.max(U,ue,_e,Ue);return new u(He,ot,$e-He,q-ot)},ke=function(N,U,J,Q,ne,ue,me,_e){var je,Ue,He,$e,ot,q,We,Ot,pt,Fe,ct,Ve,dt,ht,Yt=J-N,Bt=Q-U,Ct=ne-J,qt=ue-Q,Dt=me-ne,rt=_e-ue;for(Ue=0;Ue<41;Ue++)pt=(We=(He=N+(je=Ue/40)*Yt)+je*((ot=J+je*Ct)-He))+je*(ot+je*(ne+je*Dt-ot)-We),Fe=(Ot=($e=U+je*Bt)+je*((q=Q+je*qt)-$e))+je*(q+je*(ue+je*rt-q)-Ot),Ue==0?(ct=pt,Ve=Fe,dt=pt,ht=Fe):(ct=Math.min(ct,pt),Ve=Math.min(Ve,Fe),dt=Math.max(dt,pt),ht=Math.max(ht,Fe));return new u(Math.round(ct),Math.round(Ve),Math.round(dt-ct),Math.round(ht-Ve))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,U,J=(N=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:U}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(ut.API),(function(r){var e=function(h){var u,f,g,y,S,k,w,C,L,T;for(f=[],g=0,y=(h+=u="\0\0\0\0".slice(h.length%4||4)).length;y>g;g+=4)(S=(h.charCodeAt(g)<<24)+(h.charCodeAt(g+1)<<16)+(h.charCodeAt(g+2)<<8)+h.charCodeAt(g+3))!==0?(k=(S=((S=((S=((S=(S-(T=S%85))/85)-(L=S%85))/85)-(C=S%85))/85)-(w=S%85))/85)%85,f.push(k+33,w+33,C+33,L+33,T+33)):f.push(122);return(function(P,z){for(var G=z;G>0;G--)P.pop()})(f,u.length),String.fromCharCode.apply(String,f)+"~>"},t=function(h){var u,f,g,y,S,k=String,w="length",C=255,L="charCodeAt",T="slice",P="replace";for(h[T](-2),h=h[T](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),g=[],y=0,S=(h+=u="uuuuu"[T](h[w]%5||5))[w];S>y;y+=5)f=52200625*(h[L](y)-33)+614125*(h[L](y+1)-33)+7225*(h[L](y+2)-33)+85*(h[L](y+3)-33)+(h[L](y+4)-33),g.push(C&f>>24,C&f>>16,C&f>>8,C&f);return(function(z,G){for(var H=G;H>0;H--)z.pop()})(g,u[w]),k.fromCharCode.apply(k,g)},s=function(h){return h.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),u.test(h)===!1)return"";for(var f="",g=0;g<h.length;g+=2)f+=String.fromCharCode("0x"+(h[g]+h[g+1]));return f},o=function(h){for(var u=new Uint8Array(h.length),f=h.length;f--;)u[f]=h.charCodeAt(f);return(u=yd(u)).reduce(function(g,y){return g+String.fromCharCode(y)},"")};r.processDataByFilters=function(h,u){var f=0,g=h||"",y=[];for(typeof(u=u||[])=="string"&&(u=[u]),f=0;f<u.length;f+=1)switch(u[f]){case"ASCII85Decode":case"/ASCII85Decode":g=t(g),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":g=e(g),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":g=a(g),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":g=s(g),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":g=o(g),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[f]+'" is not implemented')}return{data:g,reverseChain:y.reverse().join(" ")}}})(ut.API),(function(r){r.loadFile=function(e,t,s){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var u=void 0;try{u=(function(f,g,y){var S=new XMLHttpRequest,k=0,w=function(C){var L=C.length,T=[],P=String.fromCharCode;for(k=0;k<L;k+=1)T.push(P(255&C.charCodeAt(k)));return T.join("")};if(S.open("GET",f,!g),S.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(S.onload=function(){S.status===200?y(w(this.responseText)):y(void 0)}),S.send(null),g&&S.status===200)return w(S.responseText)})(a,o,h)}catch{}return u})(e,t,s)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(ut.API),(function(r){function e(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):hh(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):hh(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var s=function(u){var f=pr(u);return f==="undefined"?"undefined":f==="string"||u instanceof String?"string":f==="number"||u instanceof Number?"number":f==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(u,f){var g=document.createElement(u);for(var y in f.className&&(g.className=f.className),f.innerHTML&&f.dompurify&&(g.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)g.style[y]=f.style[y];return g},o=function u(f,g){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),S=f.firstChild;S;S=S.nextSibling)g!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||y.appendChild(u(S,g));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},h=function u(f){var g=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),y=u.convert(Promise.resolve(),g);return(y=y.setProgress(1,u,1,[u])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(u,f){return u.__proto__=f||h.prototype,u},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(u,f){return this.then(function(){switch(f=f||(function(g){switch(s(g)){case"string":return"string";case"element":return g.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),f){case"string":return this.then(t).then(function(g){return this.set({src:a("div",{innerHTML:u,dompurify:g})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},h.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var g=Object.assign({},this.opt.html2canvas);return delete g.onrendered,f(this.prop.container,g)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var g=this.opt.jsPDF,y=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,k=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete k.onrendered,g.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,g.context2d.posX=this.opt.x,g.context2d.posY=this.opt.y,g.context2d.margin=this.opt.margin,g.context2d.fontFaces=y,y)for(var w=0;w<y.length;++w){var C=y[w],L=C.src.find(function(T){return T.format==="truetype"});L&&g.addFont(L.url,C.ref.name,C.ref.style)}return k.windowHeight=k.windowHeight||0,k.windowHeight=k.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):k.windowHeight,g.context2d.save(!0),f(this.prop.container,k)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(u,f,g){return(g=g||"pdf").toLowerCase()==="img"||g.toLowerCase()==="image"?this.outputImg(u,f):this.outputPdf(u,f)},h.prototype.outputPdf=function(u,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,f)})},h.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},h.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(u){if(s(u)!=="object")return this;var f=Object.keys(u||{}).map(function(g){if(g in h.template.prop)return function(){this.prop[g]=u[g]};switch(g){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[g]=u[g]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(u,f){return this.then(function(){var g=u in h.template.prop?this.prop[u]:this.opt[u];return f?f(g):g})},h.prototype.setMargin=function(u){return this.then(function(){switch(s(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},h.prototype.setPageSize=function(u){function f(g,y){return Math.floor(g*y/72*96)}return this.then(function(){(u=u||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:f(u.inner.width,u.k),height:f(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},h.prototype.setProgress=function(u,f,g,y){return u!=null&&(this.progress.val=u),f!=null&&(this.progress.state=f),g!=null&&(this.progress.n=g),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(u,f,g,y){return this.setProgress(u?this.progress.val+u:null,f||null,g?this.progress.n+g:null,y?this.progress.stack.concat(y):null)},h.prototype.then=function(u,f){var g=this;return this.thenCore(u,f,function(y,S){return g.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(k){return g.updateProgress(null,y),k}).then(y,S).then(function(k){return g.updateProgress(1),k})})},h.prototype.thenCore=function(u,f,g){g=g||Promise.prototype.then;var y=this;u&&(u=u.bind(y)),f&&(f=f.bind(y));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:h.convert(Object.assign({},y),Promise.prototype),k=g.call(S,u,f);return h.convert(k,y.__proto__)},h.prototype.thenExternal=function(u,f){return Promise.prototype.then.call(this,u,f)},h.prototype.thenList=function(u){var f=this;return u.forEach(function(g){f=f.thenCore(g)}),f},h.prototype.catch=function(u){u&&(u=u.bind(this));var f=Promise.prototype.catch.call(this,u);return h.convert(f,this)},h.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},h.prototype.error=function(u){return this.then(function(){throw new Error(u)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,ut.getPageSize=function(u,f,g){if(pr(u)==="object"){var y=u;u=y.orientation,f=y.unit||f,g=y.format||g}f=f||"mm",g=g||"a4",u=(""+(u||"P")).toLowerCase();var S,k=(""+g).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+f}var C,L=0,T=0;if(w.hasOwnProperty(k))L=w[k][1]/S,T=w[k][0]/S;else try{L=g[1],T=g[0]}catch{throw new Error("Invalid format: "+g)}if(u==="p"||u==="portrait")u="p",T>L&&(C=T,T=L,L=C);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",L>T&&(C=T,T=L,L=C)}return{width:T,height:L,unit:f,k:S,orientation:u}},r.html=function(u,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Xf):null;var g=new h(f);return f.worker?g:g.from(u).doCallback()}})(ut.API),ut.API.addJS=function(r){return A1=r,this.internal.events.subscribe("postPutResources",function(){uh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(uh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),N1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+A1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){uh!==void 0&&N1!==void 0&&this.internal.out("/Names <</JavaScript "+uh+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],u=s.exec(h);if(u!=null){var f=u[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(h)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,y=[];for(o=0;o<g;o++){var S=t.internal.newObject();y.push(S);var k=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+k.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<y.length;o++)t.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,o){var h={title:a,options:o,children:[]};return s==null&&(s=this.root),s.children.push(h),h},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var h=s.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var u=this.count=this.count_r({count:0},h);if(u>0&&this.line("/Count "+u),h.options&&h.options.pageNumber){var f=t.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var g=0;g<s.children.length;g++)this.renderItems(s.children[g])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var o=0;o<a.children.length;o++)s.count++,this.count_r(s,a.children[o]);return s.count}}])})(ut.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,s,a,o,h,u){var f,g=this.decode.DCT_DECODE,y=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=h||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(S){for(var k,w=256*S.charCodeAt(4)+S.charCodeAt(5),C=S.length,L={width:0,height:0,numcomponents:1},T=4;T<C;T+=2){if(T+=w,e.indexOf(S.charCodeAt(T+1))!==-1){k=256*S.charCodeAt(T+5)+S.charCodeAt(T+6),L={width:256*S.charCodeAt(T+7)+S.charCodeAt(T+8),height:k,numcomponents:S.charCodeAt(T+9)};break}w=256*S.charCodeAt(T+2)+S.charCodeAt(T+3)}return L})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}y={data:t,width:f.width,height:f.height,colorSpace:u,bitsPerComponent:8,filter:g,index:s,alias:a}}return y}})(ut.API),ut.API.processPNG=function(r,e,t,s){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,o=Wb(r,{checkCrc:!0}),h=o.width,u=o.height,f=o.channels,g=o.palette,y=o.depth;a=g&&f===1?(function(ae){for(var Y=ae.width,pe=ae.height,M=ae.data,$=ae.palette,te=ae.depth,ee=!1,Se=[],Ee=[],Ne=void 0,Z=!1,he=0,ke=0;ke<$.length;ke++){var K=P0($[ke],4),N=K[0],U=K[1],J=K[2],Q=K[3];Se.push(N,U,J),Q!=null&&(Q===0?(he++,Ee.length<1&&Ee.push(ke)):Q<255&&(Z=!0))}if(Z||he>1){ee=!0,Ee=void 0;var ne=Y*pe;Ne=new Uint8Array(ne);for(var ue=new DataView(M.buffer),me=0;me<ne;me++){var _e=Zf(ue,me,te),je=P0($[_e],4)[3];Ne[me]=je}}else he===0&&(Ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:M,alphaBytes:Ne,needSMask:ee,palette:Se,mask:Ee}})(o):f===2||f===4?(function(ae){for(var Y=ae.data,pe=ae.width,M=ae.height,$=ae.channels,te=ae.depth,ee=$===2?"DeviceGray":"DeviceRGB",Se=$-1,Ee=pe*M,Ne=Se,Z=Ee*Ne,he=1*Ee,ke=Math.ceil(Z*te/8),K=Math.ceil(he*te/8),N=new Uint8Array(ke),U=new Uint8Array(K),J=new DataView(Y.buffer),Q=new DataView(N.buffer),ne=new DataView(U.buffer),ue=!1,me=0;me<Ee;me++){for(var _e=me*$,je=0;je<Ne;je++)R1(Q,Zf(J,_e+je,te),me*Ne+je,te);var Ue=Zf(J,_e+Ne,te);Ue<(1<<te)-1&&(ue=!0),R1(ne,Ue,1*me,te)}return{colorSpace:ee,colorsPerPixel:Se,sMaskBitsPerComponent:ue?te:void 0,colorBytes:N,alphaBytes:U,needSMask:ue}})(o):(function(ae){var Y=ae.data,pe=ae.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:pe,colorsPerPixel:pe==="DeviceGray"?1:3,colorBytes:Y instanceof Uint16Array?(function(M){for(var $=M.length,te=new Uint8Array(2*$),ee=new DataView(te.buffer,te.byteOffset,te.byteLength),Se=0;Se<$;Se++)ee.setUint16(2*Se,M[Se],!1);return te})(Y):Y,needSMask:!1}})(o);var S,k,w,C=a,L=C.colorSpace,T=C.colorsPerPixel,P=C.sMaskBitsPerComponent,z=C.colorBytes,G=C.alphaBytes,H=C.needSMask,de=C.palette,be=C.mask,we=null;return s!==ut.API.image_compression.NONE&&typeof yd=="function"?(we=(function(ae){var Y;switch(ae){case ut.API.image_compression.FAST:Y=11;break;case ut.API.image_compression.MEDIUM:Y=13;break;case ut.API.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(s),S=this.decode.FLATE_DECODE,k="/Predictor ".concat(we," /Colors ").concat(T," /BitsPerComponent ").concat(y," /Columns ").concat(h),r=P1(z,Math.ceil(h*T*y/8),T,y,s),H&&(w=P1(G,Math.ceil(h*P/8),1,P,s))):(S=void 0,k=void 0,r=z,H&&(w=G)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:t,data:r,index:e,filter:S,decodeParameters:k,transparency:be,palette:de,sMask:w,predictor:we,width:h,height:u,bitsPerComponent:y,sMaskBitsPerComponent:P,colorSpace:L}}},(function(r){r.processGIF89A=function(e,t,s,a){var o=new h_(e),h=o.width,u=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var g={data:f,width:h,height:u},y=new ed(100).encode(g,100);return r.processJPEG.call(this,y,t,s,a)},r.processGIF87A=r.processGIF89A})(ut.API),Ms.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ms.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){_r.log("bit decode error:"+t)}},Ms.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=s*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var f=this.palette[o>>7-u&1];this.data[h+4*u]=f.blue,this.data[h+4*u+1]=f.green,this.data[h+4*u+2]=f.red,this.data[h+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Ms.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var o=this.datav.getUint8(this.pos++,!0),h=s*this.width*4+2*a*4,u=o>>4,f=15&o,g=this.palette[u];if(this.data[h]=g.blue,this.data[h+1]=g.green,this.data[h+2]=g.red,this.data[h+3]=255,2*a+1>=this.width)break;g=this.palette[f],this.data[h+4]=g.blue,this.data[h+4+1]=g.green,this.data[h+4+2]=g.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Ms.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},Ms.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,g=o>>15?255:0,y=s*this.width*4+4*a;this.data[y]=f,this.data[y+1]=u,this.data[y+2]=h,this.data[y+3]=g}this.pos+=r}},Ms.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(h&e)/e*255|0,f=(h>>5&t)/t*255|0,g=(h>>11)/e*255|0,y=a*this.width*4+4*o;this.data[y]=g,this.data[y+1]=f,this.data[y+2]=u,this.data[y+3]=255}this.pos+=r}},Ms.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=s,this.data[h+3]=255}this.pos+=this.width%4}},Ms.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=h}},Ms.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,s,a){var o=new Ms(e,!1),h=o.width,u=o.height,f={data:o.getData(),width:h,height:u},g=new ed(100).encode(f,100);return r.processJPEG.call(this,g,t,s,a)}})(ut.API),M1.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,s,a){var o=new M1(e),h=o.width,u=o.height,f={data:o.getData(),width:h,height:u},g=new ed(100).encode(f,100);return r.processJPEG.call(this,g,t,s,a)}})(ut.API),ut.API.processRGBA=function(r,e,t){for(var s=r.data,a=s.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),u=0,f=0,g=0;g<a;g+=4){var y=s[g],S=s[g+1],k=s[g+2],w=s[g+3];o[u++]=y,o[u++]=S,o[u++]=k,h[f++]=w}var C=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:C,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},ut.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fu=ut.API,ch=fu.getCharWidthsArray=function(r,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:a.metadata.Unicode.widths,f=u.fof?u.fof:1,g=e.kerning?e.kerning:a.metadata.Unicode.kerning,y=g.fof?g.fof:1,S=e.doKerning!==!1,k=0,w=r.length,C=0,L=u[0]||f,T=[];for(t=0;t<w;t++)s=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+h*(1e3/o)||0)/1e3):(k=S&&pr(g[s])==="object"&&!isNaN(parseInt(g[s][C],10))?g[s][C]/y:0,T.push((u[s]||L)/f+k)),C=s;return T},E1=fu.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return fu.processArabic&&(r=fu.processArabic(r)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(r,t,a)/t:ch.apply(this,arguments).reduce(function(o,h){return o+h},0)},L1=function(r,e,t,s){for(var a=[],o=0,h=r.length,u=0;o!==h&&u+e[o]<t;)u+=e[o],o++;a.push(r.slice(0,o));var f=o;for(u=0;o!==h;)u+e[o]>s&&(a.push(r.slice(f,o)),u=0,f=o),u+=e[o],o++;return f!==o&&a.push(r.slice(f,o)),a},C1=function(r,e,t){t||(t={});var s,a,o,h,u,f,g,y=[],S=[y],k=t.textIndent||0,w=0,C=0,L=r.split(" "),T=ch.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?L[0].length+2:t.lineIndent||0){var P=Array(f).join(" "),z=[];L.map(function(H){(H=H.split(/\s*\n/)).length>1?z=z.concat(H.map(function(de,be){return(be&&de.length?`
`:"")+de})):z.push(H[0])}),L=z,f=E1.apply(this,[P,t])}for(o=0,h=L.length;o<h;o++){var G=0;if(s=L[o],f&&s[0]==`
`&&(s=s.substr(1),G=1),k+w+(C=(a=ch.apply(this,[s,t])).reduce(function(H,de){return H+de},0))>e||G){if(C>e){for(u=L1.apply(this,[s,a,e-(k+w),e]),y.push(u.shift()),y=[u.pop()];u.length;)S.push([u.shift()]);C=a.slice(s.length-(y[0]?y[0].length:0)).reduce(function(H,de){return H+de},0)}else y=[s];S.push(y),k=C+f,w=T}else y.push(s),k+=w+C,w=T}return g=f?function(H,de){return(de?P:"")+H.join(" ")}:function(H){return H.join(" ")},S.map(g)},fu.splitTextToSize=function(r,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var S=this.internal.getFont(y.fontName,y.fontStyle),k="Unicode";return S.metadata[k]?{widths:S.metadata[k].widths||{0:1},kerning:S.metadata[k].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(r)?r:String(r).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var u,f,g=[];for(u=0,f=s.length;u<f;u++)g=g.concat(C1.apply(this,[s[u],h,o]));return g},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},o=0;o<16;o++)s[t[o]]=e[o],a[e[o]]=t[o];var h=function(k){return"0x"+parseInt(k,10).toString(16)},u=r.__fontmetrics__.compress=function(k){var w,C,L,T,P=["{"];for(var z in k){if(w=k[z],isNaN(parseInt(z,10))?C="'"+z+"'":(z=parseInt(z,10),C=(C=h(z).slice(2)).slice(0,-1)+a[C.slice(-1)]),typeof w=="number")w<0?(L=h(w).slice(3),T="-"):(L=h(w).slice(2),T=""),L=T+L.slice(0,-1)+a[L.slice(-1)];else{if(pr(w)!=="object")throw new Error("Don't know what to do with value type "+pr(w)+".");L=u(w)}P.push(C+L)}return P.push("}"),P.join("")},f=r.__fontmetrics__.uncompress=function(k){if(typeof k!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,C,L,T,P={},z=1,G=P,H=[],de="",be="",we=k.length-1,ae=1;ae<we;ae+=1)(T=k[ae])=="'"?w?(L=w.join(""),w=void 0):w=[]:w?w.push(T):T=="{"?(H.push([G,L]),G={},L=void 0):T=="}"?((C=H.pop())[0][C[1]]=G,L=void 0,G=C[0]):T=="-"?z=-1:L===void 0?s.hasOwnProperty(T)?(de+=s[T],L=parseInt(de,16)*z,z=1,de=""):de+=T:s.hasOwnProperty(T)?(be+=s[T],G[L]=parseInt(be,16)*z,z=1,L=void 0,be=""):be+=T;return P},g={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:g,"Courier-Bold":g,"Courier-BoldOblique":g,"Courier-Oblique":g,Helvetica:g,"Helvetica-Bold":g,"Helvetica-BoldOblique":g,"Helvetica-Oblique":g,"Times-Roman":g,"Times-Bold":g,"Times-BoldItalic":g,"Times-Italic":g}},S={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(k){var w=k.font,C=S.Unicode[w.postScriptName];C&&(w.metadata.Unicode={},w.metadata.Unicode.widths=C.widths,w.metadata.Unicode.kerning=C.kerning);var L=y.Unicode[w.postScriptName];L&&(w.metadata.Unicode.encoding=L,w.encoding=L.codePages[0])}])})(ut.API),(function(r){var e=function(t){for(var s=t.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=t.charCodeAt(o);return a};r.API.events.push(["addFont",function(t){var s=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(dh(u)),h.metadata=r.API.TTFFont.open(u),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,s)}}])})(ut),ut.API.addSvgAsImage=function(r,e,t,s,a,o,h,u){if(isNaN(e)||isNaN(t))throw _r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw _r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var g=f.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(Lt.canvg?Promise.resolve(Lt.canvg):hh(()=>import("./index.es-D5RbbJxQ.js"),[])).catch(function(k){return Promise.reject(new Error("Could not load canvg: "+k))}).then(function(k){return k.default?k.default:k}).then(function(k){return k.fromString(g,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(y)}).then(function(){S.addImage(f.toDataURL("image/jpeg",1),e,t,s,a,h,u)})},ut.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},ut.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var s,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(h),f=[],g=0,y=0,S=0;function k(C,L){var T,P=!1;for(T=0;T<C.length;T+=1)C[T]===L&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var w=u.length;for(S=0;S<w;S+=1)t[u[S]].value=t[u[S]].defaultValue,t[u[S]].explicitSet=!1}if(pr(r)==="object"){for(a in r)if(o=r[a],k(u,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&k(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(g=0;g<o.length;g+=1)if(s=!0,o[g].length===1&&typeof o[g][0]=="number")f.push(String(o[g]-1));else if(o[g].length>1){for(y=0;y<o[g].length;y+=1)typeof o[g][y]!="number"&&(s=!1);s===!0&&f.push([o[g][0]-1,o[g][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,L=[];for(C in t)t[C].explicitSet===!0&&(t[C].type==="name"?L.push("/"+C+" /"+t[C].value):L.push("/"+C+" "+t[C].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),g=o.length+h.length+u.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+u+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(ut.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,h){for(var u,f=h.metadata.Unicode.widths,g=["","0","00","000","0000"],y=[""],S=0,k=o.length;S<k;++S){if(u=h.metadata.characterToGlyph(o.charCodeAt(S)),h.metadata.glyIdsUsed.push(u),h.metadata.toUnicode[u]=o.charCodeAt(S),f.indexOf(u)==-1&&(f.push(u),f.push([parseInt(h.metadata.widthOfGlyph(u),10)])),u=="0")return y.join("");u=u.toString(16),y.push(g[4-u.length],u)}return y.join("")},s=function(o){var h,u,f,g,y,S,k;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],S=0,k=(u=Object.keys(o).sort(function(w,C){return w-C})).length;S<k;S++)h=u[S],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(g=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+g+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var u=h.font,f=h.out,g=h.newObject,y=h.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="Identity-H"){for(var S=u.metadata.Unicode.widths,k=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),w="",C=0;C<k.length;C++)w+=String.fromCharCode(k[C]);var L=g();y({data:w,addLength1:!0,objectId:L}),f("endobj");var T=g();y({data:s(u.metadata.toUnicode),addLength1:!0,objectId:T}),f("endobj");var P=g();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+vu(u.fontName)),f("/FontFile2 "+L+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),f("/Flags "+u.metadata.flags),f("/StemV "+u.metadata.stemV),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f(">>"),f("endobj");var z=g();f("<<"),f("/Type /Font"),f("/BaseFont /"+vu(u.fontName)),f("/FontDescriptor "+P+" 0 R"),f("/W "+r.API.PDFObject.convert(S)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+u.encoding+")"),f(">>"),f(">>"),f("endobj"),u.objectNumber=g(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+T+" 0 R"),f("/BaseFont /"+vu(u.fontName)),f("/Encoding /"+u.encoding),f("/DescendantFonts ["+z+" 0 R]"),f(">>"),f("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var u=h.font,f=h.out,g=h.newObject,y=h.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var S=u.metadata.rawData,k="",w=0;w<S.length;w++)k+=String.fromCharCode(S[w]);var C=g();y({data:k,addLength1:!0,objectId:C}),f("endobj");var L=g();y({data:s(u.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var T=g();f("<<"),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f("/StemV "+u.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+C+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),f("/FontName /"+vu(u.fontName)),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f(">>"),f("endobj"),u.objectNumber=g();for(var P=0;P<u.metadata.hmtx.widths.length;P++)u.metadata.hmtx.widths[P]=parseInt(u.metadata.hmtx.widths[P]*(1e3/u.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+vu(u.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),f("endobj"),u.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,u=o.text||"",f=o.x,g=o.y,y=o.options||{},S=o.mutex||{},k=S.pdfEscape,w=S.activeFontKey,C=S.fonts,L=w,T="",P=0,z="",G=C[L].encoding;if(C[L].encoding!=="Identity-H")return{text:u,x:f,y:g,options:y,mutex:S};for(z=u,L=w,Array.isArray(u)&&(z=u[0]),P=0;P<z.length;P+=1)C[L].metadata.hasOwnProperty("cmap")&&(h=C[L].metadata.cmap.unicode.codeMap[z[P].charCodeAt(0)]),h||z[P].charCodeAt(0)<256&&C[L].metadata.hasOwnProperty("Unicode")?T+=z[P]:T+="";var H="";return parseInt(L.slice(1))<14||G==="WinAnsiEncoding"?H=k(T,L).split("").map(function(de){return de.charCodeAt(0).toString(16)}).join(""):G==="Identity-H"&&(H=t(T,C[L])),S.isHex=!0,{text:H,x:f,y:g,options:y,mutex:S}};e.events.push(["postProcessText",function(o){var h=o.text||"",u=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var g=0;for(g=0;g<h.length;g+=1)Array.isArray(h[g])&&h[g].length===3?u.push([a(Object.assign({},f,{text:h[g][0]})).text,h[g][1],h[g][2]]):u.push(a(Object.assign({},f,{text:h[g]})).text);o.text=u}else o.text=a(Object.assign({},f,{text:h})).text}])})(ut),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(ut.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(s){var a,o,h,u,f,g,y,S=e,k=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),z=!1,G=0;this.__bidiEngine__={};var H=function(M){var $=M.charCodeAt(),te=$>>8,ee=L[te];return ee!==void 0?S[256*ee+(255&$)]:te===252||te===253?"AL":P.test(te)?"L":te===8?"R":"N"},de=function(M){for(var $,te=0;te<M.length;te++){if(($=H(M.charAt(te)))==="L")return!1;if($==="R")return!0}return!1},be=function(M,$,te,ee){var Se,Ee,Ne,Z,he=$[ee];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":z=!1;break;case"N":case"AN":break;case"EN":z&&(he="AN");break;case"AL":z=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":ee<1||ee+1>=$.length||(Se=te[ee-1])!=="EN"&&Se!=="AN"||(Ee=$[ee+1])!=="EN"&&Ee!=="AN"?he="N":z&&(Ee="AN"),he=Ee===Se?Ee:"N";break;case"ES":he=(Se=ee>0?te[ee-1]:"B")==="EN"&&ee+1<$.length&&$[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&te[ee-1]==="EN"){he="EN";break}if(z){he="N";break}for(Ne=ee+1,Z=$.length;Ne<Z&&$[Ne]==="ET";)Ne++;he=Ne<Z&&$[Ne]==="EN"?"EN":"N";break;case"NSM":if(h&&!u){for(Z=$.length,Ne=ee+1;Ne<Z&&$[Ne]==="NSM";)Ne++;if(Ne<Z){var ke=M[ee],K=ke>=1425&&ke<=2303||ke===64286;if(Se=$[Ne],K&&(Se==="R"||Se==="AL")){he="R";break}}}he=ee<1||(Se=$[ee-1])==="B"?"N":te[ee-1];break;case"B":z=!1,a=!0,he=G;break;case"S":o=!0,he="N"}return he},we=function(M,$,te){var ee=M.split("");return te&&ae(ee,te,{hiLevel:G}),ee.reverse(),$&&$.reverse(),ee.join("")},ae=function(M,$,te){var ee,Se,Ee,Ne,Z,he=-1,ke=M.length,K=0,N=[],U=G?w:k,J=[];for(z=!1,a=!1,o=!1,Se=0;Se<ke;Se++)J[Se]=H(M[Se]);for(Ee=0;Ee<ke;Ee++){if(Z=K,N[Ee]=be(M,J,N,Ee),ee=240&(K=U[Z][C[N[Ee]]]),K&=15,$[Ee]=Ne=U[K][5],ee>0)if(ee===16){for(Se=he;Se<Ee;Se++)$[Se]=1;he=-1}else he=-1;if(U[K][6])he===-1&&(he=Ee);else if(he>-1){for(Se=he;Se<Ee;Se++)$[Se]=Ne;he=-1}J[Ee]==="B"&&($[Ee]=0),te.hiLevel|=Ne}o&&(function(Q,ne,ue){for(var me=0;me<ue;me++)if(Q[me]==="S"){ne[me]=G;for(var _e=me-1;_e>=0&&Q[_e]==="WS";_e--)ne[_e]=G}})(J,$,ke)},Y=function(M,$,te,ee,Se){if(!(Se.hiLevel<M)){if(M===1&&G===1&&!a)return $.reverse(),void(te&&te.reverse());for(var Ee,Ne,Z,he,ke=$.length,K=0;K<ke;){if(ee[K]>=M){for(Z=K+1;Z<ke&&ee[Z]>=M;)Z++;for(he=K,Ne=Z-1;he<Ne;he++,Ne--)Ee=$[he],$[he]=$[Ne],$[Ne]=Ee,te&&(Ee=te[he],te[he]=te[Ne],te[Ne]=Ee);K=Z}K++}}},pe=function(M,$,te){var ee=M.split(""),Se={hiLevel:G};return te||(te=[]),ae(ee,te,Se),(function(Ee,Ne,Z){if(Z.hiLevel!==0&&y)for(var he,ke=0;ke<Ee.length;ke++)Ne[ke]===1&&(he=T.indexOf(Ee[ke]))>=0&&(Ee[ke]=T[he+1])})(ee,te,Se),Y(2,ee,$,te,Se),Y(1,ee,$,te,Se),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(M,$,te){if((function(Se,Ee){if(Ee)for(var Ne=0;Ne<Se.length;Ne++)Ee[Ne]=Ne;u===void 0&&(u=de(Se)),g===void 0&&(g=de(Se))})(M,$),h||!f||g)if(h&&f&&u^g)G=u?1:0,M=we(M,$,te);else if(!h&&f&&g)G=u?1:0,M=pe(M,$,te),M=we(M,$);else if(!h||u||f||g){if(h&&!f&&u^g)M=we(M,$),u?(G=0,M=pe(M,$,te)):(G=1,M=pe(M,$,te),M=we(M,$));else if(h&&u&&!f&&g)G=1,M=pe(M,$,te),M=we(M,$);else if(!h&&!f&&u^g){var ee=y;u?(G=1,M=pe(M,$,te),G=0,y=!1,M=pe(M,$,te),y=ee):(G=0,M=pe(M,$,te),M=we(M,$),G=1,y=!1,M=pe(M,$,te),y=ee,M=we(M,$))}}else G=0,M=pe(M,$,te);else G=u?1:0,M=pe(M,$,te);return M},this.__bidiEngine__.setOptions=function(M){M&&(h=M.isInputVisual,f=M.isOutputVisual,u=M.isInputRtl,g=M.isOutputRtl,y=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(h=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?h.push([t.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):h.push([t.doBidiReorder(a[u])]);s.text=h}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(ut),ut.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Bo(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new A_(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new f_(this.contents),this.head=new p_(this),this.name=new w_(this),this.cmap=new J2(this),this.toUnicode={},this.hhea=new g_(this),this.maxp=new b_(this),this.hmtx=new __(this),this.post=new v_(this),this.os2=new m_(this),this.loca=new N_(this),this.glyf=new x_(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,s,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,u,f,g;for(g=[],h=0,u=(f=this.bbox).length;h<u;h++)e=f[h],g.push(Math.round(e*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,s){var a,o,h,u;for(h=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)a=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return h*(t/1e3)},r.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},r})();var $s,Bo=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},r.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,s,a,o,h,u,f;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),u=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^u)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*o+65536*h+256*u+f},r.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},r.prototype.write=function(e){var t,s,a,o;for(o=[],s=0,a=e.length;s<a;s++)t=e[s],o.push(this.writeByte(t));return o},r})(),f_=(function(){var r;function e(t){var s,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,o,h,u,f,g,y,S,k,w,C,L;for(L in w=Object.keys(t).length,f=Math.log(2),S=16*Math.floor(Math.log(w)/f),h=Math.floor(S/f),y=16*w-S,(a=new Bo).writeInt(this.scalarType),a.writeShort(w),a.writeShort(S),a.writeShort(h),a.writeShort(y),o=16*w,g=a.pos+o,u=null,C=[],t)for(k=t[L],a.writeString(L),a.writeInt(r(k)),a.writeInt(g),a.writeInt(k.length),C=C.concat(k),L==="head"&&(u=g),g+=k.length;g%4;)C.push(0),g++;return a.write(C),s=2981146554-r(a.data),a.pos=u+8,a.writeUInt32(s),a.data},r=function(t){var s,a,o,h;for(t=Y2.call(t);t.length%4;)t.push(0);for(o=new Bo(t),a=0,s=0,h=t.length;s<h;s=s+=4)a+=o.readUInt32();return 4294967295&a},e})(),d_={}.hasOwnProperty,da=function(r,e){for(var t in e)d_.call(e,t)&&(r[t]=e[t]);function s(){this.constructor=r}return s.prototype=e.prototype,r.prototype=new s,r.__super__=e.prototype,r};$s=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var p_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Bo).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),D1=(function(){function r(e,t){var s,a,o,h,u,f,g,y,S,k,w,C,L,T,P,z,G;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),S=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(w=e.readUInt16(),k=w/2,e.pos+=6,o=(function(){var H,de;for(de=[],f=H=0;0<=k?H<k:H>k;f=0<=k?++H:--H)de.push(e.readUInt16());return de})(),e.pos+=2,L=(function(){var H,de;for(de=[],f=H=0;0<=k?H<k:H>k;f=0<=k?++H:--H)de.push(e.readUInt16());return de})(),g=(function(){var H,de;for(de=[],f=H=0;0<=k?H<k:H>k;f=0<=k?++H:--H)de.push(e.readUInt16());return de})(),y=(function(){var H,de;for(de=[],f=H=0;0<=k?H<k:H>k;f=0<=k?++H:--H)de.push(e.readUInt16());return de})(),a=(this.length-e.pos+this.offset)/2,u=(function(){var H,de;for(de=[],f=H=0;0<=a?H<a:H>a;f=0<=a?++H:--H)de.push(e.readUInt16());return de})(),f=P=0,G=o.length;P<G;f=++P)for(T=o[f],s=z=C=L[f];C<=T?z<=T:z>=T;s=C<=T?++z:--z)y[f]===0?h=s+g[f]:(h=u[y[f]/2+(s-C)-(k-f)]||0)!==0&&(h+=g[f]),this.codeMap[s]=65535&h}e.pos=S}return r.encode=function(e,t){var s,a,o,h,u,f,g,y,S,k,w,C,L,T,P,z,G,H,de,be,we,ae,Y,pe,M,$,te,ee,Se,Ee,Ne,Z,he,ke,K,N,U,J,Q,ne,ue,me,_e,je,Ue,He;switch(ee=new Bo,h=Object.keys(e).sort(function($e,ot){return $e-ot}),t){case"macroman":for(L=0,T=(function(){var $e=[];for(C=0;C<256;++C)$e.push(0);return $e})(),z={0:0},o={},Se=0,he=h.length;Se<he;Se++)z[_e=e[a=h[Se]]]==null&&(z[_e]=++L),o[a]={old:e[a],new:z[e[a]]},T[a]=z[e[a]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(T),{charMap:o,subtable:ee.data,maxGlyphID:L+1};case"unicode":for($=[],S=[],G=0,z={},s={},P=g=null,Ee=0,ke=h.length;Ee<ke;Ee++)z[de=e[a=h[Ee]]]==null&&(z[de]=++G),s[a]={old:de,new:z[de]},u=z[de]-a,P!=null&&u===g||(P&&S.push(P),$.push(a),g=u),P=a;for(P&&S.push(P),S.push(65535),$.push(65535),pe=2*(Y=$.length),ae=2*Math.pow(Math.log(Y)/Math.LN2,2),k=Math.log(ae/2)/Math.LN2,we=2*Y-ae,f=[],be=[],w=[],C=Ne=0,K=$.length;Ne<K;C=++Ne){if(M=$[C],y=S[C],M===65535){f.push(0),be.push(0);break}if(M-(te=s[M].new)>=32768)for(f.push(0),be.push(2*(w.length+Y-C)),a=Z=M;M<=y?Z<=y:Z>=y;a=M<=y?++Z:--Z)w.push(s[a].new);else f.push(te-M),be.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*Y+2*w.length),ee.writeUInt16(0),ee.writeUInt16(pe),ee.writeUInt16(ae),ee.writeUInt16(k),ee.writeUInt16(we),ue=0,N=S.length;ue<N;ue++)a=S[ue],ee.writeUInt16(a);for(ee.writeUInt16(0),me=0,U=$.length;me<U;me++)a=$[me],ee.writeUInt16(a);for(je=0,J=f.length;je<J;je++)u=f[je],ee.writeUInt16(u);for(Ue=0,Q=be.length;Ue<Q;Ue++)H=be[Ue],ee.writeUInt16(H);for(He=0,ne=w.length;He<ne;He++)L=w[He],ee.writeUInt16(L);return{charMap:s,subtable:ee.data,maxGlyphID:G+1}}},r})(),J2=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new D1(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=D1.encode(e,t),(a=new Bo).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},r})(),g_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),m_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),v_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="post",r.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var h,u,f;for(f=[],o=h=0,u=this.file.maxp.numGlyphs;0<=u?h<u:h>u;o=0<=u?++h:--h)f.push(e.readUInt32());return f}).call(this)}},r})(),y_=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},w_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="name",r.prototype.parse=function(e){var t,s,a,o,h,u,f,g,y,S,k;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(f={},o=y=0,S=s.length;y<S;o=++y)a=s[o],e.pos=a.offset,g=e.readString(a.length),h=new y_(g,a),f[k=a.nameID]==null&&(f[k]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),b_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),__=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,s,a,o,h,u,f;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var g,y;for(y=[],t=g=0;0<=a?g<a:g>a;t=0<=a?++g:--g)y.push(e.readInt16());return y})(),this.widths=(function(){var g,y,S,k;for(k=[],g=0,y=(S=this.metrics).length;g<y;g++)o=S[g],k.push(o.advance);return k}).call(this),s=this.widths[this.widths.length-1],f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(this.widths.push(s));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),Y2=[].slice,x_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,s,a,o,h,u,f,g,y,S;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,h=(u=new Bo(t.read(a))).readShort(),g=u.readShort(),S=u.readShort(),f=u.readShort(),y=u.readShort(),this.cache[e]=h===-1?new k_(u,g,S,f,y):new S_(u,h,g,S,f,y),this.cache[e]))},r.prototype.encode=function(e,t,s){var a,o,h,u,f;for(h=[],o=[],u=0,f=t.length;u<f;u++)a=e[t[u]],o.push(h.length),a&&(h=h.concat(a.encode(s)));return o.push(h.length),{table:h,offsets:o}},r})(),S_=(function(){function r(e,t,s,a,o,h){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),k_=(function(){function r(e,t,s,a,o){var h,u;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;u=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&u;)h.pos+=1&u?4:2,128&u?h.pos+=8:64&u?h.pos+=4:8&u&&(h.pos+=2)}return r.prototype.encode=function(){var e,t,s;for(t=new Bo(Y2.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),N_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return da(r,$s),r.prototype.tag="loca",r.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<s.length;++h)if(s[h]=a,o<t.length&&t[o]==h){++o,s[h]=a;var u=this.offsets[h],f=this.offsets[h+1]-u;f>0&&(a+=f)}for(var g=new Array(4*s.length),y=0;y<s.length;++y)g[4*y+3]=255&s[y],g[4*y+2]=(65280&s[y])>>8,g[4*y+1]=(16711680&s[y])>>16,g[4*y]=(4278190080&s[y])>>24;return g},r})(),A_=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,s,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=a[s];return e},r.prototype.glyphsFor=function(e){var t,s,a,o,h,u,f;for(a={},h=0,u=e.length;h<u;h++)a[o=e[h]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(s=a[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))s=f[o],a[o]=s;return a},r.prototype.encode=function(e,t){var s,a,o,h,u,f,g,y,S,k,w,C,L,T,P;for(a in s=J2.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),w={0:0},P=s.charMap)w[(f=P[a]).old]=f.new;for(C in k=s.maxGlyphID,h)C in w||(w[C]=k++);return y=(function(z){var G,H;for(G in H={},z)H[z[G]]=G;return H})(w),S=Object.keys(y).sort(function(z,G){return z-G}),L=(function(){var z,G,H;for(H=[],z=0,G=S.length;z<G;z++)u=S[z],H.push(y[u]);return H})(),o=this.font.glyf.encode(h,L,w),g=this.font.loca.encode(o.offsets,L),T={cmap:this.font.cmap.raw(),glyf:o.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},r})();ut.API.PDFObject=(function(){var r;function e(){}return r=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,o,h;if(Array.isArray(t))return"["+(function(){var u,f,g;for(g=[],u=0,f=t.length;u<f;u++)s=t[u],g.push(e.convert(s));return g})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)h=t[a],o.push("/"+a+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+t},e})();const td=!0,E_=!1;function Bd(){if(typeof window>"u"||typeof document>"u")throw new Error("CertificateGenerator deve rodar no navegador (window/document ausentes).")}function rd(r,e){const t=String(r??"").trim();return t.length?t:e}async function L_(r){var h;Bd();const t=await(await fetch(r)).blob(),s=await createImageBitmap(t),a=document.createElement("canvas");a.width=s.width,a.height=s.height;const o=a.getContext("2d");if(!o)throw new Error("Canvas 2D indisponvel.");return o.clearRect(0,0,a.width,a.height),o.drawImage(s,0,0),(h=s.close)==null||h.call(s),a.toDataURL("image/png")}async function C_(r){Bd();const e=document.createElement("canvas");return e.width=256,e.height=256,await(await hh(async()=>{const{default:s}=await import("./browser-cvrvdZ_G.js").then(a=>a.b);return{default:s}},[])).default.toCanvas(e,r,{width:256,margin:1,errorCorrectionLevel:"M"}),e.toDataURL("image/png")}const X2=async(r,e,t,s)=>{try{Bd();const a=new ut({orientation:"landscape",unit:"mm",format:"a4"});a.setFillColor(255,255,255),a.rect(0,0,297,210,"F"),a.setTextColor(242,242,242),a.setFont("helvetica","bold"),a.setFontSize(140),a.text("ATIV",148.5,120,{align:"center",angle:45}),a.setDrawColor(245,158,11),a.setLineWidth(1.5),a.line(10,10,40,10),a.line(10,10,10,40),a.line(257,200,287,200),a.line(287,170,287,200),a.setTextColor(60,60,60),a.setFontSize(14),a.text("ATIV BRASIL",148.5,25,{align:"center"}),a.setFont("helvetica","bold"),a.setFontSize(18),a.text("ACADEMIA DE TTICAS E INTELIGNCIA DE VIGILNCIA",148.5,33,{align:"center"}),a.setFontSize(34),a.setTextColor(11,13,16),a.text("CERTIFICADO DE APERFEIOAMENTO",148.5,55,{align:"center"}),a.setFontSize(12),a.setFont("helvetica","normal"),a.setTextColor(100,100,100),a.text("CERTIFICAMOS, PARA OS DEVIDOS FINS DE COMPROVAO DE COMPETNCIA TCNICA, QUE",148.5,72,{align:"center"}),a.setFontSize(44),a.setFont("helvetica","bold"),a.setTextColor(11,13,16),a.text(rd(r==null?void 0:r.name,"OPERADOR").toUpperCase(),148.5,92,{align:"center"}),a.setFontSize(14),a.setFont("helvetica","normal"),a.text("CONCLUIU COM XITO O CURSO DE APERFEIOAMENTO TTICO EM:",148.5,108,{align:"center"}),a.setFontSize(22),a.setTextColor(245,158,11),a.setFont("helvetica","bold"),a.text(rd(e==null?void 0:e.title,"TREINAMENTO").toUpperCase(),148.5,122,{align:"center",maxWidth:220}),a.setFillColor(248,249,251),a.rect(30,135,237,20,"F"),a.setFontSize(9),a.setTextColor(120,120,120),a.setFont("helvetica","normal"),a.text("EMENTA TCNICA E COMPETNCIAS AVALIADAS:",35,140);const o=rd(e==null?void 0:e.technical_skills,"Doutrina Operacional e Protocolos de Inteligncia");if(a.setTextColor(11,13,16),a.setFont("helvetica","bold"),a.text(o.toUpperCase(),35,149,{maxWidth:225}),a.setDrawColor(20,20,20),a.setLineWidth(.5),a.line(98,178,198,178),a.setFontSize(11),a.setTextColor(11,13,16),a.setFont("helvetica","bold"),a.text("TENENTE ALEX ANDREOLI DANTAS",148.5,184,{align:"center"}),a.setFontSize(9),a.setFont("helvetica","normal"),a.text("DIRETOR DE INSTRUO E TTICA | RE: 953118-1",148.5,189,{align:"center"}),!E_)try{const h=`ATIV-VALID-${t}`;td&&console.log("[CERT] QR text:",h);const u=await C_(h);td&&console.log("[CERT] QR dataURL length:",u.length);const f=await L_(u);td&&console.log("[CERT] QR normalized OK. length:",f.length),a.addImage(f,"PNG",20,168,28,28)}catch(h){throw console.error("[CERT] QR failed:",h),h}a.save(`Certificado_ATIV_${t}.pdf`)}catch(a){throw console.error("[CERTIFICATE_GENERATOR_ERROR]",a),new Error(`Falha ao gerar o certificado: ${(a==null?void 0:a.message)||a}`)}},P_=({book:r,user:e,onClose:t})=>{const s=r.quiz_data||[],a=Array.isArray(s)?s.map(L=>({q:L.q||L.pergunta||"Questo sem texto",options:L.options||L.opcoes||[],correct:L.correct!==void 0?L.correct:L.resposta_correta==="A"?0:L.resposta_correta==="B"?1:L.resposta_correta==="C"?2:3})):[],[o,h]=Ft.useState(0),[u,f]=Ft.useState([]),[g,y]=Ft.useState(!1),[S,k]=Ft.useState(!1);if(a.length===0)return R.jsxs("div",{className:"p-8 text-center bg-graphite-800 rounded-2xl border border-amber-500/30 animate-fade-in",children:[R.jsx(Hm,{className:"text-amber-500 mx-auto mb-4",size:48}),R.jsx("h3",{className:"text-white font-bold uppercase mb-2 text-sm",children:"Dados no localizados"}),R.jsx("p",{className:"text-text-muted text-[10px] mb-6",children:"Este manual ainda no possui um questionrio ttico configurado no Comando."}),R.jsx(kl,{onClick:t,variant:"secondary",children:"Voltar ao Manual"})]});const w=L=>{if(S)return;const T=[...u,L];f(T),o<a.length-1?h(o+1):C(T)},C=async L=>{k(!0);let T=0;a.forEach((H,de)=>{H.correct===L[de]&&T++});const P=Math.round(T/a.length*100),z=P>=90,G=z?`ATIV-${Math.random().toString(36).substring(2,10).toUpperCase()}`:null;try{const{error:H}=await rn.from("user_exams").insert([{user_id:e.id,ebook_id:r.id,score:P,status:z?"approved":"failed",cert_code:G}]);if(H)throw H}catch(H){console.error("[USER_EXAMS_INSERT_ERROR]",H),alert("ERRO: no foi possvel registrar seu resultado no banco. Tente novamente."),k(!1);return}if(z&&G){try{const{error:H}=await rn.from("messages").insert([{full_name:"SISTEMA DE INTELIGNCIA",email:e.email,subject:"ALERTA: NOVA CERTIFICAO EMITIDA",content:`O Operador ${e.name} conquistou o Certificado de Elite no manual "${r.title}". Nota: ${P}%. Cdigo: ${G}.`}]);if(H)throw H}catch(H){console.error("[MESSAGES_INSERT_ERROR]",H)}try{await X2(e,r,G,new Date().toISOString())}catch(H){console.error("[CERTIFICATE_GENERATION_ERROR]",H),alert("Seu exame foi aprovado e registrado, porm o certificado falhou ao gerar no navegador. Tente novamente ou me envie o erro do Console.")}}y(!0),k(!1)};if(g){const L=u.filter((z,G)=>z===a[G].correct).length,T=Math.round(L/a.length*100),P=T>=90;return R.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center space-y-6 animate-fade-in bg-graphite-800 rounded-2xl border border-graphite-700",children:[P?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"w-16 h-16 bg-green-500/20 text-green-500 rounded-full flex items-center justify-center shadow-glow",children:R.jsx(Zg,{size:32})}),R.jsx("h2",{className:"text-xl font-display font-bold text-white uppercase tracking-tighter",children:"Certificao Aprovada"}),R.jsx("p",{className:"text-text-secondary text-xs italic",children:"O Comando foi notificado. Se o PDF no baixou, verifique o bloqueador de pop-up/download."})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"w-16 h-16 bg-red-500/20 text-red-500 rounded-full flex items-center justify-center",children:R.jsx(lm,{size:32})}),R.jsxs("h2",{className:"text-xl font-display font-bold text-white uppercase tracking-tighter",children:["Reprovado (",T,"%)"]}),R.jsx("p",{className:"text-text-secondary text-xs",children:"O padro de elite exige 90%. Estude o manual novamente."})]}),R.jsx(kl,{onClick:t,variant:"secondary",children:"Retornar ao Acervo"})]})}return R.jsxs("div",{className:"max-w-2xl w-full mx-auto p-6 space-y-8 animate-fade-in-up bg-graphite-800 rounded-2xl border border-graphite-700 shadow-2xl",children:[R.jsxs("div",{className:"flex items-center justify-between border-b border-graphite-700 pb-4",children:[R.jsxs("div",{className:"flex items-center gap-2 text-amber-500 font-black text-[10px] uppercase",children:[R.jsx(Ah,{size:14})," Questo ",o+1," de ",a.length]}),R.jsx("div",{className:"h-1.5 w-32 bg-graphite-700 rounded-full overflow-hidden",children:R.jsx("div",{className:"h-full bg-amber-500 transition-all duration-500",style:{width:`${(o+1)/a.length*100}%`}})})]}),R.jsx("h3",{className:"text-lg md:text-xl font-bold text-text-primary leading-tight",children:a[o].q}),R.jsx("div",{className:"grid grid-cols-1 gap-3",children:a[o].options.map((L,T)=>R.jsxs("button",{disabled:S,onClick:()=>w(T),className:"w-full text-left p-4 rounded-xl bg-black/40 border border-graphite-600 hover:border-amber-500 transition-all text-sm text-text-secondary hover:text-white flex items-center justify-between group disabled:opacity-50 disabled:cursor-not-allowed",children:[R.jsx("span",{children:L}),R.jsx(Xg,{size:16,className:"text-graphite-600 group-hover:text-amber-500 opacity-0 group-hover:opacity-100 transition-all"})]},T))}),S&&R.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-500 text-[10px] font-bold uppercase italic animate-pulse",children:[R.jsx(Ld,{size:14,className:"animate-spin"})," Sincronizando com o Comando..."]})]})},j_=({book:r,user:e,onClose:t})=>{const[s,a]=Ft.useState(!1),o=r.quiz_data&&Array.isArray(r.quiz_data)&&r.quiz_data.length>0;return R.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col animate-fade-in",children:[R.jsxs("header",{className:"bg-graphite-800 border-b border-graphite-700 p-4 flex items-center justify-between shadow-2xl shrink-0",children:[R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("button",{onClick:t,className:"bg-black/20 hover:bg-amber-500 hover:text-black p-2 rounded-full transition-all text-text-muted",children:R.jsx(Eh,{size:24})}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-amber-500 font-display font-bold uppercase text-sm tracking-tight",children:r.title}),R.jsxs("p",{className:"text-[9px] text-text-muted uppercase font-bold",children:["Operador: ",e.name]})]})]}),o&&!s&&R.jsxs("button",{className:"bg-amber-500 hover:bg-amber-600 text-black px-4 py-2 rounded-lg font-bold text-[10px] uppercase flex items-center gap-2 shadow-glow transition-all active:scale-95 animate-pulse",onClick:()=>a(!0),children:[R.jsx(fm,{size:16})," Iniciar Avaliao"]}),s&&R.jsxs("button",{className:"text-text-muted hover:text-white flex items-center gap-2 text-[10px] font-black uppercase",onClick:()=>a(!1),children:[R.jsx(Nh,{size:16})," Voltar ao Manual"]})]}),R.jsx("div",{className:"flex-1 bg-black-900 overflow-hidden",children:s?R.jsx("div",{className:"h-full flex items-center justify-center",children:R.jsx(P_,{book:r,user:e,onClose:t})}):R.jsx("iframe",{srcDoc:r.content,title:r.title,className:"w-full h-full border-none bg-white",sandbox:"allow-scripts allow-same-origin"})})]})},T_=()=>{const[r,e]=Ft.useState([]),[t,s]=Ft.useState(!0),[a,o]=Ft.useState(""),h=async()=>{s(!0);const{data:g,error:y}=await rn.from("profiles").select("*").order("created_at",{ascending:!1});!y&&g&&e(g),s(!1)};Ft.useEffect(()=>{h()},[]);const u=async(g,y)=>{const S=y==="active"?"blocked":"active",{error:k}=await rn.from("profiles").update({status:S}).eq("id",g);k||h()},f=r.filter(g=>{var y;return(y=g.full_name)==null?void 0:y.toLowerCase().includes(a.toLowerCase())});return R.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[R.jsx("div",{className:"flex items-center justify-between",children:R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-display font-bold text-text-primary uppercase tracking-tight",children:"Controle de Operadores"}),R.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-[0.2em] font-bold",children:"Gesto de acessos e hierarquia do sistema"})]})}),R.jsxs("div",{className:"relative w-full",children:[R.jsx(q1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted w-4 h-4"}),R.jsx("input",{type:"text",placeholder:"Buscar operador por nome...",value:a,onChange:g=>o(g.target.value),className:"w-full bg-graphite-800 border border-graphite-700 rounded-lg py-3 pl-10 pr-4 text-sm text-text-primary focus:border-amber-500 outline-none"})]}),R.jsx("div",{className:"bg-graphite-800 border border-graphite-700 rounded-2xl overflow-hidden",children:R.jsxs("table",{className:"w-full text-left border-collapse",children:[R.jsx("thead",{children:R.jsxs("tr",{className:"bg-black/40 border-b border-graphite-700",children:[R.jsx("th",{className:"p-4 text-[10px] font-black text-amber-500 uppercase tracking-widest",children:"Operador"}),R.jsx("th",{className:"p-4 text-[10px] font-black text-amber-500 uppercase tracking-widest",children:"Nvel de Acesso"}),R.jsx("th",{className:"p-4 text-[10px] font-black text-amber-500 uppercase tracking-widest",children:"Status"}),R.jsx("th",{className:"p-4 text-[10px] font-black text-amber-500 uppercase tracking-widest text-right",children:"Aes"})]})}),R.jsx("tbody",{children:t?R.jsx("tr",{children:R.jsx("td",{colSpan:4,className:"p-10 text-center text-text-muted italic",children:"Sincronizando base de dados..."})}):f.length===0?R.jsx("tr",{children:R.jsx("td",{colSpan:4,className:"p-10 text-center text-text-muted",children:"Nenhum operador encontrado."})}):f.map(g=>{var y;return R.jsxs("tr",{className:"border-b border-graphite-700/50 hover:bg-black/20 transition-colors",children:[R.jsx("td",{className:"p-4",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-500/10 flex items-center justify-center text-amber-500 font-bold text-xs",children:((y=g.full_name)==null?void 0:y.charAt(0))||"U"}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-bold text-text-primary",children:g.full_name||"Usurio Sem Nome"}),R.jsxs("p",{className:"text-[9px] text-text-muted uppercase",children:["ID: ",g.id.substring(0,8)]})]})]})}),R.jsx("td",{className:"p-4",children:R.jsx("div",{className:"flex items-center gap-2",children:g.role==="admin_master"?R.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-red-500 bg-red-500/10 px-2 py-1 rounded",children:[R.jsx(Fm,{size:12})," COMANDO MASTER"]}):R.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-amber-500 bg-amber-500/10 px-2 py-1 rounded",children:[R.jsx(Ah,{size:12})," OPERADOR"]})})}),R.jsx("td",{className:"p-4",children:R.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-1 rounded ${g.status==="active"?"text-green-500 bg-green-500/10":"text-graphite-400 bg-graphite-700"}`,children:g.status==="active"?"Autorizado":"Bloqueado"})}),R.jsx("td",{className:"p-4 text-right",children:R.jsx("button",{onClick:()=>u(g.id,g.status),className:`p-2 rounded-lg transition-all ${g.status==="active"?"text-text-muted hover:text-red-500 hover:bg-red-500/10":"text-text-muted hover:text-green-500 hover:bg-green-500/10"}`,title:g.status==="active"?"Bloquear Acesso":"Autorizar Acesso",children:g.status==="active"?R.jsx(Jm,{size:18}):R.jsx(Gm,{size:18})})})]},g.id)})})]})})]})},O_=({onClose:r,onSave:e,initialData:t})=>{var y;const[s,a]=Ft.useState(!1),[o,h]=Ft.useState("settings"),[u,f]=Ft.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",category:(t==null?void 0:t.category)||"Mindset do Guerreiro",cover_url:(t==null?void 0:t.coverUrl)||"",tags:((y=t==null?void 0:t.tags)==null?void 0:y.join(", "))||"",read_time:(t==null?void 0:t.readTime)||"",level:(t==null?void 0:t.level)||"Bsico",status:(t==null?void 0:t.status)||"published",content_html:(t==null?void 0:t.content)||"",technical_skills:(t==null?void 0:t.technical_skills)||"",quiz_data:t!=null&&t.quiz_data?JSON.stringify(t.quiz_data,null,2):"[]"}),g=async S=>{S.preventDefault(),a(!0);try{let k=[];try{k=JSON.parse(u.quiz_data)}catch{throw new Error("FORMATO INVLIDO NO QUIZ: Verifique a sintaxe JSON.")}const w={title:u.title,description:u.description,category:u.category,cover_url:u.cover_url,read_time:u.read_time,level:u.level,status:u.status,content_html:u.content_html,technical_skills:u.technical_skills,tags:u.tags.split(",").map(C=>C.trim()).filter(C=>C!==""),quiz_data:k};await e(w)}catch(k){alert("FALHA NA MISSO: "+k.message)}finally{a(!1)}};return R.jsx("div",{className:"fixed inset-0 z-[999] bg-black/90 flex items-start justify-center pt-8 pb-8 px-4 overflow-y-auto no-scrollbar",children:R.jsxs("div",{className:"bg-graphite-800 border-2 border-amber-500 w-full max-w-5xl flex flex-col rounded-2xl shadow-[0_0_80px_rgba(0,0,0,1)] relative",children:[R.jsx("header",{className:"p-5 border-b border-graphite-700 bg-black/30 rounded-t-2xl",children:R.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-display font-bold text-amber-500 uppercase",children:t?"Editar Protocolo":"Novo Protocolo"}),R.jsx("p",{className:"text-[9px] text-text-muted uppercase tracking-widest font-bold",children:"Ambiente de Operao Desktop"})]}),R.jsxs("div",{className:"flex bg-black/40 p-1 rounded-xl border border-graphite-600 overflow-x-auto",children:[R.jsxs("button",{type:"button",onClick:()=>h("settings"),className:`flex items-center gap-2 px-4 md:px-6 py-2 rounded-lg text-[10px] font-black transition-all whitespace-nowrap ${o==="settings"?"bg-amber-500 text-black shadow-lg":"text-text-muted hover:text-white"}`,children:[R.jsx(nd,{size:14})," 1. CONFIGURAES"]}),R.jsxs("button",{type:"button",onClick:()=>h("content"),className:`flex items-center gap-2 px-4 md:px-6 py-2 rounded-lg text-[10px] font-black transition-all whitespace-nowrap ${o==="content"?"bg-amber-500 text-black shadow-lg":"text-text-muted hover:text-white"}`,children:[R.jsx(gm,{size:14})," 2. CONTEDO HTML"]}),R.jsxs("button",{type:"button",onClick:()=>h("quiz"),className:`flex items-center gap-2 px-4 md:px-6 py-2 rounded-lg text-[10px] font-black transition-all whitespace-nowrap ${o==="quiz"?"bg-amber-500 text-black shadow-lg":"text-text-muted hover:text-white"}`,children:[R.jsx(bm,{size:14})," 3. QUIZ TTICO"]})]}),R.jsx("button",{onClick:r,className:"p-2 text-text-muted hover:text-amber-500 transition-colors",children:R.jsx(Eh,{size:24})})]})}),R.jsxs("form",{onSubmit:g,className:"flex flex-col",children:[R.jsxs("div",{className:"p-8 max-h-[60vh] overflow-y-auto",children:[o==="settings"&&R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in",children:[R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-[10px] font-bold text-amber-500 uppercase mb-2",children:"Ttulo do Manual"}),R.jsx("input",{required:!0,type:"text",value:u.title,onChange:S=>f({...u,title:S.target.value}),className:"w-full bg-graphite-900 border border-graphite-600 rounded-lg p-3 text-sm text-white outline-none focus:border-amber-500"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-[10px] font-bold text-amber-500 uppercase mb-2",children:"Categoria"}),R.jsxs("select",{value:u.category,onChange:S=>f({...u,category:S.target.value}),className:"w-full bg-graphite-900 border border-graphite-600 rounded-lg p-3 text-sm text-white outline-none focus:border-amber-500 cursor-pointer",children:[R.jsx("option",{children:"Mindset do Guerreiro"}),R.jsx("option",{children:"Filosofia Ttica"}),R.jsx("option",{children:"Leis / Normas"}),R.jsx("option",{children:"Doutrina Operacional"}),R.jsx("option",{children:"Psicologia do Confronto"}),R.jsx("option",{children:"Liderana de Elite"}),R.jsx("option",{children:"Sobrevivncia & Resilincia"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-[10px] font-bold text-amber-500 uppercase mb-2",children:"Link da Capa"}),R.jsx("input",{type:"url",value:u.cover_url,onChange:S=>f({...u,cover_url:S.target.value}),className:"w-full bg-graphite-900 border border-graphite-600 rounded-lg p-3 text-sm text-white focus:border-amber-500 outline-none"})]})]}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-[10px] font-bold text-amber-500 uppercase mb-2",children:"Nvel"}),R.jsxs("select",{value:u.level,onChange:S=>f({...u,level:S.target.value}),className:"w-full bg-graphite-900 border border-graphite-600 rounded-lg p-3 text-sm text-white focus:border-amber-500 outline-none",children:[R.jsx("option",{value:"Bsico",children:"Bsico"}),R.jsx("option",{value:"Intermedirio",children:"Intermedirio"}),R.jsx("option",{value:"Avanado",children:"Avanado"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-[10px] font-bold text-amber-500 uppercase mb-2",children:"Tempo"}),R.jsx("input",{type:"text",value:u.read_time,onChange:S=>f({...u,read_time:S.target.value}),className:"w-full bg-graphite-900 border border-graphite-600 rounded-lg p-3 text-sm text-white focus:border-amber-500 outline-none"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-[10px] font-bold text-amber-500 uppercase mb-2",children:"Resumo para o Card"}),R.jsx("textarea",{rows:2,value:u.description,onChange:S=>f({...u,description:S.target.value}),className:"w-full bg-graphite-900 border border-graphite-600 rounded-lg p-3 text-sm text-white focus:border-amber-500 outline-none resize-none"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-[10px] font-bold text-amber-500 uppercase mb-1",children:"Ementa Tcnica / Competncias (Certificado)"}),R.jsx("textarea",{rows:2,value:u.technical_skills,onChange:S=>f({...u,technical_skills:S.target.value}),placeholder:"Ex: Leitura de Microexpresses  Protocolos FBI...",className:"w-full bg-graphite-900 border border-graphite-600 rounded-lg p-3 text-sm text-white focus:border-amber-500 outline-none resize-none"})]})]})]}),o==="content"&&R.jsx("div",{className:"h-full flex flex-col space-y-4 animate-fade-in",children:R.jsx("textarea",{required:!0,value:u.content_html,onChange:S=>f({...u,content_html:S.target.value}),className:"w-full bg-graphite-900 p-6 rounded-xl border border-graphite-600 text-sm font-mono text-amber-400 outline-none focus:border-amber-500 min-h-[300px]",placeholder:"Cole seu cdigo HTML aqui..."})}),o==="quiz"&&R.jsx("div",{className:"h-full flex flex-col space-y-4 animate-fade-in",children:R.jsx("textarea",{value:u.quiz_data,onChange:S=>f({...u,quiz_data:S.target.value}),className:"w-full bg-graphite-900 p-6 rounded-xl border border-graphite-600 text-sm font-mono text-blue-400 outline-none focus:border-amber-500 min-h-[300px]"})})]}),R.jsxs("footer",{className:"p-6 border-t border-graphite-700 bg-black/30 flex justify-end gap-4 rounded-b-2xl",children:[R.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 text-text-muted hover:text-white text-[10px] font-black uppercase",children:"Cancelar"}),R.jsx(kl,{type:"submit",disabled:s,className:"px-10 py-3 shadow-glow",children:s?R.jsx(Ld,{className:"animate-spin",size:18}):t?"ATUALIZAR MANUAL":"PUBLICAR MANUAL"})]})]})]})})},I_=()=>{const[r,e]=Ft.useState([]),[t,s]=Ft.useState(!0),[a,o]=Ft.useState(""),[h,u]=Ft.useState(!1),[f,g]=Ft.useState(null),y=async()=>{s(!0);const{data:C,error:L}=await rn.from("ebooks").select("*").order("created_at",{ascending:!1});!L&&C&&e(C.map(T=>({id:T.id,title:T.title,description:T.description,category:T.category,coverUrl:T.cover_url,tags:T.tags||[],content:T.content_html,readTime:T.read_time,level:T.level,status:T.status,quiz_data:T.quiz_data,createdAt:T.created_at,updatedAt:T.updated_at}))),s(!1)};Ft.useEffect(()=>{y()},[]);const S=async C=>{try{if(f){const{error:L}=await rn.from("ebooks").update({...C,updated_at:new Date().toISOString()}).eq("id",f.id);if(L)throw L;alert("PROTOCOLO ATUALIZADO NO ACERVO!")}else{const{error:L}=await rn.from("ebooks").insert([C]);if(L)throw L;alert("MISSO CUMPRIDA: Novo manual inserido!")}u(!1),g(null),y()}catch(L){console.error("Erro no Supabase:",L),alert("FALHA NA OPERAO: "+L.message)}},k=async(C,L)=>{const{error:T}=await rn.from("ebooks").update({status:L,updated_at:new Date().toISOString()}).eq("id",C);T||y()},w=r.filter(C=>C.title.toLowerCase().includes(a.toLowerCase()));return R.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[(h||f)&&R.jsx(O_,{initialData:f,onClose:()=>{u(!1),g(null)},onSave:S}),R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h2",{className:"text-2xl font-display font-bold text-text-primary uppercase tracking-tight",children:"Gesto de Acervo"}),R.jsx(kl,{variant:"primary",icon:R.jsx(Pm,{size:18}),onClick:()=>u(!0),children:"Novo Ebook"})]}),R.jsxs("div",{className:"relative w-full",children:[R.jsx(q1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted w-4 h-4"}),R.jsx("input",{type:"text",placeholder:"Buscar manual ou protocolo...",value:a,onChange:C=>o(C.target.value),className:"w-full bg-graphite-800 border border-graphite-700 rounded-lg py-3 pl-10 pr-4 text-sm text-text-primary focus:border-amber-500 outline-none"})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t?R.jsx("div",{className:"col-span-full py-20 text-center text-text-muted italic",children:"Sincronizando biblioteca ttica..."}):w.length===0?R.jsx("div",{className:"col-span-full py-20 text-center text-text-muted",children:"Nenhum ebook encontrado no banco de dados."}):w.map(C=>R.jsxs("div",{className:"bg-graphite-800 border border-graphite-700 rounded-xl overflow-hidden flex flex-col group hover:border-amber-500/30 transition-all shadow-lg",children:[R.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden bg-black-900",children:[R.jsx("img",{src:C.coverUrl,alt:C.title,className:"w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity"}),R.jsx("div",{className:"absolute top-3 right-3 flex gap-2",children:R.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase border ${C.status==="published"?"bg-green-500/10 text-green-500 border-green-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"}`,children:C.status==="published"?"Publicado":"Rascunho"})})]}),R.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[R.jsx("span",{className:"text-amber-500 text-[10px] font-bold uppercase tracking-widest mb-1",children:C.category}),R.jsx("h3",{className:"text-lg font-bold leading-tight mb-2 text-text-primary line-clamp-1",children:C.title}),R.jsx("p",{className:"text-xs text-text-muted line-clamp-2 mb-4",children:C.description}),R.jsxs("div",{className:"mt-auto pt-4 border-t border-graphite-700 flex items-center justify-between text-[10px] font-medium text-text-secondary uppercase",children:[R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx(Ed,{size:12})," ",C.readTime]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx(Nh,{size:12})," ",C.level]})]})]}),R.jsxs("div",{className:"bg-black-900/50 p-3 flex border-t border-graphite-700",children:[R.jsxs("button",{onClick:()=>g(C),className:"flex-1 flex items-center justify-center gap-2 text-[10px] font-bold uppercase text-text-muted hover:text-amber-500 transition-colors border-r border-graphite-700",children:[R.jsx(qm,{size:14})," Editar"]}),R.jsx("button",{onClick:()=>k(C.id,C.status==="published"?"draft":"published"),className:`flex-1 flex items-center justify-center gap-2 text-[10px] font-bold uppercase transition-colors ${C.status==="published"?"text-red-500/70 hover:text-red-500":"text-green-500/70 hover:text-green-500"}`,children:C.status==="published"?"Arquivar":"Publicar"})]})]},C.id))})]})},R_=()=>{const[r,e]=Ft.useState({totalEbooks:0,activeUsers:0,unreadMessages:0}),[t,s]=Ft.useState(!0),a=async()=>{s(!0);try{const{count:h}=await rn.from("ebooks").select("*",{count:"exact",head:!0}).eq("status","published"),{count:u}=await rn.from("profiles").select("*",{count:"exact",head:!0}),{count:f}=await rn.from("messages").select("*",{count:"exact",head:!0}).eq("is_read",!1);e({totalEbooks:h||0,activeUsers:u||0,unreadMessages:f||0})}finally{s(!1)}};Ft.useEffect(()=>{a()},[]);const o=[{label:"Ebooks Ativos",value:t?"--":r.totalEbooks,icon:R.jsx(Nh,{className:"text-amber-500",size:24}),desc:"Acervo publicado"},{label:"Operadores",value:t?"--":r.activeUsers,icon:R.jsx(z1,{className:"text-amber-500",size:24}),desc:"Acessos autorizados"},{label:"Novas Mensagens",value:t?"--":r.unreadMessages,icon:R.jsx(Cd,{className:"text-amber-500",size:24}),desc:"Aguardando processamento"}];return R.jsx("div",{className:"space-y-8 animate-fade-in-up",children:R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map((h,u)=>R.jsxs("div",{className:"bg-graphite-800 border border-graphite-700 p-6 rounded-2xl",children:[R.jsx("div",{className:"p-3 bg-black/40 rounded-xl border border-graphite-600 w-fit mb-4",children:h.icon}),R.jsx("h4",{className:"text-3xl font-display font-bold text-text-primary",children:h.value}),R.jsx("p",{className:"text-[10px] text-amber-500 font-black uppercase",children:h.label}),R.jsx("p",{className:"text-[10px] text-text-muted italic",children:h.desc})]},u))})})},F_=()=>{const[r,e]=Ft.useState([]),[t,s]=Ft.useState(!0),a=async()=>{s(!0);const{data:u,error:f}=await rn.from("messages").select("*").order("is_read",{ascending:!0}).order("created_at",{ascending:!1});!f&&u&&e(u),s(!1)};Ft.useEffect(()=>{a()},[]);const o=async(u,f)=>{const{error:g}=await rn.from("messages").update({is_read:!f}).eq("id",u);g||a()},h=async u=>{if(!confirm("Confirmar descarte definitivo?"))return;const{error:f}=await rn.from("messages").delete().eq("id",u);f||a()};return R.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-display font-bold text-text-primary uppercase tracking-tight",children:"Inbox Ttica"}),R.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-[0.2em] font-bold",children:"Gesto de Reportes Operacionais"})]}),R.jsx("div",{className:"space-y-4",children:t?R.jsx("div",{className:"py-20 text-center text-text-muted italic",children:"Sincronizando comunicaes..."}):r.map(u=>R.jsx("div",{className:`bg-graphite-800 border transition-all rounded-xl p-6 group ${u.is_read?"border-graphite-700 opacity-40":"border-amber-500 shadow-[0_0_20px_rgba(245,158,11,0.15)]"}`,children:R.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[R.jsxs("div",{className:"flex-1 space-y-3",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:`p-2 rounded-lg ${u.is_read?"bg-graphite-700 text-graphite-500":"bg-amber-500 text-black"}`,children:R.jsx(Xm,{size:16})}),R.jsxs("div",{children:[R.jsxs("h4",{className:`text-sm font-bold uppercase flex items-center gap-2 ${u.is_read?"text-text-muted":"text-text-primary"}`,children:[u.full_name,!u.is_read&&R.jsx("span",{className:"bg-amber-500 text-black text-[8px] px-1 rounded animate-pulse",children:"NOVO"})]}),R.jsx("p",{className:"text-[10px] text-text-muted",children:u.email})]})]}),R.jsxs("div",{className:`p-4 rounded-lg border ${u.is_read?"bg-black/10 border-graphite-700/50":"bg-black/40 border-amber-500/20"}`,children:[R.jsx("h5",{className:`text-xs font-black uppercase mb-1 ${u.is_read?"text-graphite-500":"text-amber-500"}`,children:u.subject}),R.jsx("p",{className:`text-sm leading-relaxed ${u.is_read?"text-text-muted":"text-text-secondary"}`,children:u.content})]}),R.jsx("div",{className:"flex items-center gap-4 text-[9px] text-text-muted uppercase font-bold",children:R.jsxs("span",{className:"flex items-center gap-1",children:[R.jsx(Ed,{size:12})," ",new Date(u.created_at).toLocaleString()]})})]}),R.jsxs("div",{className:"flex md:flex-col gap-2",children:[R.jsx("button",{onClick:()=>o(u.id,u.is_read),className:`p-3 rounded-xl transition-all ${u.is_read?"bg-amber-500 text-black":"text-amber-500 hover:bg-amber-500/10 border border-amber-500/30"}`,title:u.is_read?"Marcar como Pendente":"Marcar como Processado",children:u.is_read?R.jsx(am,{size:20}):R.jsx(cm,{size:20})}),R.jsx("button",{onClick:()=>h(u.id),className:"p-3 text-text-muted hover:text-red-500 hover:bg-red-500/10 rounded-xl transition-all",title:"Descartar",children:R.jsx($m,{size:20})})]})]})},u.id))})]})},M_=({user:r,onClose:e})=>{const[t,s]=Ft.useState("overview"),a=r.role==="admin_master",o=a||r.role==="admin_op",h=a||r.role==="admin_content";return R.jsxs("div",{className:"min-h-screen bg-black text-text-primary flex flex-col md:flex-row animate-fade-in",children:[R.jsxs("aside",{className:"w-full md:w-64 bg-graphite-800 border-r border-graphite-700 flex flex-col shadow-2xl",children:[R.jsxs("div",{className:"p-6 border-b border-graphite-700 flex items-center justify-between",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"font-display font-bold text-xl text-amber-500 uppercase tracking-tight",children:"Painel ADM"}),R.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-widest",children:r.role.replace("_"," ")})]}),R.jsx("button",{onClick:e,className:"md:hidden text-text-muted hover:text-amber-500 transition-colors",children:R.jsx(Zp,{size:20})})]}),R.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[R.jsxs("button",{onClick:()=>s("overview"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${t==="overview"?"bg-amber-500 text-black font-bold shadow-glow":"hover:bg-graphite-700 text-text-secondary"}`,children:[R.jsx(ym,{size:20})," Viso Geral"]}),o&&R.jsxs("button",{onClick:()=>s("users"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${t==="users"?"bg-amber-500 text-black font-bold shadow-glow":"hover:bg-graphite-700 text-text-secondary"}`,children:[R.jsx(z1,{size:20})," Usurios"]}),h&&R.jsxs("button",{onClick:()=>s("content"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${t==="content"?"bg-amber-500 text-black font-bold shadow-glow":"hover:bg-graphite-700 text-text-secondary"}`,children:[R.jsx(Nh,{size:20})," Contedo"]}),R.jsxs("button",{onClick:()=>s("inbox"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${t==="inbox"?"bg-amber-500 text-black font-bold shadow-glow":"hover:bg-graphite-700 text-text-secondary"}`,children:[R.jsx(Nm,{size:20})," Mensagens"]})]}),R.jsx("div",{className:"p-4 border-t border-graphite-700",children:R.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 text-text-muted hover:text-amber-500 transition-colors text-sm font-medium",children:[R.jsx(Zp,{size:18})," Voltar ao App"]})})]}),R.jsxs("main",{className:"flex-1 p-6 md:p-10 overflow-y-auto",children:[t==="overview"&&R.jsx(R_,{}),t==="users"&&R.jsx(T_,{}),t==="content"&&R.jsx(I_,{}),t==="inbox"&&R.jsx(F_,{})]})]})},D_=({user:r,onClose:e})=>{const[t,s]=Ft.useState(!1),[a,o]=Ft.useState({subject:"Reporte Operacional",content:""}),h=async u=>{u.preventDefault(),s(!0);try{const{error:f}=await rn.from("messages").insert([{full_name:r.name,email:r.email,subject:a.subject,content:a.content}]);if(f)throw f;alert("MENSAGEM ENVIADA: O Comando recebeu seu reporte."),e()}catch(f){console.error("Erro tcnico detalhado:",f),alert("FALHA TTICA: Erro de comunicao com o banco. Verifique se as polticas RLS foram aplicadas no Supabase.")}finally{s(!1)}};return R.jsx("div",{className:"fixed inset-0 z-[150] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-graphite-800 border-2 border-amber-500 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up",children:[R.jsxs("header",{className:"p-6 bg-black/40 border-b border-graphite-700 flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(Cd,{className:"text-amber-500",size:20}),R.jsx("h3",{className:"text-sm font-display font-bold text-text-primary uppercase tracking-widest",children:"Suporte Ttico"})]}),R.jsx("button",{onClick:e,className:"text-text-muted hover:text-white transition-colors",children:R.jsx(Eh,{size:20})})]}),R.jsxs("form",{onSubmit:h,className:"p-6 space-y-5",children:[R.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 p-3 rounded-lg flex items-center gap-3 mb-2",children:[R.jsx(Dm,{className:"text-amber-500",size:16}),R.jsx("p",{className:"text-[10px] text-amber-200/80 font-bold uppercase tracking-tight",children:"Canal direto com o Comando Master"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-[10px] font-bold text-amber-500 uppercase mb-2",children:"Assunto / Prioridade"}),R.jsxs("select",{value:a.subject,onChange:u=>o({...a,subject:u.target.value}),className:"w-full bg-black border border-graphite-600 rounded-lg p-3 text-sm text-white outline-none focus:border-amber-500 cursor-pointer",children:[R.jsx("option",{children:"Reporte Operacional"}),R.jsx("option",{children:"Dvida de Legislao"}),R.jsx("option",{children:"Sugesto de Contedo"}),R.jsx("option",{children:"Erro no Aplicativo"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-[10px] font-bold text-amber-500 uppercase mb-2",children:"Descrio Detalhada"}),R.jsx("textarea",{required:!0,rows:4,value:a.content,onChange:u=>o({...a,content:u.target.value}),className:"w-full bg-black border border-graphite-600 rounded-lg p-4 text-sm text-white outline-none focus:border-amber-500 resize-none",placeholder:"Descreva aqui sua solicitao..."})]}),R.jsx("footer",{className:"pt-2",children:R.jsx(kl,{type:"submit",disabled:t,fullWidth:!0,icon:R.jsx(Om,{size:18}),children:t?"PROCESSANDO...":"ENVIAR AO COMANDO"})})]})]})})},U_=({onLoginAction:r,authLoading:e,authError:t})=>{const[s,a]=Ft.useState(""),[o,h]=Ft.useState("");return R.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden bg-black",children:R.jsxs("div",{className:"w-full max-w-md bg-graphite-800/50 backdrop-blur-md border border-graphite-700 p-8 rounded-2xl shadow-2xl",children:[R.jsxs("div",{className:"flex flex-col items-center mb-6",children:[R.jsx(Ah,{className:"text-amber-500 w-12 h-12 mb-2"}),R.jsx("h1",{className:"text-2xl font-bold text-text-primary uppercase tracking-tighter",children:"Arquivos ATIV"}),R.jsx("p",{className:"text-xs text-text-muted italic",children:"Operao de Inteligncia Digital"})]}),R.jsxs("form",{onSubmit:u=>{u.preventDefault(),r(s,o)},className:"space-y-4",children:[R.jsx("input",{type:"email",required:!0,value:s,onChange:u=>a(u.target.value),className:"w-full bg-black border border-graphite-600 rounded-lg p-3 text-sm text-text-primary outline-none focus:border-amber-500",placeholder:"E-mail funcional"}),R.jsx("input",{type:"password",required:!0,value:o,onChange:u=>h(u.target.value),className:"w-full bg-black border border-graphite-600 rounded-lg p-3 text-sm text-text-primary outline-none focus:border-amber-500",placeholder:"Senha de acesso"}),t&&R.jsx("div",{className:"text-red-500 text-[10px] text-center uppercase font-bold",children:t}),R.jsx(kl,{type:"submit",fullWidth:!0,disabled:e,children:e?"AUTENTICANDO...":"ACESSAR SISTEMA"})]})]})})},B_=()=>{const[r,e]=Ft.useState(null),[t,s]=Ft.useState("home"),[a,o]=Ft.useState([]),[h,u]=Ft.useState(null),[f,g]=Ft.useState(!0),[y,S]=Ft.useState(null),[k,w]=Ft.useState(!1),C=async()=>{const{data:T,error:P}=await rn.from("ebooks").select("*").eq("status","published").order("created_at",{ascending:!1});!P&&T&&o(T.map(z=>({id:z.id,title:z.title,description:z.description,category:z.category,coverUrl:z.cover_url,tags:z.tags||[],content:z.content_html,readTime:z.read_time,level:z.level,quiz_data:z.quiz_data})))},L=async T=>{const{data:P,error:z}=await rn.from("profiles").select("*").eq("id",T.id).single();if(z||!P){S("Perfil no autorizado."),await rn.auth.signOut();return}e({id:P.id,name:P.email.split("@")[0],email:P.email,role:P.role}),await C(),g(!1)};return Ft.useEffect(()=>{rn.auth.getSession().then(({data:P})=>{var z;(z=P.session)!=null&&z.user?L(P.session.user):g(!1)});const{data:T}=rn.auth.onAuthStateChange((P,z)=>{z!=null&&z.user?L(z.user):(e(null),s("home"),g(!1))});return()=>T.subscription.unsubscribe()},[]),f?R.jsx("div",{className:"h-screen bg-black flex items-center justify-center",children:R.jsx(Ld,{className:"animate-spin text-amber-500",size:40})}):r?R.jsxs("div",{className:"bg-black min-h-screen text-text-primary relative",children:[t!=="admin"&&R.jsx(t5,{currentView:t,isLoggedIn:!0,onLogout:()=>rn.auth.signOut(),onNavigate:T=>{s(T),T!=="reader"&&u(null)},isAdmin:r.role!=="user"}),t==="home"&&R.jsxs("div",{className:"pt-24 px-6 max-w-7xl mx-auto space-y-10",children:[R.jsx("h2",{className:"text-2xl font-display font-bold text-amber-500 uppercase",children:"Acervo Ttico Disponvel"}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 pb-20",children:a.length===0?R.jsx("p",{className:"text-text-muted italic",children:"Nenhum protocolo publicado no momento."}):a.map(T=>R.jsx(r5,{book:T,onClick:P=>{u(P),s("reader")}},T.id))}),R.jsxs("button",{onClick:()=>w(!0),className:"fixed bottom-6 right-6 z-[100] bg-amber-500 hover:bg-amber-600 text-black p-4 rounded-full shadow-[0_0_20px_rgba(245,158,11,0.3)] transition-all hover:scale-110 active:scale-95 group",title:"Suporte Ttico",children:[R.jsx(Cd,{size:24}),R.jsx("span",{className:"absolute right-16 top-1/2 -translate-y-1/2 bg-graphite-800 text-amber-500 text-[10px] font-black uppercase px-3 py-1 rounded border border-amber-500/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"Falar com o Comando"})]})]}),k&&R.jsx(D_,{user:r,onClose:()=>w(!1)}),t==="reader"&&h&&R.jsx(j_,{book:h,user:r,onClose:()=>s("home")}),t==="admin"&&R.jsx(M_,{user:r,onClose:()=>s("home")})]}):R.jsx(U_,{onLoginAction:async(T,P)=>{S(null);const{error:z}=await rn.auth.signInWithPassword({email:T,password:P});z&&S(z.message)},authLoading:!1,authError:y})},Q2=document.getElementById("root");if(!Q2)throw new Error("Could not find root element to mount to");const q_=$g.createRoot(Q2);q_.render(R.jsx(Fg.StrictMode,{children:R.jsx(B_,{})}));export{pr as _,$_ as c,U1 as g};
